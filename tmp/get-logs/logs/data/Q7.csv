no,timestamp,shortSQL,fullSQL
1,1687759764068," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 20 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 20 OFFSET 0 "
2,1687761455024," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
3,1687761536024," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
4,1687761890924," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
5,1687761923004," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
6,1687761974137," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
7,1687762154840," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%022952007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%022952007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
8,1687762350380," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
9,1687762493268," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
10,1687762648706," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%1010cp-DM-7-23-radio%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%1010cp-DM-7-23-radio%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
11,1687763929508," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponCode LIKE '%022956007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponCode LIKE '%022956007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
12,1687764096611," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponCode LIKE '%022956007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponCode LIKE '%022956007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
13,1687764488853," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponCode LIKE '%022956007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponCode LIKE '%022956007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
14,1687764811726," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%022956007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%022956007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
15,1687765555119," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
16,1687765640797," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%1010cp-DM-7-23-radio%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%1010cp-DM-7-23-radio%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
17,1687766915375," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '86b02ca3-a865-40ac-af49-958eb6f2176c' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '86b02ca3-a865-40ac-af49-958eb6f2176c' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
18,1687767722058," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '77d5a94c-249e-4a2e-b7eb-b13bb418733b' AND l.couponCode LIKE '%111111111111111%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '77d5a94c-249e-4a2e-b7eb-b13bb418733b' AND l.couponCode LIKE '%111111111111111%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
19,1687767794491," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '77d5a94c-249e-4a2e-b7eb-b13bb418733b' AND l.couponCode LIKE '%111111111111111%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '77d5a94c-249e-4a2e-b7eb-b13bb418733b' AND l.couponCode LIKE '%111111111111111%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
20,1687768173480," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
21,1687768618227," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '77d5a94c-249e-4a2e-b7eb-b13bb418733b' AND l.couponName LIKE '%商品A　コード入力%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '77d5a94c-249e-4a2e-b7eb-b13bb418733b' AND l.couponName LIKE '%商品A　コード入力%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
22,1687826633914," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '77d5a94c-249e-4a2e-b7eb-b13bb418733b' AND l.couponCode LIKE '%111111111111111%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '77d5a94c-249e-4a2e-b7eb-b13bb418733b' AND l.couponCode LIKE '%111111111111111%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
23,1687826644002," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
24,1687826842076," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '77d5a94c-249e-4a2e-b7eb-b13bb418733b' AND l.couponCode LIKE '%111111111111111%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '77d5a94c-249e-4a2e-b7eb-b13bb418733b' AND l.couponCode LIKE '%111111111111111%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
25,1688024561546," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7f741a29-a41f-491f-a36d-251fe0cbc616' AND l.couponCode LIKE '%202301FCWD%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7f741a29-a41f-491f-a36d-251fe0cbc616' AND l.couponCode LIKE '%202301FCWD%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
26,1688024658377," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7f741a29-a41f-491f-a36d-251fe0cbc616' AND l.couponCode LIKE '%202306FCWD%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7f741a29-a41f-491f-a36d-251fe0cbc616' AND l.couponCode LIKE '%202306FCWD%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
27,1688024736637," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7f741a29-a41f-491f-a36d-251fe0cbc616' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7f741a29-a41f-491f-a36d-251fe0cbc616' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
28,1688025476843," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
29,1688025555004," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponName LIKE '%メンバーズファミリークーポン７月土日祝%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponName LIKE '%メンバーズファミリークーポン７月土日祝%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
30,1688025883313," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponName LIKE '%土日祝%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponName LIKE '%土日祝%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
31,1688349895632," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
32,1688350451683," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
33,1688350644106," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
34,1688350760127," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
35,1688350889081," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
36,1688351021672," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
37,1688351148887," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
38,1688351288795," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
39,1688351610287," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
40,1688352133675," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
41,1688352282654," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
42,1688352446745," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
43,1688365649510," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
44,1688612209778," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230601-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230601-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
45,1688716409756," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%pasona-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%pasona-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
46,1688716496396," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%【株式会社パソナグループ様】sampleクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%【株式会社パソナグループ様】sampleクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
47,1688716717534," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%【株式会社パソナグループ様】sampleクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%【株式会社パソナグループ様】sampleクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
48,1688717967726," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%【株式会社パソナグループ様】sampleクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%【株式会社パソナグループ様】sampleクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
49,1688720343428," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
50,1689127409376," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%awajiwestsyuyuscuola%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%awajiwestsyuyuscuola%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
51,1689205504909," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230601-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230601-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
52,1689758281930," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
53,1689759002891," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
54,1689759592233," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
55,1689825297771," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
56,1689835389270," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
57,1689835389737," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
58,1690187802380," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%awaji%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%awaji%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
59,1690334432086," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponName LIKE '%ゴーゴーカレー%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponName LIKE '%ゴーゴーカレー%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
60,1690334499586," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponName LIKE '%ゴーゴーカレー%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponName LIKE '%ゴーゴーカレー%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
61,1690334627886," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponName LIKE '%ゴーゴーカレー%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponName LIKE '%ゴーゴーカレー%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
62,1690771097719," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
63,1690771257859," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
64,1690855417636," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
65,1690855526157," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
66,1690856045915," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
67,1690857213058," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
68,1690858920485," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
69,1690859192527," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
70,1690859462666," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
71,1690859667561," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
72,1690859898559," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
73,1690860036799," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
74,1690860565046," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
75,1690861955588," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
76,1690862895991," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
77,1690864160006," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
78,1690864377213," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
79,1690864547751," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
80,1690864685051," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
81,1690864813151," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
82,1690864932067," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
83,1690868470314," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
84,1690868608470," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
85,1690868814433," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
86,1690869022093," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
87,1690875960433," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%00001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%00001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
88,1690875978343," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
89,1690876465639," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
90,1690876935705," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
91,1690880395550," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
92,1690888029800," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
93,1690889709541," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
94,1690938027341," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
95,1690938159163," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
96,1690938270884," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
97,1690942657380," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
98,1690943119881," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%ichibanya-50yen%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%ichibanya-50yen%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
99,1690943139958," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%ichibanya-50yen%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%ichibanya-50yen%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
100,1690943177061," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-50yen%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-50yen%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
101,1690943584612," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
102,1690943654377," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
103,1690947259267," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%50yen%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%50yen%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
104,1690947378007," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%50yen%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%50yen%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
105,1690947702008," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
106,1690948383282," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
107,1690951900203," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
108,1690954314164," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
109,1690954954899," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
110,1690954993418," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
111,1690958241735," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
112,1690958872254," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
113,1690961596661," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
114,1690977129810," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
115,1691023824288," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
116,1691032135580," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
117,1691032148323," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
118,1691041783971," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
119,1691109580519," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
120,1691377994416," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd4e3ccff-215e-4bf3-b85b-d120b1e75278' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd4e3ccff-215e-4bf3-b85b-d120b1e75278' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
121,1691380509209," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
122,1691395378169," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
123,1691470529234," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%028761007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%028761007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
124,1691471015452," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%028759007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%028759007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
125,1691476350262," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1012%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1012%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
126,1691476495805," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
127,1691476531265," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%028759007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%028759007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
128,1691476543226," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%1012%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%1012%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
129,1691476902746," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1012%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1012%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
130,1691486388413," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1012%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1012%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
131,1691487316771," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%028759007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%028759007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
132,1691496349346," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
133,1691496359186," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0002%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0002%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
134,1691544243787," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
135,1691544255995," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%028759007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%028759007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
136,1691544811903," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%028761007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%028761007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
137,1691569121308," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
138,1691583543782," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
139,1691627690552," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
140,1691627789492," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
141,1691629310940," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
142,1691629320000," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
143,1691637500211," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
144,1691991242176," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%Aeonsyuyuaman1%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%Aeonsyuyuaman1%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
145,1691991273396," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%Aeonsyuyu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%Aeonsyuyu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
146,1692148677178," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
147,1692148681654," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
148,1692169938715," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
149,1692177396473," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
150,1692177467271," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%Aeonfrench3%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%Aeonfrench3%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
151,1692233161677," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
152,1692233162205," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
153,1692246774029," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0002%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0002%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
154,1692246900946," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0002%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0002%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
155,1692251070250," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%Aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%Aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
156,1692251222931," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
157,1692251234371," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%Aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%Aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
158,1692251647230," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%insta%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%insta%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
159,1692274835617," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
160,1692337510819," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
161,1692582938533," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
162,1692582978373," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
163,1692689068007," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
164,1692699724413," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%samplecoupon-toppn%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%samplecoupon-toppn%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
165,1692699846073," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%samplecoupon-toppn%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%samplecoupon-toppn%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
166,1692772413724," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%nexcoeast-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%nexcoeast-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
167,1692776478458," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
168,1692776479748," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
169,1692857741454," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
170,1692876065113," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
171,1692918795149," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
172,1692930146609," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
173,1692938885540," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
174,1692945665249," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
175,1693185385480," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
176,1693186991298," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
177,1693189988023," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
178,1693210213609," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
179,1693280352965," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
180,1693385788343," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
181,1693450708830," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
182,1693482203805," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
183,1693522844378," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
184,1693532208687," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
185,1693532365209," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
186,1693532654528," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
187,1693537401694," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
188,1693537973806," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
189,1693538158064," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
190,1693538960334," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
191,1693539257291," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
192,1693542624060," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
193,1693542845699," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
194,1693542995114," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
195,1693543202509," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
196,1693543371486," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
197,1693549118588," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
198,1693549438585," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
199,1693549604171," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
200,1693550439621," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
201,1693551750911," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
202,1693552076111," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
203,1693617649910," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
204,1693617889851," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
205,1693619056004," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
206,1693806329722," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
207,1693961236984," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
208,1694128006039," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
209,1694167141559," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
210,1694386712605," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
211,1694397473892," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponCode LIKE '%gogoaiseki55%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponCode LIKE '%gogoaiseki55%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
212,1694402997186," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
213,1694417483125," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
214,1694418485256," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
215,1694418919036," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
216,1694420762854," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
217,1694421871585," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
218,1694425301707," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
219,1694425877543," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
220,1694478760951," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
221,1694482100014," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
222,1694502933786," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
223,1694503017665," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
224,1694509673775," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
225,1694574249877," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
226,1694574422374," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
227,1694594585403," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
228,1694658084487," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
229,1694665990962," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
230,1694678400525," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
231,1694734368756," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
232,1694758343839," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
233,1695085815898," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
234,1695086395074," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
235,1695088964339," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
236,1695089077103," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
237,1695093191828," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
238,1695093221301," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
239,1695094431011," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND o.name LIKE '%LUMINE立川店%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND o.name LIKE '%LUMINE立川店%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
240,1695100080497," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
241,1695120305312," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
242,1695204873381," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
243,1695343867861," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
244,1695367420559," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
245,1695369220869," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
246,1695389541289," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
247,1695389670550," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
248,1695390905112," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
249,1695391711083," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
250,1695605554688," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
251,1695605819751," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
252,1695605881570," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
253,1695606198778," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
254,1695608900756," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
255,1695609103859," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
256,1695611585178," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
257,1695615239618," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
258,1695615531312," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
259,1695631062686," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
260,1695642465605," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
261,1695689379373," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
262,1695696940247," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
263,1695730510255," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '9add13c4-5214-4027-8f08-3ce1365cd70b' AND l.couponName LIKE '%【本番】1F限定！200円OFFチケット%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '9add13c4-5214-4027-8f08-3ce1365cd70b' AND l.couponName LIKE '%【本番】1F限定！200円OFFチケット%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
264,1695730676309," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
265,1695772735291," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
266,1695775623530," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
267,1695775845690," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
268,1695776362492," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
269,1695776645521," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
270,1695777222535," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
271,1695780645651," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番】1F限定！200円OFFチケット%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番】1F限定！200円OFFチケット%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
272,1695781283378," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
273,1695784442623," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番】1F限定！200円OFFチケット%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番】1F限定！200円OFFチケット%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
274,1695785361776," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
275,1695786602481," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponCode LIKE '%lumine-tachikawa-cp2309%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponCode LIKE '%lumine-tachikawa-cp2309%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
276,1695790851128," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
277,1695793301337," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
278,1695796637843," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
279,1695797888589," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%２００%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%２００%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
280,1695797903548," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%２００%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%２００%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
281,1695797920408," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
282,1695804652675," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
283,1695813230408," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
284,1695816002845," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
285,1695860691002," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
286,1695863509869," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
287,1695866088870," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
288,1695870227605," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
289,1695870496655," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
290,1695872507751," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
291,1695873054449," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
292,1695880729485," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
293,1695889777523," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%２００%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%２００%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
294,1695889837782," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
295,1695891904672," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
296,1695892089974," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponName LIKE '%Aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponName LIKE '%Aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
297,1695892116034," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponName LIKE '%イオン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponName LIKE '%イオン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
298,1695893110253," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponName LIKE '%神戸生協%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponName LIKE '%神戸生協%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
299,1695944174993," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
300,1695946356541," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
301,1695962253030," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
302,1695972714729," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
303,1695972898262," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
304,1695978353831," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
305,1695978357672," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
306,1695988779108," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
307,1696033814768," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
308,1696065813214," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
309,1696067727118," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%0544965528704361%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%0544965528704361%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
310,1696122493185," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
311,1696207857309," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
312,1696210038430," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
313,1696216848209," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
314,1696218872770," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
315,1696219652384," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
316,1696221002655," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
317,1696229124909," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
318,1696229250889," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
319,1696229390049," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
320,1696229610393," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
321,1696229780345," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
322,1696230258579," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
323,1696230351575," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
324,1696230430594," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
325,1696230465619," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
326,1696230639440," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
327,1696230818363," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
328,1696230966722," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
329,1696231122194," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
330,1696231268458," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
331,1696231453308," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
332,1696231674426," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
333,1696231812818," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
334,1696231947561," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
335,1696232089164," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
336,1696294496827," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
337,1696296278808," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
338,1696296425726," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
339,1696306411195," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
340,1696379533846," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
341,1696380830111," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
342,1696387068374," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
343,1696395393298," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
344,1696459145759," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
345,1696459257219," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\_2309】%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\_2309】%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
346,1696465536278," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
347,1696477791791," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
348,1696555165477," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
349,1696555307027," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
350,1696555431759," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
351,1696555790788," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
352,1696556134229," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
353,1696558400208," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
354,1696559469398," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
355,1696560320685," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
356,1696564359542," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
357,1696564820430," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
358,1696568468941," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
359,1696571659735," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
360,1696572046778," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
361,1696572136786," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' AND l.couponName LIKE '%本番\\_23010%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' AND l.couponName LIKE '%本番\\_23010%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
362,1696572223459," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' AND l.couponName LIKE '%本番\\_23010%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' AND l.couponName LIKE '%本番\\_23010%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
363,1696572304328," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
364,1696574728353," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
365,1696592247013," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
366,1696646630735," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
367,1696662039994," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
368,1696735334373," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
369,1696808126745," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
370,1696838171533," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
371,1696897422623," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
372,1696909158853," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
373,1696909835696," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
374,1696913311653," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
375,1696920015973," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
376,1696920501446," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
377,1696920585040," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
378,1696921220159," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\_2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\_2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
379,1696921309792," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\_2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\_2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
380,1696921514258," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\_23010%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\_23010%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
381,1696925441817," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
382,1696987155946," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
383,1697008710496," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND o.name LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND o.name LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
384,1697008726970," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
385,1697024996819," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
386,1697033481494," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\_2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\_2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
387,1697088135548," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
388,1697089343611," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
389,1697095447141," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
390,1697152113658," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
391,1697157423598," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
392,1697184924163," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
393,1697254339400," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
394,1697269168120," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
395,1697350758135," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
396,1697350849536," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
397,1697416107789," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
398,1697417302618," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
399,1697436856956," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
400,1697455357621," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
401,1697531342569," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
402,1697532617965," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
403,1697532695514," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
404,1697535364288," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
405,1697536767219," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponCode LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponCode LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
406,1697536781938," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
407,1697592693533," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
408,1697593024092," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
409,1697593558359," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponCode LIKE '%fruitcoupon-kta-2023-10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponCode LIKE '%fruitcoupon-kta-2023-10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
410,1697603892221," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
411,1697614804174," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
412,1697757057001," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
413,1698023483188," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
414,1698143775706," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
415,1698143882586," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
416,1698195379322," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
417,1698195392082," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND o.name LIKE '%京丹後市観光公社%' AND l.couponCode LIKE '%ruitcoupon-kta-2023-10%' AND l.couponName LIKE '%京たんごフルーツクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND o.name LIKE '%京丹後市観光公社%' AND l.couponCode LIKE '%ruitcoupon-kta-2023-10%' AND l.couponName LIKE '%京たんごフルーツクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
418,1698195422842," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND o.name LIKE '%京丹後市観光公社%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND o.name LIKE '%京丹後市観光公社%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
419,1698195717878," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponCode LIKE '%fruitcoupon-kta-2023-10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponCode LIKE '%fruitcoupon-kta-2023-10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
420,1698198061551," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
421,1698364405178," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
422,1698628182875," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
423,1698642559806," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
424,1698642645428," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
425,1698643242317," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
426,1698651573459," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
427,1698719815501," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
428,1698729544344," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
429,1698751998182," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
430,1698763104350," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
431,1698765891290," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
432,1698766283498," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
433,1698766406499," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
434,1698766596982," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
435,1698766810824," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
436,1698767036275," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
437,1698798475729," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
438,1698808990903," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
439,1698810699238," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
440,1698811307411," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
441,1698811999978," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
442,1698818102410," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
443,1698818282109," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
444,1698818418331," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
445,1698818556804," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
446,1698818690272," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
447,1698818822657," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
448,1698818965003," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
449,1698819103101," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
450,1698819230578," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
451,1698819356827," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
452,1698819492593," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
453,1698819627605," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
454,1698819759233," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
455,1698819791006," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
456,1698819947187," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
457,1698820136309," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
458,1698907764801," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
459,1698908858270," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
460,1698908978250," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
461,1698909602257," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン　200円券\\_1\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン　200円券\\_1\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
462,1698909913013," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン　100円券\\_1\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン　100円券\\_1\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
463,1698910211975," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン　50円券\\_1\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン　50円券\\_1\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
464,1698910494751," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン　50円券\\_2\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン　50円券\\_2\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
465,1698910649600," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン　50円券\\_3\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン　50円券\\_3\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
466,1698910789091," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン　50円券\\_4\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン　50円券\\_4\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
467,1698911017499," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン　50円券\\_5\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン　50円券\\_5\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
468,1698911193834," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン　50円券\\_6\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン　50円券\\_6\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
469,1698911336416," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン　50円券\\_7\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン　50円券\\_7\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
470,1698911526074," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン　50円券\\_8\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン　50円券\\_8\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
471,1698911648567," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
472,1698912022755," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
473,1698912153654," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン　50円券\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン　50円券\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
474,1698912166594," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%50円券\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%50円券\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
475,1698912187456," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
476,1698915719343," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
477,1698932277294," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
478,1699066026993," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
479,1699228589891," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン　50円券\\_3\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン　50円券\\_3\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
480,1699233713514," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyoHKSB%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyoHKSB%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
481,1699233779672," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
482,1699233926694," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
483,1699234192577," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
484,1699234346891," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
485,1699234503277," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
486,1699234703045," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
487,1699234951852," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
488,1699235156263," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
489,1699235288917," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
490,1699235406153," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
491,1699255357985," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
492,1699255750836," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
493,1699256167903," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
494,1699256602434," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
495,1699258260778," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
496,1699258619200," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%1010cp2-4-line1%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%1010cp2-4-line1%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
497,1699260466142," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%1010cp2-4-line1%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%1010cp2-4-line1%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
498,1699268367331," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
499,1699494453276," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%1010cp2-4-line2%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%1010cp2-4-line2%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
500,1699494975502," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%1010cp2-4-line2%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%1010cp2-4-line2%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
501,1699495053661," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
502,1699500280530," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
503,1699502191994," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '86b02ca3-a865-40ac-af49-958eb6f2176c' AND l.couponCode LIKE '%012211%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '86b02ca3-a865-40ac-af49-958eb6f2176c' AND l.couponCode LIKE '%012211%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
504,1699515198839," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%フルーツ%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%フルーツ%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
505,1699515244392," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponCode LIKE '%fruitcoupon-kta-2023-10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponCode LIKE '%fruitcoupon-kta-2023-10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
506,1699515416780," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
507,1699515491801," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND o.name LIKE '%京丹後市観光公社%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND o.name LIKE '%京丹後市観光公社%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
508,1699515531996," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponCode LIKE '%fruitcoupon-kta-2023-10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponCode LIKE '%fruitcoupon-kta-2023-10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
509,1699515602394," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponCode LIKE '%fruitcoupon-kta-2023-10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponCode LIKE '%fruitcoupon-kta-2023-10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
510,1699533066574," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
511,1699533147048," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
512,1699533156008," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
513,1699533283505," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
514,1699576280416," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
515,1699861354136," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
516,1699925458909," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '% 567837000000000003937%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '% 567837000000000003937%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
517,1699926339259," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%5678372205938978%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%5678372205938978%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
518,1699946702348," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
519,1699946716028," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%12%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%12%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
520,1700197294486," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
521,1700448620129," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
522,1700450708259," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
523,1700784335154," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
524,1701047462990," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
525,1701047632669," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
526,1701047926629," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
527,1701050922691," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
528,1701051179235," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
529,1701051294390," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
530,1701074775056," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
531,1701074801356," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
532,1701137384031," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
533,1701139499973," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
534,1701139869550," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
535,1701154014724," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%1010%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%1010%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
536,1701154148843," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
537,1701217630366," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
538,1701218476868," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
539,1701218690733," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
540,1701218777289," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
541,1701218907889," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
542,1701219255890," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
543,1701219487922," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
544,1701219595191," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
545,1701219760830," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
546,1701390290728," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
547,1701405764690," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
548,1701409621582," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
549,1701410134597," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
550,1701410691009," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
551,1701411288134," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
552,1701412925117," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
553,1701413161041," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
554,1701413352641," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
555,1701413441239," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
556,1701413519232," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
557,1701413746429," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
558,1701413919790," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
559,1701414076304," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
560,1701414214306," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
561,1701414394720," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
562,1701414532113," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
563,1701414678865," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
564,1701414806643," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
565,1701414940710," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
566,1701415125356," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
567,1701415282472," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
568,1701415420279," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
569,1701415440751," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
570,1701415621875," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
571,1701558820284," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
572,1701560812224," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%東京1010%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%東京1010%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
573,1701608410424," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
574,1701676169544," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
575,1701684254782," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
576,1701687370561," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
577,1701702034975," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰って%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰って%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
578,1701781305060," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
579,1701863783642," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
580,1701864203290," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
581,1701934971813," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
582,1701935072253," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
583,1701944926946," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
584,1701948827644," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
585,1701949582279," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
586,1701957452836," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
587,1702010757606," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
588,1702021708889," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
589,1702219714216," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
590,1702262066850," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
591,1702269494574," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\_23010%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\_23010%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
592,1702269523893," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\_2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\_2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
593,1702269618993," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\_2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\_2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
594,1702269884772," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%12月検証用%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%12月検証用%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
595,1702269982745," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%12月テスト%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%12月テスト%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
596,1702270373793," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%12月%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%12月%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
597,1702270460913," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%12月%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%12月%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
598,1702270561654," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%23010%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%23010%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
599,1702276605425," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
600,1702276739706," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
601,1702276843407," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\_2311】%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\_2311】%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
602,1702277130481," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
603,1702277201267," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
604,1702277533937," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
605,1702279367167," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
606,1702279474605," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
607,1702279697724," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
608,1702280933148," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
609,1702281083255," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
610,1702281164055," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
611,1702302727653," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
612,1702338596213," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
613,1702361150397," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%5,000円クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%5,000円クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
614,1702361177606," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
615,1702361198386," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
616,1702361344415," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
617,1702363764486," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
618,1702364794250," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\_2311】%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\_2311】%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
619,1702364902757," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\_2311】%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\_2311】%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
620,1702369254149," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichi%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichi%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
621,1702371335018," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichi%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichi%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
622,1702371799946," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichi%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichi%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
623,1702372109347," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichi%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichi%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
624,1702375690106," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
625,1702429145544," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichi%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichi%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
626,1702441981713," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%NEXCO%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%NEXCO%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
627,1702599860148," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
628,1702632901938," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
629,1702632945318," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
630,1702862872539," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
631,1702866440949," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%1010cp2-1-1123SSDW%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%1010cp2-1-1123SSDW%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
632,1703054998587," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
633,1703055082503," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
634,1703055539146," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
635,1703056136059," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
636,1703066834349," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND o.name LIKE '%イオン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND o.name LIKE '%イオン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
637,1703066856302," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
638,1703066894970," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%Aeon%' AND l.couponName LIKE '%Aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%Aeon%' AND l.couponName LIKE '%Aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
639,1703066919939," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponName LIKE '%Aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponName LIKE '%Aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
640,1703147431145," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
641,1703205082484," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
642,1703205105742," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
643,1703565540288," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
644,1703579716936," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
645,1703735510766," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
646,1703735610207," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
647,1703735705706," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
648,1703735802909," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
649,1703735983984," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
650,1703737575318," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2401%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2401%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
651,1704423337404," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
652,1704424134414," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
653,1704424271093," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
654,1704424412332," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
655,1704424551881," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
656,1704424679105," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
657,1704424806038," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
658,1704424937231," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
659,1704425131969," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
660,1704426894224," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
661,1704427023325," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
662,1704427145225," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
663,1704427275184," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
664,1704427400071," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
665,1704427526817," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
666,1704427662369," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
667,1704427790766," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
668,1704427924864," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
669,1704428069054," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
670,1704428196072," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
671,1704428343222," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
672,1704428483533," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
673,1704428615867," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
674,1704428749518," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
675,1704432390317," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
676,1704432715381," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
677,1704432744221," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
678,1704434770734," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
679,1704435088290," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
680,1704436558985," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
681,1704617983977," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
682,1704618099195," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
683,1704618370777," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
684,1704618706723," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
685,1704765899589," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
686,1704768189015," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2401%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2401%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
687,1704768741949," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
688,1704780153835," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
689,1704809903336," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
690,1704809999934," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
691,1704810153354," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
692,1704810255529," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
693,1704935368900," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
694,1705025718793," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
695,1705028352935," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
696,1705032540923," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
697,1705038707081," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
698,1705038822710," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' AND o.name LIKE '%松坂屋%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' AND o.name LIKE '%松坂屋%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
699,1705038853536," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' AND o.name LIKE '%SmartCheckLight%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' AND o.name LIKE '%SmartCheckLight%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
700,1705039303788," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' AND o.name LIKE '%SmartCheckLight%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' AND o.name LIKE '%SmartCheckLight%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
701,1705283455995," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%OIOI-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%OIOI-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
702,1705283590332," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%OIOI-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%OIOI-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
703,1705286144504," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%OIOI-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%OIOI-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
704,1705286548588," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%OIOI-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%OIOI-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
705,1705286628255," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%OIOI-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%OIOI-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
706,1705286861888," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%OIOI-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%OIOI-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
707,1705289470348," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%OIOI%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%OIOI%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
708,1705456883279," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
709,1705464267016," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
710,1705468017386," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
711,1705639353832," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2401%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2401%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
712,1705903752000," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
713,1706228748238," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
714,1706246690360," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
715,1706500607616," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
716,1706508272863," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%202401-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%202401-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
717,1706508375924," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%202401-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%202401-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
718,1706508464386," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20231201-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20231201-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
719,1706508629799," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20231101-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20231101-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
720,1706508747672," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20231001-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20231001-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
721,1706508838556," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230901-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230901-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
722,1706508928207," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230801-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230801-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
723,1706509025015," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230701-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230701-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
724,1706576021719," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%202401-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%202401-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
725,1706579592630," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20231201-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20231201-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
726,1706580135765," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20231101-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20231101-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
727,1706580286506," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20231001-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20231001-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
728,1706580411366," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230901-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230901-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
729,1706581018139," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230801-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230801-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
730,1706581158942," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230701-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230701-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
731,1706581619886," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230601-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230601-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
732,1706581761849," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230501-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230501-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
733,1706584274398," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
734,1706585348696," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230401-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230401-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
735,1706585558028," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230301-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230301-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
736,1706585682789," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230201-28-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230201-28-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
737,1706585817967," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230101-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230101-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
738,1706585953087," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20221201-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20221201-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
739,1706586086887," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20221101-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20221101-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
740,1706586251724," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20221001-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20221001-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
741,1706665070405," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
742,1706759999682," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
743,1706761514524," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
744,1706761975581," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
745,1706762190398," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
746,1706762385309," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
747,1706762584384," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
748,1706762947169," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
749,1706763088982," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
750,1706763270805," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
751,1706767377022," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
752,1706767532120," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
753,1706767678824," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
754,1706767857581," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
755,1706768007090," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
756,1706768145664," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
757,1706768282680," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
758,1706768555806," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
759,1706768697453," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
760,1706768834669," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
761,1706769004306," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
762,1706769148466," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
763,1706769312166," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
764,1706769447494," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
765,1706771754239," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
766,1706793537574," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
767,1706793740772," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
768,1706793965551," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
769,1706794028822," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
770,1706835074840," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
771,1706842472542," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
772,1707096566130," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
773,1707107950883," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%A1340340856868C%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%A1340340856868C%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
774,1707107972197," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%A1340340856868C%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%A1340340856868C%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
775,1707107990430," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%A1340340856868C%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%A1340340856868C%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
776,1707108524247," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1091%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1091%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
777,1707124755538," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
778,1707126109085," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
779,1707127715290," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
780,1707128241154," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
781,1707287460226," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
782,1707287594023," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
783,1707287660604," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
784,1707287989048," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
785,1707294836096," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
786,1707357255813," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
787,1707390406263," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
788,1707438184554," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
789,1707438610123," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
790,1707450088735," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%【デモ】1,000円OFFクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%【デモ】1,000円OFFクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
791,1707536884626," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
792,1707536900270," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
793,1707536944822," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
794,1707536959713," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
795,1707537025886," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponCode LIKE '%test2024-02-10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponCode LIKE '%test2024-02-10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
796,1707537039646," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponCode LIKE '%test2024-02-10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponCode LIKE '%test2024-02-10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
797,1707537078022," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponName LIKE '%TESTクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponName LIKE '%TESTクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
798,1707537086003," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponName LIKE '%TESTクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponName LIKE '%TESTクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
799,1707539132183," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponName LIKE '%TESTクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponName LIKE '%TESTクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
800,1707539454431," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
801,1707541005398," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
802,1707784934255," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
803,1707785062579," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
804,1707908665504," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
805,1708005660788," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
806,1708042020899," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
807,1708045116191," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
808,1708057856526," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
809,1708674746482," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' AND l.couponCode LIKE '%service-nts2023-09%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' AND l.couponCode LIKE '%service-nts2023-09%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
810,1708996437609," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
811,1709252757206," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
812,1709271423972," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
813,1709272676470," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
814,1709274149110," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
815,1709274344269," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
816,1709274495972," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
817,1709274667368," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
818,1709275104909," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
819,1709276518901," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
820,1709277223630," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
821,1709277454683," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
822,1709277618554," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
823,1709277872873," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
824,1709278012870," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
825,1709278163492," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
826,1709278342683," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
827,1709278529014," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
828,1709278666015," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
829,1709278789368," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
830,1709278917152," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
831,1709279062737," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
832,1709279392919," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
833,1709279519865," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
834,1709279700260," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
835,1709279832858," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
836,1709280176926," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
837,1709280424845," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
838,1709280557040," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
839,1709280684816," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
840,1709280818089," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
841,1709281004805," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
842,1709535082053," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
843,1709536332986," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
844,1709612241579," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
845,1709632472154," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
846,1709633647666," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
847,1709633925986," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
848,1709634088903," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%koe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%koe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
849,1709634095453," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
850,1709715462477," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%068275200000000005716%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%068275200000000005716%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
851,1709715481568," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%068275200000000005716%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%068275200000000005716%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
852,1709859155538," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
853,1709863873459," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
854,1710313792244," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd0f3d304-3ddc-4c0a-90b0-5c3656c150d1' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd0f3d304-3ddc-4c0a-90b0-5c3656c150d1' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
855,1710630121982," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
856,1710675390324," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
857,1710730011182," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
858,1711353156355," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
859,1711356524906," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponCode LIKE '%02JB23BC03JC05JE%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponCode LIKE '%02JB23BC03JC05JE%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
860,1711462172844," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
861,1711499065030," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
862,1711504211179," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%easterreggdaichusenkai%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%easterreggdaichusenkai%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
863,1711845142868," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%0682751701088516%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%0682751701088516%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
864,1711931206698," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
865,1711931641122," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
866,1711931682879," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
867,1711932540961," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
868,1711932839318," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
869,1711934548043," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
870,1711937024825," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
871,1711938462685," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
872,1711940945395," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
873,1711944776992," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
874,1711955570454," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
875,1711955853831," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
876,1711956478112," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
877,1711956727537," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
878,1711956959332," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
879,1711957330415," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
880,1711957569854," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
881,1711957914438," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
882,1711958123840," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
883,1711958318177," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
884,1711958549453," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
885,1711958737436," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
886,1712016278757," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
887,1712020876030," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
888,1712021041390," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
889,1712021973292," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
890,1712022763669," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
891,1712023428646," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
892,1712024062879," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
893,1712024567081," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
894,1712025418977," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
895,1712025750378," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
896,1712026398655," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
897,1712026782621," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
898,1712032696383," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
899,1712032783064," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
900,1712190792150," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
901,1712202453881," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
902,1712281571788," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
903,1712281657706," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
904,1712283154733," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
905,1712291527631," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
906,1712312847863," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
907,1712313011286," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%ふるさと納税クーポン（お試し）%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%ふるさと納税クーポン（お試し）%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
908,1712546866212," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
909,1712624914929," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
910,1712727936534," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
911,1712729243203," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
912,1712739767482," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
913,1712816637613," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND o.name LIKE '%zannen%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND o.name LIKE '%zannen%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
914,1712827162877," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
915,1712895123291," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
916,1712901059282," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND o.name LIKE '%KF2024CP%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND o.name LIKE '%KF2024CP%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
917,1712901672295," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%KF2024CP%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%KF2024CP%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
918,1713151006139," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
919,1713151729259," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
920,1713241085317," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
921,1713241389242," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%kameda2024-03-17%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%kameda2024-03-17%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
922,1713241685618," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%kameda2024-03-17%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%kameda2024-03-17%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
923,1713256079155," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
924,1713256089124," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
925,1713322436951," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
926,1713333924904," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%easterreggdaichusenkai%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%easterreggdaichusenkai%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
927,1713334300719," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%easterreggdaichusenkai%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%easterreggdaichusenkai%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
928,1713405876041," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponCode LIKE '%02JB23BC03JC05JE%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponCode LIKE '%02JB23BC03JC05JE%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
929,1713852738109," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
930,1713928706607," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%recruit-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%recruit-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
931,1713948596578," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
932,1714035799299," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%recruit-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%recruit-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
933,1714458682788," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
934,1714458798190," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
935,1714458865710," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
936,1714459079941," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyofrenchdinner%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyofrenchdinner%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
937,1714462723846," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
938,1714462868468," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
939,1714464665435," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
940,1714528448677," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
941,1714533360717," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
942,1714534855477," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
943,1714535844578," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
944,1714536630079," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
945,1714537171623," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
946,1714537349546," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
947,1714537491387," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
948,1714537844165," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
949,1714538698841," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
950,1714539048385," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
951,1714539539634," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
952,1714539829941," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
953,1714541969404," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
954,1714544575637," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
955,1714544655706," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
956,1714544676558," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
957,1714544780258," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
958,1714545305701," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
959,1714545508199," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
960,1714545719436," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
961,1714545881679," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
962,1714546072952," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
963,1714546242960," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
964,1714546484989," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
965,1714546663589," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
966,1714546821673," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
967,1714546983456," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
968,1714547071656," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
969,1714547242194," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
970,1714547592956," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
971,1714547824103," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
972,1714548104199," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
973,1714548264769," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
974,1714548445364," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
975,1714548676245," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
976,1714548748312," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
977,1714826490188," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
978,1714826615987," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
979,1715057247934," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
980,1715304808108," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
981,1715757512104," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
982,1715758628003," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
983,1715834488478," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
984,1715834766055," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
985,1715834786715," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
986,1715834789247," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
987,1715834793050," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
988,1715834946838," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
989,1715838385940," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%siekyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%siekyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
990,1715838389346," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
991,1715838888694," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
992,1715839487464," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
993,1715839819210," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%zannen%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%zannen%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
994,1715926034100," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
995,1716257562216," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
996,1716343215366," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
997,1716370346295," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
998,1716370392317," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%recruit-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%recruit-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
999,1716370424236," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%【リクルート様】サンプルクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%【リクルート様】サンプルクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1000,1716440901715," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\_2405】壱番屋アンケートクーポン　100円券%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\_2405】壱番屋アンケートクーポン　100円券%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1001,1716441007555," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\_2405】%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\_2405】%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1002,1716442023298," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1003,1716511532714," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1004,1716511590141," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1005,1716530858005," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1006,1716531616682," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1007,1716573557067," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1008,1716710104319," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1009,1716710206738," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
1010,1716778384337," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1011,1716830452476," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1012,1716859698574," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1013,1716882725454," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1014,1716919954914," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1015,1716921874785," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2406%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2406%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1016,1716939396632," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1017,1716951922003," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1018,1716952515096," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1019,1716954770819," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%hakuhodo-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%hakuhodo-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1020,1716956483726," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1021,1716956891625," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1022,1716962308732," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1023,1717005503545," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1024,1717009994141," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2406%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2406%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1025,1717010202742," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1026,1717028663267," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1027,1717037588239," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1028,1717124214533," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1029,1717124462534," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1030,1717375013543," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1031,1717376208918," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2406%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2406%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1032,1717389285907," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%easterreggdaichusenkai%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%easterreggdaichusenkai%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1033,1717486651479," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1034,1717553107649," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1035,1717641564363," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1036,1717641712304," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
1037,1717661454228," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1038,1718157906512," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1039,1718594965692," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'ed586aa3-e7ce-4d6e-94dd-9f4bbc468479' AND o.name LIKE '%SmartCheckLight%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'ed586aa3-e7ce-4d6e-94dd-9f4bbc468479' AND o.name LIKE '%SmartCheckLight%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1040,1719304373856," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1041,1719720782471," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1042,1719721953571," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1043,1719799460275," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1044,1719963354473," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1045,1720142275045," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%レッドホットチキン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%レッドホットチキン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1046,1720142349565," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%KC1031%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%KC1031%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1047,1720142381903," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%1031%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%1031%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1048,1720142409743," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030036007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030036007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1049,1720142918991," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030036007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030036007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1050,1720147380722," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND o.name LIKE '%日本ケンタッキー・フライド・チキン株式会社%' AND l.couponCode LIKE '%030036%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND o.name LIKE '%日本ケンタッキー・フライド・チキン株式会社%' AND l.couponCode LIKE '%030036%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1051,1720147418020," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND o.name LIKE '%日本ケンタッキー・フライド・チキン株式会社%' AND l.couponCode LIKE '%030036007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND o.name LIKE '%日本ケンタッキー・フライド・チキン株式会社%' AND l.couponCode LIKE '%030036007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1052,1720147451769," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030036007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030036007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1053,1720503405173," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030034007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030034007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1054,1720504024111," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030034007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030034007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1055,1720505739983," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1060%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1060%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1056,1720515423249," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030034007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030034007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1057,1720695536449," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1058,1720775277568," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '86b02ca3-a865-40ac-af49-958eb6f2176c' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '86b02ca3-a865-40ac-af49-958eb6f2176c' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1059,1720775369446," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '86b02ca3-a865-40ac-af49-958eb6f2176c' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '86b02ca3-a865-40ac-af49-958eb6f2176c' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
1060,1721112879394," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND o.name LIKE '%ichibanya-500yen-2407%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND o.name LIKE '%ichibanya-500yen-2407%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1061,1721112902386," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-500yen-2407%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-500yen-2407%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1062,1721117344468," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1063,1721117715474," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1064,1721631434223," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%A3710138352731C%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%A3710138352731C%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1065,1721900868509," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%029284007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%029284007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1066,1721901031310," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%29284007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%29284007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1067,1721901168546," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%29284007%' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%29284007%' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1068,1721956315188," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1069,1721956513731," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
1070,1721956749791," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1071,1721962655713," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
1072,1721962927275," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1073,1721962941595," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
1074,1721962968619," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1075,1721963410663," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1076,1721963744144," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1077,1721964030326," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1078,1721964215964," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1079,1721980108617," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1034%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1034%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1080,1721981264389," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%030042007%' AND l.couponName LIKE '%KC1034%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%030042007%' AND l.couponName LIKE '%KC1034%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1081,1721981478911," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%030042007%' AND l.couponName LIKE '%KC1034%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%030042007%' AND l.couponName LIKE '%KC1034%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1082,1721981594454," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%030038007%' AND l.couponName LIKE '%KC1032%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%030038007%' AND l.couponName LIKE '%KC1032%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1083,1722212677493," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1034%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1034%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1084,1722230101003," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1034%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1034%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1085,1722323985156," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%030038007%' AND l.couponName LIKE '%KC1032%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%030038007%' AND l.couponName LIKE '%KC1032%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1086,1722473341446," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1087,1722473711782," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponName LIKE '%【らあめん花月嵐】当選者クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponName LIKE '%【らあめん花月嵐】当選者クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1088,1722503981201," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponName LIKE '%【らあめん花月嵐】当選者クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponName LIKE '%【らあめん花月嵐】当選者クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1089,1722579565943," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1090,1722584299617," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0009%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0009%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1091,1722819173363," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' AND o.name LIKE '%SmartCheckLight%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' AND o.name LIKE '%SmartCheckLight%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1092,1722823440904," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1093,1722823641744," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1094,1723710699748," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%art-ishigakijima-samplecoupon1%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%art-ishigakijima-samplecoupon1%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1095,1723711031684," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%art-ishigakijima-samplecoupon1%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%art-ishigakijima-samplecoupon1%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1096,1724066799499," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1097,1724117549806," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1098,1724117921072," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1099,1724118233371," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1100,1724119567902," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
1101,1724722390406," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1102,1724723270236," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
1103,1724723518807," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1104,1724723719449," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
1105,1724724030856," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'df79441a-ee1c-4efd-ade7-794b40c574f5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'df79441a-ee1c-4efd-ade7-794b40c574f5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1106,1724724236869," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'df79441a-ee1c-4efd-ade7-794b40c574f5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'df79441a-ee1c-4efd-ade7-794b40c574f5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
1107,1724740986509," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '567e0287-35bc-47b4-aa0d-c7c3a9ed6fe0' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '567e0287-35bc-47b4-aa0d-c7c3a9ed6fe0' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1108,1724741348218," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '567e0287-35bc-47b4-aa0d-c7c3a9ed6fe0' AND l.couponCode LIKE '%1010cp2-8-1202-1203-SBGIFT%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '567e0287-35bc-47b4-aa0d-c7c3a9ed6fe0' AND l.couponCode LIKE '%1010cp2-8-1202-1203-SBGIFT%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1109,1724943827758," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%mua2tang1%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%mua2tang1%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1110,1724944272895," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%test%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%test%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1111,1725233974753," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1112,1725257631269," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponCode LIKE '%9052007659007825%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponCode LIKE '%9052007659007825%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1113,1725270479964," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponCode LIKE '%02JB23BC03JC05JE%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponCode LIKE '%02JB23BC03JC05JE%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1114,1725271422624," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponName LIKE '%らあめん花月嵐フルキャストグループイン記念クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponName LIKE '%らあめん花月嵐フルキャストグループイン記念クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1115,1725271513562," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponName LIKE '%らあめん花月嵐フルキャストグループイン記念クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponName LIKE '%らあめん花月嵐フルキャストグループイン記念クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
1116,1725277057376," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1117,1725342042937," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1118,1725345306684," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '567e0287-35bc-47b4-aa0d-c7c3a9ed6fe0' AND l.couponCode LIKE '%1010cp2-8-1202-1203-SBGIFT%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '567e0287-35bc-47b4-aa0d-c7c3a9ed6fe0' AND l.couponCode LIKE '%1010cp2-8-1202-1203-SBGIFT%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1119,1725374193671," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47' AND o.name LIKE '%店舗B%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47' AND o.name LIKE '%店舗B%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1120,1725374234427," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47' AND l.couponCode LIKE '%Bkyotsu240903%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47' AND l.couponCode LIKE '%Bkyotsu240903%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1121,1725374404941," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47' AND l.couponCode LIKE '%Bkyotsu240903%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47' AND l.couponCode LIKE '%Bkyotsu240903%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1122,1725430157220," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1123,1725617858504," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1124,1725848483328," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1125,1725849818765," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1126,1726134792571," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1127,1726244162372," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1128,1726538937687," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1129,1726539885007," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1130,1726540180583," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
1131,1726540188824," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1132,1726704626229," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1133,1727147464949," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1134,1727238030929," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponCode LIKE '%JB0224BD09JI05JE%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponCode LIKE '%JB0224BD09JI05JE%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1135,1727238157030," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponCode LIKE '%JB0224BD09JI05JE%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponCode LIKE '%JB0224BD09JI05JE%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
1136,1727341886737," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd2f8c6ac-ebde-41c7-a0d8-ca34dfa397db' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd2f8c6ac-ebde-41c7-a0d8-ca34dfa397db' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1137,1727743191709," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1138,1727748030868," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1139,1727748178650," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
1140,1727752045568," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'df79441a-ee1c-4efd-ade7-794b40c574f5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'df79441a-ee1c-4efd-ade7-794b40c574f5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1141,1727752357346," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'df79441a-ee1c-4efd-ade7-794b40c574f5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'df79441a-ee1c-4efd-ade7-794b40c574f5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
1142,1727767763556," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1143,1727771204760," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1144,1727777840454," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1145,1727831846387," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd0f3d304-3ddc-4c0a-90b0-5c3656c150d1' AND l.couponCode LIKE '%sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd0f3d304-3ddc-4c0a-90b0-5c3656c150d1' AND l.couponCode LIKE '%sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1146,1727833305028," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd0f3d304-3ddc-4c0a-90b0-5c3656c150d1' AND l.couponCode LIKE '%2021-08-27test-CouponCode-xxxx%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd0f3d304-3ddc-4c0a-90b0-5c3656c150d1' AND l.couponCode LIKE '%2021-08-27test-CouponCode-xxxx%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1147,1727964160499," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%abcde%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%abcde%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1148,1727965247744," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%abcde%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%abcde%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1149,1727966928289," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1150,1727967040088," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1151,1727967140086," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1152,1727967148699," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
1153,1727967284177," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1154,1727967291663," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
1155,1727967567276," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1156,1728009985398," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' AND l.couponCode LIKE '%nakajimasuisan-coupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' AND l.couponCode LIKE '%nakajimasuisan-coupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1157,1728027889903," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1158,1728028757012," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1159,1728301572071," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%030295007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%030295007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1160,1728349757350," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1161,1728356688389," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1162,1728367791176," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1163,1728521266108," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND o.name LIKE '%sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND o.name LIKE '%sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1164,1728521373818," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1165,1728524099131," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1166,1728524781447," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1167,1728524895369," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1168,1728527626892," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1169,1728540717406," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1170,1728543922714," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1171,1728543927179," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND o.name LIKE '%tokyo-sent%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND o.name LIKE '%tokyo-sent%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1172,1728544000295," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1173,1728546331305," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1174,1728546457184," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%体験用クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%体験用クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1175,1728546619334," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1176,1728554491602," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1177,1728572546802," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%12345%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%12345%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1178,1728572748779," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%12345%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%12345%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
1179,1728572811362," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1180,1728606912421," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1181,1728607000142," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1182,1728612240319," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1183,1728619238880," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1184,1728622461266," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1185,1728950598424," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1186,1728951407708," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1187,1728963325016," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' AND l.couponName LIKE '%【中島水産】専用クーポン(2024/10/15発行)%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' AND l.couponName LIKE '%【中島水産】専用クーポン(2024/10/15発行)%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1188,1729037596865," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1189,1729070232585," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1190,1729123692117," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1191,1729127353159," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1192,1729214833082," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1193,1729225124672," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1194,1729225225632," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1195,1729225374294," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
1196,1729225561514," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1197,1729226625941," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1198,1729226900723," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' AND l.couponName LIKE '%2410%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' AND l.couponName LIKE '%2410%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1199,1729469575196," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1200,1729490826748," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1201,1729555913144," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1202,1729641276713," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1203,1729644765294," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento-coupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento-coupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1204,1729644889743," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento-coupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento-coupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
1205,1729661453593," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1206,1729670273656," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1207,1729670877768," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1208,1729678717783," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1209,1729730560881," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1210,1729730591457," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1211,1729814927928," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1212,1730073264183," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1213,1730074754909," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1214,1730160053022," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1215,1730245545243," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1216,1730250582403," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1217,1730324440839," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'b57f69a7-bcb5-41bd-8025-b5700b5b40d5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'b57f69a7-bcb5-41bd-8025-b5700b5b40d5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1218,1730324650651," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1219,1730324841192," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND o.name LIKE '%SBギフト%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND o.name LIKE '%SBギフト%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1220,1730325007298," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND o.name LIKE '%SBギフト%' AND l.couponCode LIKE '%1010cp-test%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND o.name LIKE '%SBギフト%' AND l.couponCode LIKE '%1010cp-test%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1221,1730325014433," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%1010cp-test%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%1010cp-test%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1222,1730325244299," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%【テスト】東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%【テスト】東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1223,1730325573469," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'b57f69a7-bcb5-41bd-8025-b5700b5b40d5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'b57f69a7-bcb5-41bd-8025-b5700b5b40d5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1224,1730325679447," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1225,1730332966530," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1226,1730370590132," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1227,1730420294503," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1228,1730422117182," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1229,1730422391001," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1230,1730422431503," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1231,1730422703376," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1232,1730425707236," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1233,1730425873165," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1234,1730765403719," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1235,1730777471654," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1236,1730778138553," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1237,1730799091920," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento-coupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento-coupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1238,1730799223860," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento-coupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento-coupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
1239,1730852000404," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1240,1730858497411," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1241,1730877220329," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1242,1730884621911," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1243,1730944391029," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1244,1731024869795," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1245,1731027623123," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1246,1731283241882," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1247,1731290243106," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1248,1731291799192," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1249,1731370115009," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1250,1731370436030," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1251,1731457153858," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1252,1731534700967," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' AND o.name LIKE '%中島水産株式会社%' AND l.couponName LIKE '%【中島水産】専用クーポン(2024/10/15発行)%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' AND o.name LIKE '%中島水産株式会社%' AND l.couponName LIKE '%【中島水産】専用クーポン(2024/10/15発行)%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1253,1731534930575," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' AND o.name LIKE '%中島水産株式会社%' AND l.couponName LIKE '%【中島水産】専用クーポン(2024/10/15発行)%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' AND o.name LIKE '%中島水産株式会社%' AND l.couponName LIKE '%【中島水産】専用クーポン(2024/10/15発行)%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1254,1731542889443," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1255,1731630069559," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1256,1731636123884," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1257,1731636472591," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
1258,1731730818230," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' AND o.name LIKE '%中島水産株式会社%' AND l.couponName LIKE '%【中島水産】専用クーポン(2024/10/15発行)%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' AND o.name LIKE '%中島水産株式会社%' AND l.couponName LIKE '%【中島水産】専用クーポン(2024/10/15発行)%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1259,1731975019517," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1260,1731975329471," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1261,1731990020773," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1262,1731994643940," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '056f0e0d-2960-49d8-9f3a-05c6e7971ce4' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '056f0e0d-2960-49d8-9f3a-05c6e7971ce4' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1263,1732062774782," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1264,1732071932954," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1265,1732072077600," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
1266,1732149264316," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1267,1732149599833," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1268,1732234202041," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1269,1732234481476," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1270,1732235051513," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1271,1732235175747," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100 "
1272,1732250195956," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1273,1732493980536," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1274,1732506276128," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1275,1732526078247," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND o.name LIKE '%ACLE2coupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND o.name LIKE '%ACLE2coupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1276,1732526200964," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponName LIKE '%ACLE2coupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponName LIKE '%ACLE2coupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1277,1732526269079," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE2coupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE2coupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1278,1732527290315," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLEcoupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLEcoupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1279,1732527543974," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1280,1732579551327," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo0-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo0-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1281,1732579688825," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1282,1732589015261," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1283,1732613992521," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1284,1732666846684," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1285,1732680385403," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1286,1732752127910," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1287,1732776271317," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1288,1732776283395," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1289,1732838679397," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1290,1733021441704," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1291,1733094925482," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1292,1733098124065," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1293,1733098566927," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1294,1733119096907," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1295,1733160910700," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2412%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2412%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1296,1733160966115," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\_2412%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\_2412%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1297,1733180946479," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1298,1733185068900," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1299,1733193210654," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1300,1733270292540," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1301,1733358179387," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1302,1733376332231," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1303,1733443465566," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1304,1733456676413," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1305,1733472534771," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'fb96ab72-2211-4617-aa21-91a76b050360' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'fb96ab72-2211-4617-aa21-91a76b050360' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1306,1733473317154," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'fb96ab72-2211-4617-aa21-91a76b050360' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'fb96ab72-2211-4617-aa21-91a76b050360' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1307,1733475418903," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'fb96ab72-2211-4617-aa21-91a76b050360' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'fb96ab72-2211-4617-aa21-91a76b050360' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1308,1733702645014," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1309,1733703732267," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1310,1733713286241," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'fb96ab72-2211-4617-aa21-91a76b050360' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'fb96ab72-2211-4617-aa21-91a76b050360' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1311,1733731752414," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%Ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%Ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1312,1733731791245," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%IchIbanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%IchIbanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1313,1733731827219," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%IchIbanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%IchIbanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1314,1733731883779," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1315,1733732883062," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1316,1733788618636," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' AND o.name LIKE '%中島水産株式会社%' AND l.couponName LIKE '%【中島水産】専用クーポン(2024/10/15発行)%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' AND o.name LIKE '%中島水産株式会社%' AND l.couponName LIKE '%【中島水産】専用クーポン(2024/10/15発行)%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1317,1733788893570," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1318,1733789432480," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1319,1733875617031," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1320,1733961671014," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1321,1733968062993," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1322,1734048691822," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1323,1734049010946," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1324,1734071442614," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
1325,1734307039441," _SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "," SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type = 'issued' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""発行数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""使用済数"", ( SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId AND NOT EXISTS( SELECT 1 FROM coupon_logs AS l3 WHERE l2.couponId = l3.couponId AND l3.type <> 'displayed' AND l2.createAtMillis < l3.createAtMillis ) ) AS ""キャンセル"", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0 "
