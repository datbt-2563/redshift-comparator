[
  {
    "order": 0,
    "timestamp": 1673046702657,
    "message": "2023-01-06T23:11:42.657Z\t652685f8-476d-45bd-bc1f-d4cdae190fbd\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\n\nAND l.couponName LIKE '%東京1010%'\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 1,
    "timestamp": 1673133561239,
    "message": "2023-01-07T23:19:21.239Z\tfd9df561-b572-4022-904e-b54efec8758a\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\n\nAND l.couponName LIKE '%東京1010%'\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 2,
    "timestamp": 1673219548481,
    "message": "2023-01-08T23:12:28.481Z\tb62a253f-7d66-4258-a9b1-a8d905d07054\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\n\nAND l.couponName LIKE '%東京1010%'\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 3,
    "timestamp": 1673564581529,
    "message": "2023-01-12T23:03:01.529Z\t2076e919-7f30-443d-b873-4b600b403c40\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\n\nAND l.couponName LIKE '%東京%'\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 4,
    "timestamp": 1673564696184,
    "message": "2023-01-12T23:04:56.184Z\t26f312fd-b099-486c-9313-427482a3e980\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\n\nAND l.couponName LIKE '%東京%'\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 5,
    "timestamp": 1673564732965,
    "message": "2023-01-12T23:05:32.964Z\t8b481da6-3132-4a70-b9e8-691b5e1b273a\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\n\nAND l.couponName LIKE '%東京%'\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 6,
    "timestamp": 1673564776938,
    "message": "2023-01-12T23:06:16.938Z\t2ec5efb8-9306-49cc-8b3c-fc5453fb0697\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\n\nAND l.couponName LIKE '%東京%'\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 7,
    "timestamp": 1673564787491,
    "message": "2023-01-12T23:06:27.491Z\t0ce3cdbb-5431-43f2-b81d-c495d036e9f8\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\n\nAND l.couponName LIKE '%東京%'\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 8,
    "timestamp": 1673564866500,
    "message": "2023-01-12T23:07:46.499Z\t5a076cb7-c14e-43ef-b877-7b27c0a495e8\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\n\nAND l.couponName LIKE '%東京%'\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 9,
    "timestamp": 1673651236744,
    "message": "2023-01-13T23:07:16.744Z\tfc69f73b-7137-45d9-8916-e5d1f558ca8a\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\n\nAND l.couponName LIKE '%東京1010%'\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 10,
    "timestamp": 1673739470060,
    "message": "2023-01-14T23:37:50.060Z\t909a86c0-5b16-4d7b-b3cf-0290a2d0f342\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\n\nAND l.couponName LIKE '%東京1010%'\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 11,
    "timestamp": 1673843266615,
    "message": "2023-01-16T04:27:46.606Z\t95eef37f-e988-458f-b752-0fa8d20160b3\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 12,
    "timestamp": 1674255511470,
    "message": "2023-01-20T22:58:31.470Z\t85ef4cb7-8b30-485e-b01c-9b1541e99bae\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\n\nAND l.couponName LIKE '%東京1010%'\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 13,
    "timestamp": 1675299240847,
    "message": "2023-02-02T00:54:00.847Z\t9c2c0bd6-6391-4b09-bcee-257b957b32bd\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = 'd4e3ccff-215e-4bf3-b85b-d120b1e75278'\n\n\nAND o.item.name.S LIKE '%レストランA%'\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 14,
    "timestamp": 1675317209716,
    "message": "2023-02-02T05:53:29.716Z\t9b47030f-5fca-45e5-8c76-a44de6da9b84\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a'\n\n\n\nAND l.couponCode LIKE '%reform20221031%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 15,
    "timestamp": 1675390480748,
    "message": "2023-02-03T02:14:40.748Z\tb5e237d8-9240-4a0c-9be1-eb5d2e19bc79\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87'\n\n\n\nAND l.couponCode LIKE '%KC%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 16,
    "timestamp": 1675400355426,
    "message": "2023-02-03T04:59:15.426Z\t1582c357-91cd-4b31-a8e6-e7764b007c2b\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a'\n\n\n\nAND l.couponCode LIKE '%yomiren20230203%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 17,
    "timestamp": 1675847971596,
    "message": "2023-02-08T09:19:31.596Z\t40b02c2c-f9c9-4524-b9eb-8a3b60edb3f1\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78'\n\n\n\n\nAND l.couponName LIKE '%KC1072%'\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 18,
    "timestamp": 1676343030537,
    "message": "2023-02-14T02:50:30.537Z\te3ec4a3e-9017-44ab-afc2-9744ea41044e\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 19,
    "timestamp": 1676349561037,
    "message": "2023-02-14T04:39:21.037Z\t25555543-e556-4a3f-8670-80c04b271111\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\n\nAND l.couponName LIKE '%1010%'\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 20,
    "timestamp": 1678166336724,
    "message": "2023-03-07T05:18:56.724Z\t0cae58e7-975d-4923-8a54-0db46a959353\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78'\n\n\n\nAND l.couponCode LIKE '%028110007%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 21,
    "timestamp": 1678236117566,
    "message": "2023-03-08T00:41:57.566Z\t0a90e0f3-bec1-4f1d-b7bc-f8b412d8cd87\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78'\n\n\n\nAND l.couponCode LIKE '%028110007%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 22,
    "timestamp": 1681361405667,
    "message": "2023-04-13T04:50:05.667Z\t9f0be3a2-e756-4c8d-9802-88d34871f6d7\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87'\n\n\n\n\nAND l.couponName LIKE '%KC%'\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 23,
    "timestamp": 1681813315697,
    "message": "2023-04-18T10:21:55.697Z\t6e279417-699a-40a6-8ce0-d0b6ba35bb5f\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 24,
    "timestamp": 1682057124748,
    "message": "2023-04-21T06:05:24.748Z\t6728c69a-28e5-45dc-b1dc-2df0b65218b9\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87'\n\n\n\n\nAND l.couponName LIKE '%KC%'\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 25,
    "timestamp": 1685438702368,
    "message": "2023-05-30T09:25:02.368Z\tdfee6d12-5054-4127-93c1-e1fc89ab5048\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 26,
    "timestamp": 1687142902778,
    "message": "2023-06-19T02:48:22.778Z\t6575fc0b-618b-460b-8624-377fb09f39c4\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = '77d5a94c-249e-4a2e-b7eb-b13bb418733b'\n\n\n\n\nAND l.couponName LIKE '%商品A　コード入力%'\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 27,
    "timestamp": 1687143400861,
    "message": "2023-06-19T02:56:40.861Z\t5d9f7510-c9f6-4407-80c2-bc9a1798ec34\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = '77d5a94c-249e-4a2e-b7eb-b13bb418733b'\n\n\n\n\nAND l.couponName LIKE '%商品A　コード入力%'\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 28,
    "timestamp": 1687329868150,
    "message": "2023-06-21T06:44:28.150Z\tab6607a8-6f5e-4dd8-9286-94827d305db2\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = 'fbfe95e8-c899-4a2d-8629-d4835c2ad28a'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 29,
    "timestamp": 1687330083587,
    "message": "2023-06-21T06:48:03.587Z\t288630b5-8e41-4f20-b569-a18254823474\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 30,
    "timestamp": 1687331931292,
    "message": "2023-06-21T07:18:51.292Z\t8edc299c-f53b-41b0-844e-bf13417ee9ae\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 31,
    "timestamp": 1687334646494,
    "message": "2023-06-21T08:04:06.494Z\t147646d9-ce80-4927-abd9-89b9676fea3d\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 32,
    "timestamp": 1687335552606,
    "message": "2023-06-21T08:19:12.606Z\t47c82436-87c2-49cd-a40d-401370f978f3\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 33,
    "timestamp": 1687341131118,
    "message": "2023-06-21T09:52:11.118Z\t4f20ebea-87da-47b3-a53d-d5ad667c8e64\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 34,
    "timestamp": 1687341914236,
    "message": "2023-06-21T10:05:14.236Z\tf99f0043-c9da-4018-b186-0c663921b5dc\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78'\n\n\n\nAND l.couponCode LIKE '%022956007%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 35,
    "timestamp": 1687342447413,
    "message": "2023-06-21T10:14:07.413Z\t9c97445d-10be-463b-a8d2-d38b5af590f0\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 36,
    "timestamp": 1687502897079,
    "message": "2023-06-23T06:48:17.079Z\td3129dbe-3976-4067-9c8e-cdb03bea1ba0\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.item.resourceId.S,\n               o.item.name.S,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                   FROM (\n                            SELECT DISTINCT couponId\n                            FROM coupon_logs l2\n                            WHERE l2.type = 'issued'\n                              AND l2.couponMasterId = l.couponMasterId\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.item.resourceId.S = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName\n    \n"
  },
  {
    "order": 37,
    "timestamp": 1687761620747,
    "message": "2023-06-26T06:40:20.747Z\t8c416a5b-a98a-4601-aa7d-64fd02a89558\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 38,
    "timestamp": 1687762086435,
    "message": "2023-06-26T06:48:06.435Z\t086d96c8-d2e4-4793-bad5-f7130d979cf5\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78'\n\n\n\nAND l.couponCode LIKE '%022956007%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 39,
    "timestamp": 1687762412103,
    "message": "2023-06-26T06:53:32.103Z\t49aa6530-2293-49e7-b910-e6b2417f1d1c\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63'\n\n\n\nAND l.couponCode LIKE '%022956007%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 40,
    "timestamp": 1687762672966,
    "message": "2023-06-26T06:57:52.966Z\t474eac32-8747-46ca-9088-a05bc6e82eb9\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63'\n\n\n\nAND l.couponCode LIKE '%022956007%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 41,
    "timestamp": 1687762942790,
    "message": "2023-06-26T07:02:22.790Z\td2af81ea-e7d1-4dc4-8d02-751dd5ba3ca6\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78'\n\n\n\nAND l.couponCode LIKE '%022956007%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 42,
    "timestamp": 1687763739861,
    "message": "2023-06-26T07:15:39.861Z\tca613752-fbaa-48de-8e3c-9e6ac9fff971\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 43,
    "timestamp": 1687764377082,
    "message": "2023-06-26T07:26:17.082Z\tb0b9bca3-95d7-4a7f-b3bf-bffa4049df98\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 44,
    "timestamp": 1687764594943,
    "message": "2023-06-26T07:29:54.943Z\td0e3d303-6323-44bc-94e2-adf3fc62e26a\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63'\n\n\n\nAND l.couponCode LIKE '%012206%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 45,
    "timestamp": 1687765041183,
    "message": "2023-06-26T07:37:21.183Z\t945485e5-9be3-44d8-9f5d-ef47949a451e\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63'\n\n\n\nAND l.couponCode LIKE '%012206%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 46,
    "timestamp": 1687765210297,
    "message": "2023-06-26T07:40:10.297Z\tbb6b3154-cd5b-4d05-a660-c05d4efc66d7\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63'\n\n\n\nAND l.couponCode LIKE '%012206%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 100\n    \n    \n"
  },
  {
    "order": 47,
    "timestamp": 1687768910455,
    "message": "2023-06-26T08:41:50.455Z\te49016e4-7614-4c1c-9c7f-327b48fa3b24\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '77d5a94c-249e-4a2e-b7eb-b13bb418733b'\n\n\n\n\nAND l.couponName LIKE '%商品A　コード入力%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 48,
    "timestamp": 1688353798639,
    "message": "2023-07-03T03:09:58.639Z\tcb304b5a-b7a1-4d35-a808-25d4bb70d9c5\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'd0f3d304-3ddc-4c0a-90b0-5c3656c150d1'\n\n\n\n\nAND l.couponName LIKE '%【CoCo壱番屋】demoクーポン%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 49,
    "timestamp": 1689758437992,
    "message": "2023-07-19T09:20:37.992Z\t813eba3d-ef67-4d14-9fbe-2d0782d07d76\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\nAND l.couponCode LIKE '%001%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 50,
    "timestamp": 1690162995254,
    "message": "2023-07-24T01:43:15.254Z\t8705f405-7ede-4c82-86c5-bfbf9fa6c121\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\nAND l.couponCode LIKE '%99999999%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 51,
    "timestamp": 1690187790530,
    "message": "2023-07-24T08:36:30.530Z\t679cab2b-b8ba-4374-b843-0c5f3761a749\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 52,
    "timestamp": 1690855299827,
    "message": "2023-08-01T02:01:39.827Z\tf62171a1-4105-4d4f-b2e9-cc7d116ab3fe\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\nAND l.couponCode LIKE '%0001%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 53,
    "timestamp": 1690856210507,
    "message": "2023-08-01T02:16:50.507Z\t1e7b5777-8ca2-441e-bf6f-adf1efe72e24\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\nAND l.couponCode LIKE '%0001%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 54,
    "timestamp": 1690859488818,
    "message": "2023-08-01T03:11:28.818Z\ta241edd7-4394-459f-8549-5d7e2359217d\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\nAND l.couponCode LIKE '%0001%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 55,
    "timestamp": 1690876772563,
    "message": "2023-08-01T07:59:32.563Z\td72f7900-2e47-4c18-882f-1a99d5c1e00b\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\nAND l.couponCode LIKE '%0001%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 56,
    "timestamp": 1690942747067,
    "message": "2023-08-02T02:19:07.067Z\t5e3c5588-27ef-422c-b1f8-1d8ca0cfb37a\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 57,
    "timestamp": 1690977122315,
    "message": "2023-08-02T11:52:02.315Z\t3c2b7387-2cca-43dd-86f5-9d44505ed3f6\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\nAND l.couponCode LIKE '%0001%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 58,
    "timestamp": 1691032168605,
    "message": "2023-08-03T03:09:28.605Z\td90fa8e8-5a92-4648-867b-cc51532ee83a\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\nAND l.couponCode LIKE '%0001%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 59,
    "timestamp": 1691380526365,
    "message": "2023-08-07T03:55:26.365Z\tedb41f55-c1dd-4755-bb69-edefe6babea6\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\nAND l.couponCode LIKE '%0001%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 60,
    "timestamp": 1691477237040,
    "message": "2023-08-08T06:47:17.040Z\t20fae1f4-a9ec-447d-9a1d-2195cb0c49e4\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78'\n\n\n\n\nAND l.couponName LIKE '%KC1012%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 61,
    "timestamp": 1691543252833,
    "message": "2023-08-09T01:07:32.833Z\ta0f1f674-2c89-415a-a063-f5b55f9e9ce6\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\nAND l.couponCode LIKE '%0001%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 62,
    "timestamp": 1691583692431,
    "message": "2023-08-09T12:21:32.431Z\t31658562-53bb-41f2-9817-b6491af34742\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\nAND l.couponCode LIKE '%0001%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 63,
    "timestamp": 1691629336403,
    "message": "2023-08-10T01:02:16.403Z\te0076918-c76b-40ee-9638-d251a1706c24\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\nAND l.couponCode LIKE '%0001%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 64,
    "timestamp": 1691637516148,
    "message": "2023-08-10T03:18:36.148Z\t6b9a4b76-ced6-4b88-a6ed-d0640c463033\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\nAND l.couponCode LIKE '%0001%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 65,
    "timestamp": 1692151219014,
    "message": "2023-08-16T02:00:19.014Z\tc7445bd6-a7b9-47e4-9d88-40249b1d44ea\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\nAND l.couponCode LIKE '%0001%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 66,
    "timestamp": 1692166036206,
    "message": "2023-08-16T06:07:16.206Z\t3f342ad5-9c58-489f-9d69-af5d8edb1ee4\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\nAND l.couponCode LIKE '%0003%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 67,
    "timestamp": 1692166716101,
    "message": "2023-08-16T06:18:36.101Z\t0492a4ba-ecab-4781-83c9-abc334ae970c\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\nAND l.couponCode LIKE '%0003%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 68,
    "timestamp": 1692168301582,
    "message": "2023-08-16T06:45:01.582Z\t0d356780-5718-40fe-b21c-1654ded2d8ca\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\nAND l.couponCode LIKE '%0003%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 69,
    "timestamp": 1692169169169,
    "message": "2023-08-16T06:59:29.169Z\te1c64da7-5757-4476-8089-1fcfdd07576e\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\nAND l.couponCode LIKE '%0003%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 70,
    "timestamp": 1692169921638,
    "message": "2023-08-16T07:12:01.638Z\t38545728-291f-480e-ab11-8de396742569\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\nAND l.couponCode LIKE '%0003%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 71,
    "timestamp": 1692234519741,
    "message": "2023-08-17T01:08:39.741Z\tc674ac73-a25a-44bb-b06c-2c1fcd845cc4\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\nAND l.couponCode LIKE '%0003%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 72,
    "timestamp": 1692689096553,
    "message": "2023-08-22T07:24:56.553Z\td243fb6c-9a4d-4d46-88da-cee60bd574fc\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 73,
    "timestamp": 1692777072008,
    "message": "2023-08-23T07:51:12.008Z\t2fe5b935-2754-4789-acc9-689c148f538e\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 74,
    "timestamp": 1692777481548,
    "message": "2023-08-23T07:58:01.548Z\t1ced6e99-e01e-4974-b8dd-4a579e2e35db\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 75,
    "timestamp": 1692779623220,
    "message": "2023-08-23T08:33:43.220Z\tbd4b7d3b-ebef-4612-a5aa-b5e01eb78032\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 76,
    "timestamp": 1692876077152,
    "message": "2023-08-24T11:21:17.152Z\t40c72239-8e60-4ca9-8d13-9f377c898d97\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\nAND l.couponCode LIKE '%0003%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 77,
    "timestamp": 1693385967113,
    "message": "2023-08-30T08:59:27.113Z\t474d617d-bc75-4146-902a-87d2164f8489\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 78,
    "timestamp": 1693450817289,
    "message": "2023-08-31T03:00:17.289Z\t7a1dc57e-7183-4d3a-80be-f5eff5c87b27\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\nAND l.couponCode LIKE '%0003%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 79,
    "timestamp": 1693482491450,
    "message": "2023-08-31T11:48:11.450Z\t2b3e7667-82b5-42cb-8cb9-c4fcc6a578a5\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\nAND l.couponCode LIKE '%0003%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 80,
    "timestamp": 1693532496113,
    "message": "2023-09-01T01:41:36.113Z\td27b6220-ad49-415f-aa54-7a6bbdc43342\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 81,
    "timestamp": 1693532656929,
    "message": "2023-09-01T01:44:16.929Z\t92b15a03-c955-4f9a-b380-981273d591ce\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 82,
    "timestamp": 1693615364261,
    "message": "2023-09-02T00:42:44.261Z\t50871469-1d62-4b54-8ef8-66087d6eafd0\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 83,
    "timestamp": 1693617736630,
    "message": "2023-09-02T01:22:16.630Z\t02a22543-e6c6-406c-b626-eff35357e185\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 84,
    "timestamp": 1694166961754,
    "message": "2023-09-08T09:56:01.754Z\tf71e3e14-d4cc-4fa3-91ad-d9ccb12c8512\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 85,
    "timestamp": 1694402843691,
    "message": "2023-09-11T03:27:23.691Z\tb6e1d3c8-dd61-4de9-b88b-8c647dc5ce26\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 86,
    "timestamp": 1694419010081,
    "message": "2023-09-11T07:56:50.081Z\t29e8a877-1f7d-4646-9e77-c5671ea644e3\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 87,
    "timestamp": 1694426079710,
    "message": "2023-09-11T09:54:39.710Z\t0e63c4d7-291d-46d5-9779-93223ad74fe7\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 88,
    "timestamp": 1695389963002,
    "message": "2023-09-22T13:39:23.002Z\t939103d5-7029-4359-9c36-35da1bd49357\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9'\n\n\n\n\nAND l.couponName LIKE '%200%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 89,
    "timestamp": 1695697064628,
    "message": "2023-09-26T02:57:44.628Z\tac2e16c0-3b4e-4d6f-a1f1-33de00d4f708\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9'\n\n\n\n\nAND l.couponName LIKE '%本番%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 90,
    "timestamp": 1695713774078,
    "message": "2023-09-26T07:36:14.078Z\t9ed0fd12-26bc-430a-9a04-c09c3fa5ce70\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9'\n\n\n\n\nAND l.couponName LIKE '%本番%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 91,
    "timestamp": 1695730245708,
    "message": "2023-09-26T12:10:45.708Z\t33b41c2a-ec3e-4b93-9883-7dff0e60778c\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '9add13c4-5214-4027-8f08-3ce1365cd70b'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 92,
    "timestamp": 1695730322968,
    "message": "2023-09-26T12:12:02.968Z\t108042e8-4b81-4e7a-b7d5-d7cfa9ba139b\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '9add13c4-5214-4027-8f08-3ce1365cd70b'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 100\n    \n    \n"
  },
  {
    "order": 93,
    "timestamp": 1695777394434,
    "message": "2023-09-27T01:16:34.434Z\t8f8b778f-f753-4d31-a0d8-b3d9881fa538\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9'\n\n\nAND o.name LIKE '%【本番】1F限定！200円OFFチケット%'\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 94,
    "timestamp": 1695777414203,
    "message": "2023-09-27T01:16:54.203Z\td224d085-03c0-43d8-abf2-7d0109cbe62c\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9'\n\n\nAND o.name LIKE '%【本番】1F限定！200円OFFチケット%'\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 100\n    \n    \n"
  },
  {
    "order": 95,
    "timestamp": 1695777434563,
    "message": "2023-09-27T01:17:14.563Z\t67f8562b-1c9f-4e0a-9951-6efb1cda70e6\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 96,
    "timestamp": 1695780093484,
    "message": "2023-09-27T02:01:33.484Z\t34391a4a-f7fd-4e82-821a-f8b534cd1530\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9'\n\n\n\n\nAND l.couponName LIKE '%本番】1F限定！200円OFFチケット%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 97,
    "timestamp": 1695784617779,
    "message": "2023-09-27T03:16:57.779Z\tb53d2ed4-921c-4223-8a21-783f2cad2bc8\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 98,
    "timestamp": 1695786598207,
    "message": "2023-09-27T03:49:58.207Z\t8649039e-b53f-4172-a2c3-f91e95c79ada\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9'\n\n\n\nAND l.couponCode LIKE '%lumine-tachikawa-cp2309%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 99,
    "timestamp": 1695790527002,
    "message": "2023-09-27T04:55:27.002Z\t1beca020-cf38-47ad-a105-01d5ac44afe0\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 100,
    "timestamp": 1695804745720,
    "message": "2023-09-27T08:52:25.720Z\t7b03cb53-3552-4faf-9db5-42874943e673\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 101,
    "timestamp": 1695891933136,
    "message": "2023-09-28T09:05:33.136Z\tf1245b4d-4c30-42ec-9771-9ad7b5167983\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5'\n\n\n\n\nAND l.couponName LIKE '%Aeon%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 102,
    "timestamp": 1695891949119,
    "message": "2023-09-28T09:05:49.119Z\ta8cc503c-f08d-4dba-9db6-c0f0d3a03c66\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5'\n\n\n\nAND l.couponCode LIKE '%Aeon%'\nAND l.couponName LIKE '%Aeon%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 103,
    "timestamp": 1695891964130,
    "message": "2023-09-28T09:06:04.130Z\tc503314b-b5f1-475f-808c-dc7139f50d27\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5'\n\n\n\nAND l.couponCode LIKE '%Aeon%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 104,
    "timestamp": 1696235024350,
    "message": "2023-10-02T08:23:44.350Z\te3cdd137-cdd6-4275-8d37-2519585dc62e\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 105,
    "timestamp": 1696235419033,
    "message": "2023-10-02T08:30:19.033Z\t899d7aa1-996d-4238-b7ec-4bef68a2371d\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 106,
    "timestamp": 1696237619783,
    "message": "2023-10-02T09:06:59.783Z\t718a9b15-7b33-479a-ab05-453f993dd2df\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 107,
    "timestamp": 1696316506517,
    "message": "2023-10-03T07:01:46.517Z\t2b9a452b-f101-47c9-a631-d2f3232027c1\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9'\n\n\n\n\nAND l.couponName LIKE '%本番%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 108,
    "timestamp": 1696340468640,
    "message": "2023-10-03T13:41:08.640Z\t9280e5ae-7a56-4cc0-8895-d599c6f80fe8\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9'\n\n\n\n\nAND l.couponName LIKE '%本番%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 109,
    "timestamp": 1696387088837,
    "message": "2023-10-04T02:38:08.837Z\t70a112fa-0b2d-475e-a00c-b982dbc9322e\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 110,
    "timestamp": 1696395266906,
    "message": "2023-10-04T04:54:26.906Z\ta3708b73-d648-476d-959e-0fe325ac5790\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 111,
    "timestamp": 1696395557880,
    "message": "2023-10-04T04:59:17.880Z\t3061fe89-a410-4838-9fc6-e8f1a56242a7\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 112,
    "timestamp": 1696475156497,
    "message": "2023-10-05T03:05:56.497Z\te6cfdbe5-bd31-458b-87c9-9b3fa883d897\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 113,
    "timestamp": 1696477518746,
    "message": "2023-10-05T03:45:18.746Z\tf5c87515-9c70-4f20-bd8d-43498545fb4a\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9'\n\n\n\n\nAND l.couponName LIKE '%本番%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 114,
    "timestamp": 1696556795246,
    "message": "2023-10-06T01:46:35.246Z\tfc387158-2256-4ddc-ba5c-4f8ce917a0f1\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9'\n\n\n\n\nAND l.couponName LIKE '%本番%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 115,
    "timestamp": 1696897345404,
    "message": "2023-10-10T00:22:25.404Z\td85858db-52bc-4397-8371-6da38f2a063f\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9'\n\n\nAND o.name LIKE '%200%'\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 116,
    "timestamp": 1697033529451,
    "message": "2023-10-11T14:12:09.451Z\tf0395aed-1d84-45f1-8e59-dbce865beab9\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%本番\\\\_2310%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 117,
    "timestamp": 1697033629123,
    "message": "2023-10-11T14:13:49.123Z\t77e402a3-2d74-4106-bcb6-ffe6b7cc53f9\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%本番\\\\_2310%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 100\n    \n    \n"
  },
  {
    "order": 118,
    "timestamp": 1697033826483,
    "message": "2023-10-11T14:17:06.483Z\t922cedad-d813-4900-b01b-00ce4359d11d\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%本番\\\\_2310%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 119,
    "timestamp": 1697033926801,
    "message": "2023-10-11T14:18:46.801Z\t90bfdd78-3c05-403f-9fe1-c4b98c76d963\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%本番\\\\_2310%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 100\n    \n    \n"
  },
  {
    "order": 120,
    "timestamp": 1697417276503,
    "message": "2023-10-16T00:47:56.503Z\t75845375-0627-456a-b510-6449025335b6\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9'\n\n\nAND o.name LIKE '%200%'\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 121,
    "timestamp": 1697455444574,
    "message": "2023-10-16T11:24:04.574Z\t04588887-a3ba-4720-99f0-c7db776cc5f8\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9'\n\n\n\n\nAND l.couponName LIKE '%本番%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 122,
    "timestamp": 1697532925521,
    "message": "2023-10-17T08:55:25.521Z\tbe89818c-5a55-461e-800e-90ceedef3647\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 123,
    "timestamp": 1698195569311,
    "message": "2023-10-25T00:59:29.311Z\tb63b87bc-ba27-4041-a651-5d43d33f198d\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f'\n\n\n\nAND l.couponCode LIKE '%fruitcoupon-kta-2023-10%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 124,
    "timestamp": 1698195706734,
    "message": "2023-10-25T01:01:46.734Z\t1cf07e33-3699-4434-92e6-3fbc95c6a73a\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f'\n\n\n\nAND l.couponCode LIKE '%fruitcoupon-kta-2023-10%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 125,
    "timestamp": 1698730193879,
    "message": "2023-10-31T05:29:53.879Z\t511c4cd8-91a1-4365-a073-3e1fde333336\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 126,
    "timestamp": 1698763187558,
    "message": "2023-10-31T14:39:47.558Z\tea38182e-c105-4f04-a924-c8bed8ce76c8\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2310%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 127,
    "timestamp": 1698765765231,
    "message": "2023-10-31T15:22:45.231Z\t935e9af3-eb3a-486e-9fd3-f096e9e2f5dc\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2311%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 128,
    "timestamp": 1698766006957,
    "message": "2023-10-31T15:26:46.957Z\tdb7c0861-66a6-4ed5-9db0-5271e6cbddb2\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2311%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 129,
    "timestamp": 1698766136377,
    "message": "2023-10-31T15:28:56.377Z\tacc2b5f2-48a9-4984-bb24-fcdba253f41c\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2311%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 100\n    \n    \n"
  },
  {
    "order": 130,
    "timestamp": 1698771462708,
    "message": "2023-10-31T16:57:42.708Z\t1808f47a-a34a-462e-8b98-2971324a1a74\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2311%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 131,
    "timestamp": 1698798709520,
    "message": "2023-11-01T00:31:49.520Z\t597f6fc8-c856-4d96-afde-d0eac5d288f5\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 132,
    "timestamp": 1698805707941,
    "message": "2023-11-01T02:28:27.941Z\tb31706ab-c005-4851-a4e8-ad44ea0d6fa3\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2311%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 133,
    "timestamp": 1698807042759,
    "message": "2023-11-01T02:50:42.759Z\t7ff98ad4-8f2d-4487-8c1d-14dc2f2bab4c\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2311%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 100\n    \n    \n"
  },
  {
    "order": 134,
    "timestamp": 1698807568858,
    "message": "2023-11-01T02:59:28.858Z\tb89f8f59-07bc-443b-ac62-897f0b913f34\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2310%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 135,
    "timestamp": 1698813815017,
    "message": "2023-11-01T04:43:35.017Z\t1c76e04b-8fc4-47b8-acd3-70957772da88\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2311%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 136,
    "timestamp": 1698813934759,
    "message": "2023-11-01T04:45:34.759Z\t6beedc6e-b0fc-4abf-9380-047244479c43\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2311%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 100\n    \n    \n"
  },
  {
    "order": 137,
    "timestamp": 1698915498258,
    "message": "2023-11-02T08:58:18.258Z\t1712d699-951d-4f70-b84f-c3e6348193c2\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2311%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 138,
    "timestamp": 1698915804129,
    "message": "2023-11-02T09:03:24.129Z\t032144d0-ab89-4696-9a90-ed1a0ce5c242\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2311%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 139,
    "timestamp": 1698916125889,
    "message": "2023-11-02T09:08:45.889Z\tda811277-a766-4179-9ab8-92086dbe6c46\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2311%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 140,
    "timestamp": 1698916362512,
    "message": "2023-11-02T09:12:42.512Z\t3cb47ccd-d356-4570-bbf9-bfbb482ca1f7\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2311%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 141,
    "timestamp": 1698917440124,
    "message": "2023-11-02T09:30:40.124Z\t9d0df12e-7a34-49b9-97ae-45a3bdcfb32c\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2311%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 142,
    "timestamp": 1698917795403,
    "message": "2023-11-02T09:36:35.403Z\t8ccc9985-f260-41e4-a5e4-2e2537f54555\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2311%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 143,
    "timestamp": 1698917908414,
    "message": "2023-11-02T09:38:28.414Z\t7363965d-409d-4d37-a8b0-76e68448ff0b\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2311%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 144,
    "timestamp": 1698918042975,
    "message": "2023-11-02T09:40:42.975Z\t1c2db070-848b-4841-9c93-d907cccc4078\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2311%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 145,
    "timestamp": 1698918185574,
    "message": "2023-11-02T09:43:05.574Z\t96059f2f-71fd-45f9-b564-7ad749c6d06a\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2311%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 146,
    "timestamp": 1698918303719,
    "message": "2023-11-02T09:45:03.719Z\t4fa4d158-b746-449b-96ab-65c86df5a892\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2311%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 147,
    "timestamp": 1698930419341,
    "message": "2023-11-02T13:06:59.341Z\t81ee1d17-b8cc-45f4-8359-30da1f092c81\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2311%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 148,
    "timestamp": 1699228708268,
    "message": "2023-11-05T23:58:28.268Z\tdcddd3e4-cd92-4a0e-b3d0-80fc95cb28ec\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%壱番屋アンケートクーポン　50円券\\\\_3\\\\_2311%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 149,
    "timestamp": 1699233979667,
    "message": "2023-11-06T01:26:19.667Z\t68050b5e-5bbd-477f-adcd-0fee6c786b2e\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2311%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 150,
    "timestamp": 1699235580856,
    "message": "2023-11-06T01:53:00.856Z\t468fe72f-63ad-439e-a060-9b484df1be0a\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2311%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 151,
    "timestamp": 1699235712173,
    "message": "2023-11-06T01:55:12.173Z\t3171145e-9e82-4d20-aeea-c94dd439f38a\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2311%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 152,
    "timestamp": 1699235854014,
    "message": "2023-11-06T01:57:34.014Z\tc447074c-a0e7-4f9e-90ca-3be81606f382\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2311%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 153,
    "timestamp": 1699236013568,
    "message": "2023-11-06T02:00:13.568Z\t0fc8b0fa-d6e8-4dd4-a4f2-6e665a2c865d\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2311%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 154,
    "timestamp": 1699236184450,
    "message": "2023-11-06T02:03:04.450Z\t8792804a-6f92-4988-8032-03cf87ae6022\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2311%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 155,
    "timestamp": 1699236337317,
    "message": "2023-11-06T02:05:37.317Z\t58eb0ed6-24e7-4ad0-86ef-092e040880f9\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2311%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 156,
    "timestamp": 1699236577475,
    "message": "2023-11-06T02:09:37.475Z\tb8f9f279-4c70-479e-b168-bc1ac154cc80\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2311%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 157,
    "timestamp": 1699236700048,
    "message": "2023-11-06T02:11:40.048Z\t1770a91d-5c58-4b9b-b029-feb52b8f207b\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2311%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 158,
    "timestamp": 1700203717295,
    "message": "2023-11-17T06:48:37.295Z\t01bd5fa4-8b91-4214-880f-868e94cc4eee\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 159,
    "timestamp": 1700497394547,
    "message": "2023-11-20T16:23:14.547Z\t8a27c197-3fa2-4c7f-939a-e206528cba56\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 160,
    "timestamp": 1700497599544,
    "message": "2023-11-20T16:26:39.544Z\te4715cf1-7d20-4fb8-bad3-8a5a475c4ce3\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2312%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 161,
    "timestamp": 1700497712849,
    "message": "2023-11-20T16:28:32.849Z\tdad603e0-97fe-4dfb-9f0b-a8bf3c378b8f\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2312%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 100\n    \n    \n"
  },
  {
    "order": 162,
    "timestamp": 1701047646464,
    "message": "2023-11-27T01:14:06.464Z\tec8df98d-07b3-4da1-80a5-0ed4858bbb27\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f'\n\n\n\n\nAND l.couponName LIKE '%京たんごフルーツキャンペーン%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 163,
    "timestamp": 1701051767818,
    "message": "2023-11-27T02:22:47.818Z\t2918c12e-d661-46ed-9884-24dad45d59dd\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 164,
    "timestamp": 1701217780524,
    "message": "2023-11-29T00:29:40.524Z\tb9cd894a-8bc5-46fe-87ac-19ce6c692b9e\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 165,
    "timestamp": 1701218317660,
    "message": "2023-11-29T00:38:37.660Z\tff7ce5f8-66e8-4e09-9801-961b814ca5ea\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 166,
    "timestamp": 1701219379091,
    "message": "2023-11-29T00:56:19.091Z\t6bee1a7e-e811-4b70-8871-b3ee77e6805f\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f'\n\n\n\n\nAND l.couponName LIKE '%京たんごフルーツキャンペーン%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 167,
    "timestamp": 1701413501598,
    "message": "2023-12-01T06:51:41.598Z\tc6c7a5ed-8708-4ad3-a357-4f030677721a\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\nAND o.name LIKE '%帰ってきた%'\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 168,
    "timestamp": 1701413535123,
    "message": "2023-12-01T06:52:15.123Z\tb96a9e98-4c7e-4f75-a002-f284521c8d03\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\n\nAND l.couponName LIKE '%帰ってきた%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 169,
    "timestamp": 1701949080078,
    "message": "2023-12-07T11:38:00.078Z\t0412e0ae-7853-4532-bce0-aefe54f4c4f1\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 170,
    "timestamp": 1702270620533,
    "message": "2023-12-11T04:57:00.533Z\t78717e7d-1f01-4001-8265-2132ab286d7e\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%23010%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 171,
    "timestamp": 1702274897017,
    "message": "2023-12-11T06:08:17.017Z\tf2cdf3f3-8167-4e58-bef3-4af456655bc4\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%テスト%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 172,
    "timestamp": 1702274992479,
    "message": "2023-12-11T06:09:52.479Z\teb47c18b-5a7c-472d-b776-10a2f71d3b02\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%本番%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 173,
    "timestamp": 1702276446464,
    "message": "2023-12-11T06:34:06.464Z\t8d32e5e0-7789-494a-bff5-a8d19219d952\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\nAND l.couponCode LIKE '%2311%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 174,
    "timestamp": 1702279187646,
    "message": "2023-12-11T07:19:47.646Z\t8f766105-1d6c-458f-a95f-18007a905f3f\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2312%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 175,
    "timestamp": 1702279282437,
    "message": "2023-12-11T07:21:22.437Z\t09d56d35-2714-437e-8fce-a367ab3ba274\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2312%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 100\n    \n    \n"
  },
  {
    "order": 176,
    "timestamp": 1702279846881,
    "message": "2023-12-11T07:30:46.881Z\tc14a8f2c-2b66-45f1-a72e-04b83566b39e\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%2311%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 177,
    "timestamp": 1702365108353,
    "message": "2023-12-12T07:11:48.353Z\tf039f9fe-fb78-4226-b4a0-9a0369c2a922\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%【本番\\\\_2311】%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 178,
    "timestamp": 1702365252297,
    "message": "2023-12-12T07:14:12.297Z\tbd72981d-c992-4ec4-90f2-6457c285f051\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%【本番\\\\_2311】%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 100\n    \n    \n"
  },
  {
    "order": 179,
    "timestamp": 1702365750732,
    "message": "2023-12-12T07:22:30.732Z\t8c6abc4c-1a75-480e-a407-adda0a0220fa\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%【本番\\\\_2310】%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 180,
    "timestamp": 1702365879278,
    "message": "2023-12-12T07:24:39.278Z\tee2d3d5b-7d46-4b30-aff2-32d46eef312e\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%【本番\\\\_2312】%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 181,
    "timestamp": 1702365981839,
    "message": "2023-12-12T07:26:21.839Z\tee0a5239-aa48-41ee-95cc-f6eff96ec4b5\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%【本番\\\\_2311】%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 182,
    "timestamp": 1704434155193,
    "message": "2024-01-05T05:55:55.193Z\tcc10c888-636d-4346-8a04-e4e038b88189\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 183,
    "timestamp": 1707108010990,
    "message": "2024-02-05T04:40:10.990Z\t0fab23f2-dff3-469f-9a3a-2330618ddd0c\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87'\n\n\n\nAND l.couponCode LIKE '%A1340340856868C%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 184,
    "timestamp": 1707536917067,
    "message": "2024-02-10T03:48:37.067Z\tf77608b2-9652-45ae-88d5-75848301d0a5\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 185,
    "timestamp": 1707536920986,
    "message": "2024-02-10T03:48:40.986Z\tc0d1eacf-4fd3-41a1-9c7a-cf56a1d2c8ae\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 100\n    \n    \n"
  },
  {
    "order": 186,
    "timestamp": 1707537061054,
    "message": "2024-02-10T03:51:01.054Z\t9006cafa-93b8-43f8-a525-9f9123bf654b\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98'\n\n\n\n\nAND l.couponName LIKE '%TESTクーポン%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 187,
    "timestamp": 1708674665738,
    "message": "2024-02-23T07:51:05.738Z\tce920b4c-b445-497f-a85e-cff7f355a671\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60'\n\n\n\nAND l.couponCode LIKE '%3300%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 188,
    "timestamp": 1709174908536,
    "message": "2024-02-29T02:48:28.536Z\t81f42f0e-1e4d-414e-9100-6e02548f5522\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 189,
    "timestamp": 1712283924943,
    "message": "2024-04-05T02:25:24.943Z\t27fac45d-d164-44d2-af32-486119403d41\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 190,
    "timestamp": 1712816367625,
    "message": "2024-04-11T06:19:27.625Z\te1cce233-ce21-4278-ac03-82cf1e7abe3d\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5'\n\n\n\nAND l.couponCode LIKE '%zennen%'\nAND l.couponName LIKE '%zennen%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 191,
    "timestamp": 1712816373796,
    "message": "2024-04-11T06:19:33.796Z\t59300815-131c-4d34-b01e-b79f49d15166\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5'\n\n\n\nAND l.couponCode LIKE '%zannen%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 192,
    "timestamp": 1712886866985,
    "message": "2024-04-12T01:54:26.985Z\tb23c7c2d-4b16-469a-a7e3-abfd77c765ff\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0'\n\n\n\nAND l.couponCode LIKE '%KF2024CP%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 193,
    "timestamp": 1713334307569,
    "message": "2024-04-17T06:11:47.569Z\tb73bbdc8-83ed-424c-be80-dc6963c322f7\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5'\n\n\n\n\nAND l.couponName LIKE '%easterreggdaichusenkai%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 194,
    "timestamp": 1714036080486,
    "message": "2024-04-25T09:08:00.486Z\t6a006e79-999f-43c9-82a0-06ae9cf2d573\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a'\n\n\n\nAND l.couponCode LIKE '%recruit-sample%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 195,
    "timestamp": 1716511701760,
    "message": "2024-05-24T00:48:21.760Z\t5bf66035-a72d-4e24-9a46-2a1c8d965f12\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\nAND l.couponCode LIKE '%ichibanya-100yen-2405%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 196,
    "timestamp": 1716951943440,
    "message": "2024-05-29T03:05:43.440Z\t177d15d2-cb25-460b-89b0-57864137f747\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\nAND l.couponCode LIKE '%ichibanya-100yen-2405%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 197,
    "timestamp": 1717124428280,
    "message": "2024-05-31T03:00:28.280Z\tb4a7e2e9-43b3-41bd-b1dd-ba00ce958a74\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985'\n\n\n\n\nAND l.couponName LIKE '%ichibanya%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 198,
    "timestamp": 1717389255160,
    "message": "2024-06-03T04:34:15.160Z\t2d6260c7-0b97-4cd9-ae41-55425c8a3cef\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5'\n\n\n\n\nAND l.couponName LIKE '%easterreggdaichusenkai%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 199,
    "timestamp": 1717389274449,
    "message": "2024-06-03T04:34:34.449Z\t6ce14bda-4b38-4478-b8b4-d17b73cca948\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5'\n\n\n\nAND l.couponCode LIKE '%easterreggdaichusenkai%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 200,
    "timestamp": 1717821805314,
    "message": "2024-06-08T04:43:25.314Z\tb5e6ff08-682c-4d1f-bf58-2e02a1e8b70b\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 201,
    "timestamp": 1720503576830,
    "message": "2024-07-09T05:39:36.830Z\taf20b812-1758-4d03-a27c-dea4a8c41f25\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87'\n\n\n\nAND l.couponCode LIKE '%030034007%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 202,
    "timestamp": 1720503905765,
    "message": "2024-07-09T05:45:05.765Z\t84834282-79c5-428d-8aaf-528e5e9d6748\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87'\n\n\n\nAND l.couponCode LIKE '%030034007%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 203,
    "timestamp": 1720503994084,
    "message": "2024-07-09T05:46:34.084Z\t63ae523c-c460-40ad-bffd-abe451329882\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87'\n\n\n\nAND l.couponCode LIKE '%030034007%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 100\n    \n    \n"
  },
  {
    "order": 204,
    "timestamp": 1720515351709,
    "message": "2024-07-09T08:55:51.709Z\tae72544b-4d22-492f-98c5-d9b8f08cb9c9\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87'\n\n\n\nAND l.couponCode LIKE '%030034007%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 205,
    "timestamp": 1720515590051,
    "message": "2024-07-09T08:59:50.051Z\td1df739d-5448-4fa1-ac0c-94ebbc912abe\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87'\n\n\n\nAND l.couponCode LIKE '%030034007%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 206,
    "timestamp": 1721297851836,
    "message": "2024-07-18T10:17:31.836Z\t79712bf4-8ca5-4080-9828-7b4cc77c350e\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87'\n\n\n\nAND l.couponCode LIKE '%030036007%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 207,
    "timestamp": 1721900969959,
    "message": "2024-07-25T09:49:29.959Z\te506bb30-8cc2-4529-adce-35b7c55c29bc\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87'\n\n\n\nAND l.couponCode LIKE '%29284%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 208,
    "timestamp": 1721901069975,
    "message": "2024-07-25T09:51:09.975Z\tc5455134-167f-4d2f-b4f2-32c1efda23e2\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87'\n\n\n\n\nAND l.couponName LIKE '%KC1094%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 209,
    "timestamp": 1722313625172,
    "message": "2024-07-30T04:27:05.172Z\t7f86fd72-2cf0-4535-b233-b6c2f69c3ccc\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87'\n\n\n\nAND l.couponCode LIKE '%KG1031%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 210,
    "timestamp": 1722313641840,
    "message": "2024-07-30T04:27:21.840Z\t97301423-3952-4e9d-aaae-23f803d4bf2a\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87'\n\n\n\n\nAND l.couponName LIKE '%KG1031%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 211,
    "timestamp": 1722473477408,
    "message": "2024-08-01T00:51:17.408Z\t9c479ca9-c3a7-4436-8750-27ff87e2e4fe\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\n\nAND l.couponName LIKE '%【らあめん花月嵐】当選者クーポン%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 212,
    "timestamp": 1722922835604,
    "message": "2024-08-06T05:40:35.604Z\tbc535f65-68c2-494d-9594-7063b584ac31\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 213,
    "timestamp": 1724117059497,
    "message": "2024-08-20T01:24:19.497Z\tdf9f29e0-f0a0-4c0f-b575-def273ab2e3d\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87'\n\n\n\nAND l.couponCode LIKE '%KC1094%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 214,
    "timestamp": 1724117092179,
    "message": "2024-08-20T01:24:52.179Z\t508f799c-850c-41ff-a629-fc42cb9399a5\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87'\n\n\n\n\nAND l.couponName LIKE '%KC1094%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 215,
    "timestamp": 1724944310123,
    "message": "2024-08-29T15:11:50.123Z\tad5d71be-074e-4cf8-8da0-1417c1c6935e\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b'\n\n\n\nAND l.couponCode LIKE '%mua2tang1%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 216,
    "timestamp": 1725257783407,
    "message": "2024-09-02T06:16:23.407Z\t3a1a0747-f815-4900-b509-6736da3016be\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 217,
    "timestamp": 1725345327450,
    "message": "2024-09-03T06:35:27.450Z\t3d0caad3-6ace-4ddf-bc82-6936248784a6\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '567e0287-35bc-47b4-aa0d-c7c3a9ed6fe0'\n\n\n\nAND l.couponCode LIKE '%1010cp2-8-1202-1203-SBGIFT%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 218,
    "timestamp": 1725373283429,
    "message": "2024-09-03T14:21:23.429Z\t8cb28a08-8940-4898-bcb8-8925e9221f86\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 219,
    "timestamp": 1725374377809,
    "message": "2024-09-03T14:39:37.809Z\t5093bf30-5921-46b2-814a-fe8f2fed5570\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47'\n\n\n\n\nAND l.couponName LIKE '%Bkyotsu240903%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 220,
    "timestamp": 1725848477429,
    "message": "2024-09-09T02:21:17.429Z\t161d0fb2-ab44-4868-b7a6-d56ea7d0089c\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 221,
    "timestamp": 1726034148706,
    "message": "2024-09-11T05:55:48.706Z\tfa18a0bc-1a89-4570-aedf-98989cda72f8\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '86b02ca3-a865-40ac-af49-958eb6f2176c'\n\n\n\nAND l.couponCode LIKE '%012311287601916%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 222,
    "timestamp": 1727831859074,
    "message": "2024-10-02T01:17:39.074Z\tc8480870-b594-4790-9e57-8adf60dcc77e\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'd0f3d304-3ddc-4c0a-90b0-5c3656c150d1'\n\n\n\n\nAND l.couponName LIKE '%sample%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 223,
    "timestamp": 1727831896036,
    "message": "2024-10-02T01:18:16.036Z\tbbc3eb37-e37e-46b2-8dec-2f87916324e3\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'd0f3d304-3ddc-4c0a-90b0-5c3656c150d1'\n\n\n\n\nAND l.couponName LIKE '%sample%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 224,
    "timestamp": 1727964394977,
    "message": "2024-10-03T14:06:34.977Z\t61e2bbf8-f8aa-497c-b4e3-34779ba48d93\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b'\n\n\n\n\nAND l.couponName LIKE '%abcde%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 225,
    "timestamp": 1728367730405,
    "message": "2024-10-08T06:08:50.405Z\t917ff109-4a05-492d-aa11-6e0b80f24918\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0'\n\n\n\nAND l.couponCode LIKE '%ACLE1105%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 226,
    "timestamp": 1728522205165,
    "message": "2024-10-10T01:03:25.165Z\t746f0e88-d02d-44fb-adfc-4ab570e26de0\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\n\nAND l.couponName LIKE '%tokyo-seto%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 227,
    "timestamp": 1728522209467,
    "message": "2024-10-10T01:03:29.467Z\tf220da4f-fb8c-4c41-bd3c-2b31425a019d\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\n\nAND l.couponName LIKE '%tokyo-sento%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 228,
    "timestamp": 1728523147632,
    "message": "2024-10-10T01:19:07.632Z\t29575676-2e6d-4e05-b2b0-b884ff989a64\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\n\nAND l.couponName LIKE '%sento%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 229,
    "timestamp": 1728523174619,
    "message": "2024-10-10T01:19:34.619Z\tcfcf657e-76f2-4cdf-ac0e-4a586c833a0a\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\nAND l.couponCode LIKE '%sento%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 230,
    "timestamp": 1728528938960,
    "message": "2024-10-10T02:55:38.960Z\t942b501b-f134-44fa-b3d1-e8e35583d943\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\nAND l.couponCode LIKE '%sento%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 231,
    "timestamp": 1728529187961,
    "message": "2024-10-10T02:59:47.961Z\t72373e6e-0508-4d46-84ce-33ef3b892009\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\nAND l.couponCode LIKE '%tokyo-sento%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 232,
    "timestamp": 1728622571365,
    "message": "2024-10-11T04:56:11.365Z\t46fb1303-7975-450d-a3ea-2ef7e64bf0f7\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\nAND l.couponCode LIKE '%tokyo-sento%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 233,
    "timestamp": 1728950968876,
    "message": "2024-10-15T00:09:28.876Z\t13f4b633-d133-4475-8cc1-7ef3204f5f6d\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\n\nAND l.couponName LIKE '%tokyo-sento%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 234,
    "timestamp": 1729037901872,
    "message": "2024-10-16T00:18:21.872Z\t9d29cc88-51ca-4ffb-93f1-d400aa678f85\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\nAND l.couponCode LIKE '%tokyo-sento%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 235,
    "timestamp": 1729469808382,
    "message": "2024-10-21T00:16:48.382Z\td9a991fd-48bd-4174-9e41-b5d28248e0e4\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\nAND l.couponCode LIKE '%tokyo-seto%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 236,
    "timestamp": 1729490816409,
    "message": "2024-10-21T06:06:56.409Z\t2c3d838d-7dc3-4c6e-b907-88d908f6cc08\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\nAND l.couponCode LIKE '%tokyo-sento%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 237,
    "timestamp": 1729555416343,
    "message": "2024-10-22T00:03:36.343Z\t4e606759-a3d6-4b6d-ac87-0db8ce62093f\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\nAND l.couponCode LIKE '%tokyo-sento%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 238,
    "timestamp": 1729815599706,
    "message": "2024-10-25T00:19:59.706Z\t644a7a61-66cf-4f31-a8c4-84560deb3720\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\nAND l.couponCode LIKE '%tokyo-sento%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 239,
    "timestamp": 1730246216331,
    "message": "2024-10-29T23:56:56.331Z\t082a4b0f-3f86-42fc-9f51-61f67658888d\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\nAND l.couponCode LIKE '%tokyo-sento%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 240,
    "timestamp": 1730324191782,
    "message": "2024-10-30T21:36:31.782Z\tb3b9cb82-2526-4bc0-a89c-3c5145b700a7\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 241,
    "timestamp": 1730324370355,
    "message": "2024-10-30T21:39:30.355Z\t2f90fe55-c0aa-4985-b43c-658ffde219e6\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a'\n\n\n\nAND l.couponCode LIKE '%1010cp-line1-7-15pre%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 242,
    "timestamp": 1730324487757,
    "message": "2024-10-30T21:41:27.757Z\t7718b698-f599-477c-be9d-d7a29ea1cdf4\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a'\n\n\n\n\nAND l.couponName LIKE '%東京1010クーポン%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 243,
    "timestamp": 1730324702051,
    "message": "2024-10-30T21:45:02.051Z\t021156b5-26ae-4c23-9312-ad366ff5efb0\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a'\n\n\nAND o.name LIKE '%SBギフト%'\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 244,
    "timestamp": 1730372588245,
    "message": "2024-10-31T11:03:08.245Z\tf8a53ae9-5393-477d-beb2-d9843d6611f6\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 245,
    "timestamp": 1731376116051,
    "message": "2024-11-12T01:48:36.051Z\tdb9f4cde-13f5-4c67-b905-58ed0b5385b6\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 246,
    "timestamp": 1731629509739,
    "message": "2024-11-15T00:11:49.739Z\tf59758a5-7518-4977-9c55-36315671be1f\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\n\nAND l.couponName LIKE '%tokyo-sento%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 247,
    "timestamp": 1731630057108,
    "message": "2024-11-15T00:20:57.108Z\t3d81a94b-f3b8-4f5b-baa6-c3fe04f6f253\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a'\n\n\n\n\nAND l.couponName LIKE '%tokyo-sento%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 248,
    "timestamp": 1732519326894,
    "message": "2024-11-25T07:22:06.894Z\tc0b79226-5cb3-46ca-828e-3061aa20d102\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 249,
    "timestamp": 1732519373651,
    "message": "2024-11-25T07:22:53.651Z\t0e297d63-2702-4288-8f7b-dd574730df3c\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0'\n\n\n\n\nAND l.couponName LIKE '%ACLE%'\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 250,
    "timestamp": 1732525990002,
    "message": "2024-11-25T09:13:10.002Z\t851e76c4-5546-402b-82bd-1186a50f664f\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 251,
    "timestamp": 1732527174828,
    "message": "2024-11-25T09:32:54.828Z\t27128268-4035-4ff5-9b90-ea42de2790f6\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0'\n\n\n\nAND l.couponCode LIKE '%ACLEcoupon%'\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 252,
    "timestamp": 1733473347985,
    "message": "2024-12-06T08:22:27.985Z\t59b9b372-570d-4f79-9d89-c697a7084d6b\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'fb96ab72-2211-4617-aa21-91a76b050360'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 253,
    "timestamp": 1733475410374,
    "message": "2024-12-06T08:56:50.374Z\t9abc38cb-be27-4f55-adf7-69f01bf24cc7\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'fb96ab72-2211-4617-aa21-91a76b050360'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  },
  {
    "order": 254,
    "timestamp": 1733705840292,
    "message": "2024-12-09T00:57:20.292Z\t9cf49550-7e68-4dbb-aae2-792beeee8057\tINFO\tsql \n        SELECT l.couponMasterId,\n               o.resourceId,\n               o.name,\n               l.couponCode,\n               l.couponName,\n               (\n                   SELECT COUNT(*)\n                      FROM coupon_logs l2\n                      WHERE l2.type = 'issued'\n                        AND l2.couponMasterId = l.couponMasterId\n                        AND NOT EXISTS(\n                          SELECT\n                            1\n                          FROM\n                            coupon_logs AS l3\n                          WHERE\n                            l2.couponId = l3.couponId\n                            AND l3.type = 'issued'\n                            AND l2.createAtMillis < l3.createAtMillis\n                        )\n               ) AS \"発行数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'used'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"使用済数\",\n               (\n                   SELECT COUNT(*)\n                   FROM coupon_logs l2\n                   WHERE l2.type = 'canceled'\n                     AND l2.couponMasterId = l.couponMasterId\n                     AND NOT EXISTS(\n                           SELECT 1\n                           FROM coupon_logs AS l3\n                           WHERE l2.couponId = l3.couponId\n                             AND l3.type <> 'displayed'\n                             AND l2.createAtMillis < l3.createAtMillis\n                       )\n               ) AS \"キャンセル\",\n               (SELECT COUNT(*)\n                FROM coupon_logs l2\n                WHERE l2.type = 'displayed'\n                  AND l2.couponMasterId = l.couponMasterId)\n                    \nFROM \n    coupon_logs l\nJOIN (\n  SELECT \n    couponMasterId,\n    MAX(createAtMillis) AS createAtMillis\n  FROM coupon_logs\n  GROUP BY couponMasterId \n) latest\nON l.couponMasterId = latest.couponMasterId\nAND l.createAtMillis = latest.createAtMillis\n \nJOIN \n    organization_closure oc\n    ON oc.childId = l.organizationId\nJOIN \n    organization o\n    ON o.resourceId = l.organizationId\nWHERE \n    oc.parentId = 'fb96ab72-2211-4617-aa21-91a76b050360'\n\n\n\n\n\n\n        ORDER BY l.couponCode,\n                 l.couponName,\n                 l.createAtMillis,\n                 o.resourceId\n\nLIMIT 100\nOFFSET 0\n    \n    \n"
  }
]