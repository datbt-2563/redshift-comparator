[
  {
    "no": "2011",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_1"
  },
  {
    "no": "2012",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%022956007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%022956007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_2"
  },
  {
    "no": "2013",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponCode LIKE '%022956007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponCode LIKE '%022956007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_3"
  },
  {
    "no": "2014",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponCode LIKE '%022956007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponCode LIKE '%022956007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_4"
  },
  {
    "no": "2015",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%022956007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%022956007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_5"
  },
  {
    "no": "2016",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_6"
  },
  {
    "no": "2017",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_7"
  },
  {
    "no": "2018",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponCode LIKE '%012206%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponCode LIKE '%012206%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_8"
  },
  {
    "no": "2019",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponCode LIKE '%012206%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponCode LIKE '%012206%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_9"
  },
  {
    "no": "2020",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponCode LIKE '%012206%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponCode LIKE '%012206%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q5_10"
  },
  {
    "no": "2021",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '77d5a94c-249e-4a2e-b7eb-b13bb418733b' AND l.couponName LIKE '%商品A コード入力%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '77d5a94c-249e-4a2e-b7eb-b13bb418733b' AND l.couponName LIKE '%商品A コード入力%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_11"
  },
  {
    "no": "2022",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd0f3d304-3ddc-4c0a-90b0-5c3656c150d1' AND l.couponName LIKE '%【CoCo壱番屋】demoクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd0f3d304-3ddc-4c0a-90b0-5c3656c150d1' AND l.couponName LIKE '%【CoCo壱番屋】demoクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_12"
  },
  {
    "no": "2023",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/19/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_13"
  },
  {
    "no": "2024",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/24/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%99999999%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%99999999%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_14"
  },
  {
    "no": "2025",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/24/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_15"
  },
  {
    "no": "2026",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_16"
  },
  {
    "no": "2027",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_17"
  },
  {
    "no": "2028",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_18"
  },
  {
    "no": "2029",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_19"
  },
  {
    "no": "2030",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_20"
  },
  {
    "no": "2031",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_21"
  },
  {
    "no": "2032",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_22"
  },
  {
    "no": "2033",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/7/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_23"
  },
  {
    "no": "2034",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/8/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1012%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1012%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_24"
  },
  {
    "no": "2035",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/9/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_25"
  },
  {
    "no": "2036",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/9/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_26"
  },
  {
    "no": "2037",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/10/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_27"
  },
  {
    "no": "2038",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/10/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_28"
  },
  {
    "no": "2039",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/16/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_29"
  },
  {
    "no": "2040",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/16/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_30"
  },
  {
    "no": "2041",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/16/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_31"
  },
  {
    "no": "2042",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/16/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_32"
  },
  {
    "no": "2043",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/16/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_33"
  },
  {
    "no": "2044",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/16/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_34"
  },
  {
    "no": "2045",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/17/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_35"
  },
  {
    "no": "2046",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/22/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_36"
  },
  {
    "no": "2047",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/23/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_37"
  },
  {
    "no": "2048",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/23/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_38"
  },
  {
    "no": "2049",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/23/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_39"
  },
  {
    "no": "2050",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/24/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_40"
  },
  {
    "no": "2051",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/30/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_41"
  },
  {
    "no": "2052",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/31/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_42"
  },
  {
    "no": "2053",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/31/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_43"
  },
  {
    "no": "2054",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_44"
  },
  {
    "no": "2055",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_45"
  },
  {
    "no": "2056",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_46"
  },
  {
    "no": "2057",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_47"
  },
  {
    "no": "2058",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/8/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_48"
  },
  {
    "no": "2059",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_49"
  },
  {
    "no": "2060",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_50"
  },
  {
    "no": "2061",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_51"
  },
  {
    "no": "2062",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/22/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_52"
  },
  {
    "no": "2063",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_53"
  },
  {
    "no": "2064",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_54"
  },
  {
    "no": "2065",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '9add13c4-5214-4027-8f08-3ce1365cd70b' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '9add13c4-5214-4027-8f08-3ce1365cd70b' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_55"
  },
  {
    "no": "2066",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '9add13c4-5214-4027-8f08-3ce1365cd70b' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '9add13c4-5214-4027-8f08-3ce1365cd70b' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q5_56"
  },
  {
    "no": "2067",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND o.name LIKE '%【本番】1F限定！200円OFFチケット%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND o.name LIKE '%【本番】1F限定！200円OFFチケット%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_57"
  },
  {
    "no": "2068",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND o.name LIKE '%【本番】1F限定！200円OFFチケット%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND o.name LIKE '%【本番】1F限定！200円OFFチケット%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q5_58"
  },
  {
    "no": "2069",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_59"
  },
  {
    "no": "2070",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番】1F限定！200円OFFチケット%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番】1F限定！200円OFFチケット%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_60"
  },
  {
    "no": "2071",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_61"
  },
  {
    "no": "2072",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponCode LIKE '%lumine-tachikawa-cp2309%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponCode LIKE '%lumine-tachikawa-cp2309%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_62"
  },
  {
    "no": "2073",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_63"
  },
  {
    "no": "2074",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_64"
  },
  {
    "no": "2075",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponName LIKE '%Aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponName LIKE '%Aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_65"
  },
  {
    "no": "2076",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%Aeon%' AND l.couponName LIKE '%Aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%Aeon%' AND l.couponName LIKE '%Aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_66"
  },
  {
    "no": "2077",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%Aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%Aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_67"
  },
  {
    "no": "2078",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_68"
  },
  {
    "no": "2079",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_69"
  },
  {
    "no": "2080",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_70"
  },
  {
    "no": "2081",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_71"
  },
  {
    "no": "2082",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_72"
  },
  {
    "no": "2083",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/4/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_73"
  },
  {
    "no": "2084",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/4/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_74"
  },
  {
    "no": "2085",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/4/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_75"
  },
  {
    "no": "2086",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/5/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_76"
  },
  {
    "no": "2087",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/5/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_77"
  },
  {
    "no": "2088",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_78"
  },
  {
    "no": "2089",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND o.name LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND o.name LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_79"
  },
  {
    "no": "2090",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\\\_2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\\\_2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_80"
  },
  {
    "no": "2091",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\\\_2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\\\_2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q5_81"
  },
  {
    "no": "2092",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\\\_2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\\\_2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_82"
  },
  {
    "no": "2093",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\\\_2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\\\_2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q5_83"
  },
  {
    "no": "2094",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/16/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND o.name LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND o.name LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_84"
  },
  {
    "no": "2095",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/16/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_85"
  },
  {
    "no": "2096",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/17/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_86"
  },
  {
    "no": "2097",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/25/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponCode LIKE '%fruitcoupon-kta-2023-10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponCode LIKE '%fruitcoupon-kta-2023-10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_87"
  },
  {
    "no": "2098",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/25/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponCode LIKE '%fruitcoupon-kta-2023-10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponCode LIKE '%fruitcoupon-kta-2023-10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_88"
  },
  {
    "no": "2099",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/31/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_89"
  },
  {
    "no": "2100",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/31/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_90"
  },
  {
    "no": "2101",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/31/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_91"
  },
  {
    "no": "2102",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/31/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_92"
  },
  {
    "no": "2103",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/31/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q5_93"
  },
  {
    "no": "2104",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/31/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_94"
  },
  {
    "no": "2105",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_95"
  },
  {
    "no": "2106",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_96"
  },
  {
    "no": "2107",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q5_97"
  },
  {
    "no": "2108",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_98"
  },
  {
    "no": "2109",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_99"
  },
  {
    "no": "2110",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q5_100"
  },
  {
    "no": "2111",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_101"
  },
  {
    "no": "2112",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_102"
  },
  {
    "no": "2113",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_103"
  },
  {
    "no": "2114",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_104"
  },
  {
    "no": "2115",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_105"
  },
  {
    "no": "2116",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_106"
  },
  {
    "no": "2117",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_107"
  },
  {
    "no": "2118",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_108"
  },
  {
    "no": "2119",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_109"
  },
  {
    "no": "2120",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_110"
  },
  {
    "no": "2121",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_111"
  },
  {
    "no": "2122",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン 50円券\\\\_3\\\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン 50円券\\\\_3\\\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_112"
  },
  {
    "no": "2123",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_113"
  },
  {
    "no": "2124",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_114"
  },
  {
    "no": "2125",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_115"
  },
  {
    "no": "2126",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_116"
  },
  {
    "no": "2127",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_117"
  },
  {
    "no": "2128",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_118"
  },
  {
    "no": "2129",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_119"
  },
  {
    "no": "2130",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_120"
  },
  {
    "no": "2131",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_121"
  },
  {
    "no": "2132",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/17/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_122"
  },
  {
    "no": "2133",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/20/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_123"
  },
  {
    "no": "2134",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/20/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_124"
  },
  {
    "no": "2135",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/20/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q5_125"
  },
  {
    "no": "2136",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_126"
  },
  {
    "no": "2137",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_127"
  },
  {
    "no": "2138",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_128"
  },
  {
    "no": "2139",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_129"
  },
  {
    "no": "2140",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_130"
  },
  {
    "no": "2141",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND o.name LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND o.name LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_131"
  },
  {
    "no": "2142",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_132"
  },
  {
    "no": "2143",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/7/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_133"
  },
  {
    "no": "2144",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%23010%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%23010%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_134"
  },
  {
    "no": "2145",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%テスト%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%テスト%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_135"
  },
  {
    "no": "2146",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_136"
  },
  {
    "no": "2147",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_137"
  },
  {
    "no": "2148",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_138"
  },
  {
    "no": "2149",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q5_139"
  },
  {
    "no": "2150",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_140"
  },
  {
    "no": "2151",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\\\_2311】%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\\\_2311】%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_141"
  },
  {
    "no": "2152",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\\\_2311】%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\\\_2311】%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q5_142"
  },
  {
    "no": "2153",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\\\_2310】%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\\\_2310】%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_143"
  },
  {
    "no": "2154",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\\\_2312】%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\\\_2312】%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_144"
  },
  {
    "no": "2155",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\\\_2311】%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\\\_2311】%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_145"
  },
  {
    "no": "2156",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_146"
  },
  {
    "no": "2157",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%A1340340856868C%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%A1340340856868C%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_147"
  },
  {
    "no": "2158",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_148"
  },
  {
    "no": "2159",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q5_149"
  },
  {
    "no": "2160",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponName LIKE '%TESTクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponName LIKE '%TESTクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_150"
  },
  {
    "no": "2161",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/23/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' AND l.couponCode LIKE '%3300%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' AND l.couponCode LIKE '%3300%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_151"
  },
  {
    "no": "2162",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_152"
  },
  {
    "no": "2163",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_153"
  },
  {
    "no": "2164",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/11/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%zennen%' AND l.couponName LIKE '%zennen%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%zennen%' AND l.couponName LIKE '%zennen%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_154"
  },
  {
    "no": "2165",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/11/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%zannen%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%zannen%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_155"
  },
  {
    "no": "2166",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/12/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%KF2024CP%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%KF2024CP%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_156"
  },
  {
    "no": "2167",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/17/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponName LIKE '%easterreggdaichusenkai%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponName LIKE '%easterreggdaichusenkai%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_157"
  },
  {
    "no": "2168",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%recruit-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%recruit-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_158"
  },
  {
    "no": "2169",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/24/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_159"
  },
  {
    "no": "2170",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_160"
  },
  {
    "no": "2171",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/31/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_161"
  },
  {
    "no": "2172",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/3/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponName LIKE '%easterreggdaichusenkai%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponName LIKE '%easterreggdaichusenkai%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_162"
  },
  {
    "no": "2173",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/3/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%easterreggdaichusenkai%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%easterreggdaichusenkai%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_163"
  },
  {
    "no": "2174",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/8/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_164"
  },
  {
    "no": "2175",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030034007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030034007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_165"
  },
  {
    "no": "2176",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030034007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030034007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_166"
  },
  {
    "no": "2177",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030034007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030034007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q5_167"
  },
  {
    "no": "2178",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030034007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030034007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_168"
  },
  {
    "no": "2179",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030034007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030034007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_169"
  },
  {
    "no": "2180",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/18/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030036007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030036007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_170"
  },
  {
    "no": "2181",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%29284%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%29284%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_171"
  },
  {
    "no": "2182",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_172"
  },
  {
    "no": "2183",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%KG1031%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%KG1031%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_173"
  },
  {
    "no": "2184",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KG1031%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KG1031%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_174"
  },
  {
    "no": "2185",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponName LIKE '%【らあめん花月嵐】当選者クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponName LIKE '%【らあめん花月嵐】当選者クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_175"
  },
  {
    "no": "2186",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/6/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_176"
  },
  {
    "no": "2187",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/20/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_177"
  },
  {
    "no": "2188",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/20/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_178"
  },
  {
    "no": "2189",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%mua2tang1%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%mua2tang1%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_179"
  },
  {
    "no": "2190",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_180"
  },
  {
    "no": "2191",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/3/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '567e0287-35bc-47b4-aa0d-c7c3a9ed6fe0' AND l.couponCode LIKE '%1010cp2-8-1202-1203-SBGIFT%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '567e0287-35bc-47b4-aa0d-c7c3a9ed6fe0' AND l.couponCode LIKE '%1010cp2-8-1202-1203-SBGIFT%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_181"
  },
  {
    "no": "2192",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/3/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_182"
  },
  {
    "no": "2193",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/3/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47' AND l.couponName LIKE '%Bkyotsu240903%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47' AND l.couponName LIKE '%Bkyotsu240903%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_183"
  },
  {
    "no": "2194",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_184"
  },
  {
    "no": "2195",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/11/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '86b02ca3-a865-40ac-af49-958eb6f2176c' AND l.couponCode LIKE '%012311287601916%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '86b02ca3-a865-40ac-af49-958eb6f2176c' AND l.couponCode LIKE '%012311287601916%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_185"
  },
  {
    "no": "2196",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd0f3d304-3ddc-4c0a-90b0-5c3656c150d1' AND l.couponName LIKE '%sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd0f3d304-3ddc-4c0a-90b0-5c3656c150d1' AND l.couponName LIKE '%sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_186"
  },
  {
    "no": "2197",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd0f3d304-3ddc-4c0a-90b0-5c3656c150d1' AND l.couponName LIKE '%sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd0f3d304-3ddc-4c0a-90b0-5c3656c150d1' AND l.couponName LIKE '%sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_187"
  },
  {
    "no": "2198",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/3/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponName LIKE '%abcde%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponName LIKE '%abcde%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_188"
  },
  {
    "no": "2199",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/8/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_189"
  },
  {
    "no": "2200",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%tokyo-seto%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%tokyo-seto%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_190"
  },
  {
    "no": "2201",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_191"
  },
  {
    "no": "2202",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_192"
  },
  {
    "no": "2203",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_193"
  },
  {
    "no": "2204",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_194"
  },
  {
    "no": "2205",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_195"
  },
  {
    "no": "2206",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/11/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_196"
  },
  {
    "no": "2207",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/15/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_197"
  },
  {
    "no": "2208",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_198"
  },
  {
    "no": "2209",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/21/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-seto%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-seto%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_199"
  },
  {
    "no": "2210",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/21/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_200"
  },
  {
    "no": "2211",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/22/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_201"
  },
  {
    "no": "2212",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_202"
  },
  {
    "no": "2213",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_203"
  },
  {
    "no": "2214",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/31/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_204"
  },
  {
    "no": "2215",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/31/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%1010cp-line1-7-15pre%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%1010cp-line1-7-15pre%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_205"
  },
  {
    "no": "2216",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/31/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_206"
  },
  {
    "no": "2217",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/31/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND o.name LIKE '%SBギフト%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND o.name LIKE '%SBギフト%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_207"
  },
  {
    "no": "2218",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/31/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_208"
  },
  {
    "no": "2219",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/12/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_209"
  },
  {
    "no": "2220",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/15/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_210"
  },
  {
    "no": "2221",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/15/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_211"
  },
  {
    "no": "2222",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_212"
  },
  {
    "no": "2223",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponName LIKE '%ACLE%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponName LIKE '%ACLE%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_213"
  },
  {
    "no": "2224",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_214"
  },
  {
    "no": "2225",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLEcoupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLEcoupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_215"
  },
  {
    "no": "2226",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/6/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'fb96ab72-2211-4617-aa21-91a76b050360' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'fb96ab72-2211-4617-aa21-91a76b050360' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_216"
  },
  {
    "no": "2227",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/6/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'fb96ab72-2211-4617-aa21-91a76b050360' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'fb96ab72-2211-4617-aa21-91a76b050360' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_217"
  },
  {
    "no": "2228",
    "queryPattern": "Q5",
    "name": "Display Aggregate Json",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'fb96ab72-2211-4617-aa21-91a76b050360' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'fb96ab72-2211-4617-aa21-91a76b050360' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q5_218"
  },
  {
    "no": "2267",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%022956007%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%022956007%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/92aea2c5-9f75-4702-8d32-c9eec0839560/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_1"
  },
  {
    "no": "2268",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponCode LIKE '%022956007%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponCode LIKE '%022956007%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/574dda23-7826-4bc1-be81-de6fa2499d64/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_2"
  },
  {
    "no": "2269",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponCode LIKE '%012206%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponCode LIKE '%012206%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/7338f39b-9f01-4be2-812f-57c9c23f741b/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_3"
  },
  {
    "no": "2270",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "8/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/8168d505-bcff-43c0-b4a9-499963677f81/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_4"
  },
  {
    "no": "2271",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "8/9/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/ced6e63a-761f-4124-9510-63856d3e3442/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_5"
  },
  {
    "no": "2272",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "10/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン【サンプル】%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン【サンプル】%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/270f0d99-6110-4db3-8e35-9e3bcc2bbdd6/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_6"
  },
  {
    "no": "2273",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "10/17/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/4dd7b332-f729-4624-b16a-02470b37fd13/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_7"
  },
  {
    "no": "2274",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "11/22/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/1da70939-2558-442d-8f00-efbdc60ddda3/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_8"
  },
  {
    "no": "2275",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "11/23/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/2f8f19ab-3173-4603-80c0-37fe322d58eb/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_9"
  },
  {
    "no": "2276",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "11/24/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/0b481299-bd99-43ce-ba0c-e9e8a23c5e86/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_10"
  },
  {
    "no": "2277",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "11/25/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/4fda44de-7ad5-4794-8d6e-0bd94245f2e3/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_11"
  },
  {
    "no": "2278",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "11/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/7d7b4bd1-0805-43f2-9199-99e337c57751/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_12"
  },
  {
    "no": "2279",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "11/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/a0dc2783-126e-4b87-a70f-c8c0ff48a573/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_13"
  },
  {
    "no": "2280",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "11/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/6bcece6e-3477-4858-84fb-cd02b3937a19/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_14"
  },
  {
    "no": "2281",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "11/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/93e70947-003a-4475-82dd-ff39688d713d/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_15"
  },
  {
    "no": "2282",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "11/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/358e0c05-5ebd-4e7a-b7b7-c6b6eabfa16b/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_16"
  },
  {
    "no": "2283",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "11/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/ce73bbc2-ca22-4b82-9c6f-708feeb75011/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_17"
  },
  {
    "no": "2284",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "11/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/a471bb85-16d9-4ad4-9a37-7eaf19cfb432/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_18"
  },
  {
    "no": "2285",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "11/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/99f18f4f-2feb-4dac-93e1-b7a684e12611/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_19"
  },
  {
    "no": "2286",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "11/30/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/590e1a81-ed7b-4939-ac19-21527f4c18be/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_20"
  },
  {
    "no": "2287",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/880e49cb-5e01-42e4-b93b-7eaf516cca2c/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_21"
  },
  {
    "no": "2288",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/46ef1599-eaf0-44fb-a634-b67379c5a67f/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_22"
  },
  {
    "no": "2289",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/2961b01d-ec6b-4923-8c7d-d40074c336fe/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_23"
  },
  {
    "no": "2290",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%1010クーポン%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%1010クーポン%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/f7bfa752-06f1-4cc6-8af0-2f97a4b81d95/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_24"
  },
  {
    "no": "2291",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/be4ebfa6-d964-4607-bd57-0402eeda6062/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_25"
  },
  {
    "no": "2292",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/4/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/677c2ac0-bd14-4045-987b-bb7d042448ba/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_26"
  },
  {
    "no": "2293",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/5/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/73f1b17c-4848-4bcf-9111-c022e900cad3/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_27"
  },
  {
    "no": "2294",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/79f69b78-85c1-4920-ae22-261664f0d627/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_28"
  },
  {
    "no": "2295",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/7/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/34c08437-915b-4dd7-9e96-097b2d2bc088/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_29"
  },
  {
    "no": "2296",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/8/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/dd0b1504-5925-4aae-967b-70aca5d0451b/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_30"
  },
  {
    "no": "2297",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/9/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/f6c10c84-24cc-43d4-afe0-959f6f79b4a0/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_31"
  },
  {
    "no": "2298",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/10/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/573601c8-6132-4712-ba93-bff5e96742ea/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_32"
  },
  {
    "no": "2299",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/10/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/46dca1df-4a28-460a-9e6b-7b0ba95a2228/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_33"
  },
  {
    "no": "2300",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/1946c766-784d-4fa4-8651-254026887ac2/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_34"
  },
  {
    "no": "2301",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/9088ba19-455f-4600-83eb-09a1f72475d5/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_35"
  },
  {
    "no": "2302",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/13/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/d37a3516-2ca6-438b-a0d6-1dc140ae8ec7/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_36"
  },
  {
    "no": "2303",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/14/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/918e6ffe-8e31-487b-ab87-9479ba1f9746/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_37"
  },
  {
    "no": "2304",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/15/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/1b87ce57-36e4-41ae-8543-d818cd7d9b7d/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_38"
  },
  {
    "no": "2305",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/16/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/1d50f36a-ae98-437d-a0c3-7329f4cbd92d/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_39"
  },
  {
    "no": "2306",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/17/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/5f1f845d-681b-415d-8dbf-b2f7e1f301e7/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_40"
  },
  {
    "no": "2307",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/18/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/b2932a6e-cfa5-4dfd-86b7-e16136558c01/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_41"
  },
  {
    "no": "2308",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/18/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/ead9f655-e86c-4f0f-8a3e-41477fb4a557/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_42"
  },
  {
    "no": "2309",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/19/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/444c9e1c-44f6-4bd7-b4df-9ef8709a1b9b/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_43"
  },
  {
    "no": "2310",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/20/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/f94241b9-e2ab-43be-b91b-3680ed49ac7b/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_44"
  },
  {
    "no": "2311",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/21/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/af47adcf-30a4-4607-b54b-b67393d0a59d/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_45"
  },
  {
    "no": "2312",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/22/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/c359a8b3-ddc1-4cc9-a9bf-fe57c65c0a4d/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_46"
  },
  {
    "no": "2313",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/23/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/4385da0c-b92c-49fb-bf8a-5aa641bf7d29/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_47"
  },
  {
    "no": "2314",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/23/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/3c61f795-6f16-4729-a151-e55d9572e80f/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_48"
  },
  {
    "no": "2315",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/23/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/4e433255-56ad-401c-ad49-e18635ebe9c1/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_49"
  },
  {
    "no": "2316",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/23/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/ea48f004-3d34-4bcc-8065-a6d009261a22/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_50"
  },
  {
    "no": "2317",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/23/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/53e750a0-5686-40d8-be98-bdf3621fbbcf/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_51"
  },
  {
    "no": "2318",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/23/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/b607a24f-ec43-4a13-a371-6944436afbd6/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_52"
  },
  {
    "no": "2319",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/23/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/5af1a25c-264a-49e3-aef9-b0f27fdc2563/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_53"
  },
  {
    "no": "2320",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/24/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/354c42d4-7fe2-4310-8c77-f6e6602199cc/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_54"
  },
  {
    "no": "2321",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/25/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/25dbe637-2f2f-439a-acf3-67028b7fba7a/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_55"
  },
  {
    "no": "2322",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/9a2adfdd-81a7-4d04-ba5d-6a019f55c3dd/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_56"
  },
  {
    "no": "2323",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "4/12/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%KF2024CP%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%KF2024CP%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/71101cf8-fae7-4321-9a33-4b1d7a0cdcdb/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_57"
  },
  {
    "no": "2324",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "7/12/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/0d0d7316-9d60-47f2-a847-8dbdffe5753d/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_58"
  },
  {
    "no": "2325",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "7/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/b799caa9-60df-4baf-b761-31c97d18ab52/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_59"
  },
  {
    "no": "2326",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "8/15/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%art-ishigakijima-samplecoupon1%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%art-ishigakijima-samplecoupon1%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/ab460228-d916-4d74-baab-3518ca8ae4b2/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_60"
  },
  {
    "no": "2327",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "9/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND l.couponCode LIKE '%121212%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND l.couponCode LIKE '%121212%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/73c9600f-61a6-46da-8bb2-3ec58f5dc1f6/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_61"
  },
  {
    "no": "2328",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "9/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND l.couponName LIKE '%121212%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND l.couponName LIKE '%121212%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/d5dfc2bc-e685-4979-a1a3-98902cecb16a/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_62"
  },
  {
    "no": "2329",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "10/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/f4e5fd67-bf68-4af5-84b8-06619d528094/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_63"
  },
  {
    "no": "2330",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "10/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/f264486e-c728-4f06-ba28-c0f281b4f9b5/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_64"
  },
  {
    "no": "2331",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "10/11/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/1b1ab024-df9a-4f9f-a6e5-03e07be36910/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_65"
  },
  {
    "no": "2332",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "10/11/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' AND l.couponName LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' AND l.couponName LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/b30dacef-6099-45d8-a878-e71b413b2fb8/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_66"
  },
  {
    "no": "2333",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "10/15/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/6093a4e6-9734-48ba-83c3-03bd7e43fb8a/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_67"
  },
  {
    "no": "2334",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "10/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/9508b327-0ea6-4527-87ed-0c9808b9f292/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_68"
  },
  {
    "no": "2335",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "10/17/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/0614fb1d-62c5-4d21-a01b-7e5a4f27a23c/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_69"
  },
  {
    "no": "2336",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "10/21/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/51c0abff-9184-46aa-9e8e-1663b6b85f3d/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_70"
  },
  {
    "no": "2337",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "10/22/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/cb5a32a7-abfe-4da5-8731-efa617a20303/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_71"
  },
  {
    "no": "2338",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "10/23/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/7b0b212a-c1a6-4f12-976c-d6ccc248a4c4/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_72"
  },
  {
    "no": "2339",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "10/24/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/3a05ed0c-84d7-4390-934b-87019cbe9808/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_73"
  },
  {
    "no": "2340",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "10/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/3c4dda80-560e-4a38-9837-1e5a79e587a5/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_74"
  },
  {
    "no": "2341",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "10/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/fb4c05c4-8970-44cd-9079-3a1910731679/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_75"
  },
  {
    "no": "2342",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "10/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/4b46bafa-7b88-44a1-9492-28b1c4c541c5/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_76"
  },
  {
    "no": "2343",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "10/31/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND o.name LIKE '%SBギフト%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND o.name LIKE '%SBギフト%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/0adcde8f-9dd6-4c06-bae3-6faab886bc59/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_77"
  },
  {
    "no": "2344",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "11/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/5db865b7-c4ac-4841-a3dc-5dba1da538db/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_78"
  },
  {
    "no": "2345",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "11/8/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND l.couponCode LIKE '%3.84E+15%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND l.couponCode LIKE '%3.84E+15%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/d95eaf93-0dfd-4603-b347-a2ec206d991d/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_79"
  },
  {
    "no": "2346",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "11/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/4a181ca0-7437-4381-9382-d3432d236a57/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_80"
  },
  {
    "no": "2347",
    "queryPattern": "Q6",
    "name": "Display Aggregate Csv",
    "lambda": "prd-coupon-invokeCouponDisplayAggregateCsvUrl-function",
    "functionName": "displayedCsvSql",
    "isMatching": "1",
    "timestamp": "12/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'fb96ab72-2211-4617-aa21-91a76b050360' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId) AS \"参照数\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'fb96ab72-2211-4617-aa21-91a76b050360' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/26806cf5-4f90-4cff-b850-128b86daacdb/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' HEADER DELIMITER ',' ADDQUOTES PARALLEL OFF",
    "queryAlias": "Q6_81"
  },
  {
    "no": "2615",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 20 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 20 OFFSET 0",
    "queryAlias": "Q7_1"
  },
  {
    "no": "2616",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_2"
  },
  {
    "no": "2617",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_3"
  },
  {
    "no": "2618",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_4"
  },
  {
    "no": "2619",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_5"
  },
  {
    "no": "2620",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_6"
  },
  {
    "no": "2621",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%022952007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%022952007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_7"
  },
  {
    "no": "2622",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_8"
  },
  {
    "no": "2623",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_9"
  },
  {
    "no": "2624",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%1010cp-DM-7-23-radio%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%1010cp-DM-7-23-radio%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_10"
  },
  {
    "no": "2625",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponCode LIKE '%022956007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponCode LIKE '%022956007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_11"
  },
  {
    "no": "2626",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponCode LIKE '%022956007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponCode LIKE '%022956007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_12"
  },
  {
    "no": "2627",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponCode LIKE '%022956007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponCode LIKE '%022956007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_13"
  },
  {
    "no": "2628",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%022956007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%022956007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_14"
  },
  {
    "no": "2629",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_15"
  },
  {
    "no": "2630",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%1010cp-DM-7-23-radio%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%1010cp-DM-7-23-radio%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_16"
  },
  {
    "no": "2631",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '86b02ca3-a865-40ac-af49-958eb6f2176c' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '86b02ca3-a865-40ac-af49-958eb6f2176c' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_17"
  },
  {
    "no": "2632",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '77d5a94c-249e-4a2e-b7eb-b13bb418733b' AND l.couponCode LIKE '%111111111111111%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '77d5a94c-249e-4a2e-b7eb-b13bb418733b' AND l.couponCode LIKE '%111111111111111%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_18"
  },
  {
    "no": "2633",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '77d5a94c-249e-4a2e-b7eb-b13bb418733b' AND l.couponCode LIKE '%111111111111111%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '77d5a94c-249e-4a2e-b7eb-b13bb418733b' AND l.couponCode LIKE '%111111111111111%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_19"
  },
  {
    "no": "2634",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_20"
  },
  {
    "no": "2635",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '77d5a94c-249e-4a2e-b7eb-b13bb418733b' AND l.couponName LIKE '%商品A コード入力%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '77d5a94c-249e-4a2e-b7eb-b13bb418733b' AND l.couponName LIKE '%商品A コード入力%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_21"
  },
  {
    "no": "2636",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '77d5a94c-249e-4a2e-b7eb-b13bb418733b' AND l.couponCode LIKE '%111111111111111%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '77d5a94c-249e-4a2e-b7eb-b13bb418733b' AND l.couponCode LIKE '%111111111111111%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_22"
  },
  {
    "no": "2637",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_23"
  },
  {
    "no": "2638",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '77d5a94c-249e-4a2e-b7eb-b13bb418733b' AND l.couponCode LIKE '%111111111111111%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '77d5a94c-249e-4a2e-b7eb-b13bb418733b' AND l.couponCode LIKE '%111111111111111%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_24"
  },
  {
    "no": "2639",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7f741a29-a41f-491f-a36d-251fe0cbc616' AND l.couponCode LIKE '%202301FCWD%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7f741a29-a41f-491f-a36d-251fe0cbc616' AND l.couponCode LIKE '%202301FCWD%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_25"
  },
  {
    "no": "2640",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7f741a29-a41f-491f-a36d-251fe0cbc616' AND l.couponCode LIKE '%202306FCWD%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7f741a29-a41f-491f-a36d-251fe0cbc616' AND l.couponCode LIKE '%202306FCWD%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_26"
  },
  {
    "no": "2641",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7f741a29-a41f-491f-a36d-251fe0cbc616' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7f741a29-a41f-491f-a36d-251fe0cbc616' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_27"
  },
  {
    "no": "2642",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_28"
  },
  {
    "no": "2643",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponName LIKE '%メンバーズファミリークーポン７月土日祝%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponName LIKE '%メンバーズファミリークーポン７月土日祝%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_29"
  },
  {
    "no": "2644",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponName LIKE '%土日祝%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponName LIKE '%土日祝%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_30"
  },
  {
    "no": "2645",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_31"
  },
  {
    "no": "2646",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_32"
  },
  {
    "no": "2647",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_33"
  },
  {
    "no": "2648",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_34"
  },
  {
    "no": "2649",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_35"
  },
  {
    "no": "2650",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_36"
  },
  {
    "no": "2651",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_37"
  },
  {
    "no": "2652",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_38"
  },
  {
    "no": "2653",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_39"
  },
  {
    "no": "2654",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_40"
  },
  {
    "no": "2655",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_41"
  },
  {
    "no": "2656",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_42"
  },
  {
    "no": "2657",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_43"
  },
  {
    "no": "2660",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230601-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230601-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_44"
  },
  {
    "no": "2661",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/7/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%pasona-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%pasona-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_45"
  },
  {
    "no": "2662",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/7/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%【株式会社パソナグループ様】sampleクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%【株式会社パソナグループ様】sampleクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_46"
  },
  {
    "no": "2663",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/7/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%【株式会社パソナグループ様】sampleクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%【株式会社パソナグループ様】sampleクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_47"
  },
  {
    "no": "2664",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/7/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%【株式会社パソナグループ様】sampleクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%【株式会社パソナグループ様】sampleクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_48"
  },
  {
    "no": "2665",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/7/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_49"
  },
  {
    "no": "2666",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%awajiwestsyuyuscuola%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%awajiwestsyuyuscuola%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_50"
  },
  {
    "no": "2668",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/13/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230601-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230601-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_51"
  },
  {
    "no": "2670",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/19/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_52"
  },
  {
    "no": "2672",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/19/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_53"
  },
  {
    "no": "2676",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/19/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_54"
  },
  {
    "no": "2677",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/20/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_55"
  },
  {
    "no": "2678",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/20/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_56"
  },
  {
    "no": "2679",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/20/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_57"
  },
  {
    "no": "2684",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/24/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%awaji%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%awaji%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_58"
  },
  {
    "no": "2685",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponName LIKE '%ゴーゴーカレー%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponName LIKE '%ゴーゴーカレー%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_59"
  },
  {
    "no": "2686",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponName LIKE '%ゴーゴーカレー%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponName LIKE '%ゴーゴーカレー%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_60"
  },
  {
    "no": "2687",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponName LIKE '%ゴーゴーカレー%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponName LIKE '%ゴーゴーカレー%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_61"
  },
  {
    "no": "2688",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/31/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_62"
  },
  {
    "no": "2689",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/31/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_63"
  },
  {
    "no": "2690",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_64"
  },
  {
    "no": "2691",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_65"
  },
  {
    "no": "2692",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_66"
  },
  {
    "no": "2693",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_67"
  },
  {
    "no": "2696",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_68"
  },
  {
    "no": "2697",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_69"
  },
  {
    "no": "2698",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_70"
  },
  {
    "no": "2699",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_71"
  },
  {
    "no": "2700",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_72"
  },
  {
    "no": "2701",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_73"
  },
  {
    "no": "2702",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_74"
  },
  {
    "no": "2703",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_75"
  },
  {
    "no": "2704",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_76"
  },
  {
    "no": "2705",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_77"
  },
  {
    "no": "2706",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_78"
  },
  {
    "no": "2707",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_79"
  },
  {
    "no": "2708",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_80"
  },
  {
    "no": "2709",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_81"
  },
  {
    "no": "2710",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_82"
  },
  {
    "no": "2711",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_83"
  },
  {
    "no": "2712",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_84"
  },
  {
    "no": "2713",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_85"
  },
  {
    "no": "2714",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_86"
  },
  {
    "no": "2715",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%00001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%00001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_87"
  },
  {
    "no": "2716",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_88"
  },
  {
    "no": "2719",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_89"
  },
  {
    "no": "2720",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_90"
  },
  {
    "no": "2721",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_91"
  },
  {
    "no": "2722",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_92"
  },
  {
    "no": "2723",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_93"
  },
  {
    "no": "2724",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_94"
  },
  {
    "no": "2725",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_95"
  },
  {
    "no": "2726",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_96"
  },
  {
    "no": "2727",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_97"
  },
  {
    "no": "2728",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%ichibanya-50yen%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%ichibanya-50yen%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_98"
  },
  {
    "no": "2729",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%ichibanya-50yen%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%ichibanya-50yen%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_99"
  },
  {
    "no": "2730",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-50yen%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-50yen%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_100"
  },
  {
    "no": "2731",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_101"
  },
  {
    "no": "2732",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_102"
  },
  {
    "no": "2733",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%50yen%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%50yen%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_103"
  },
  {
    "no": "2734",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%50yen%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%50yen%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_104"
  },
  {
    "no": "2735",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_105"
  },
  {
    "no": "2736",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_106"
  },
  {
    "no": "2737",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_107"
  },
  {
    "no": "2738",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_108"
  },
  {
    "no": "2739",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_109"
  },
  {
    "no": "2740",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_110"
  },
  {
    "no": "2741",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_111"
  },
  {
    "no": "2742",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_112"
  },
  {
    "no": "2743",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_113"
  },
  {
    "no": "2744",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_114"
  },
  {
    "no": "2745",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_115"
  },
  {
    "no": "2746",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_116"
  },
  {
    "no": "2747",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_117"
  },
  {
    "no": "2748",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_118"
  },
  {
    "no": "2749",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/4/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_119"
  },
  {
    "no": "2750",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/7/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd4e3ccff-215e-4bf3-b85b-d120b1e75278' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd4e3ccff-215e-4bf3-b85b-d120b1e75278' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_120"
  },
  {
    "no": "2751",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/7/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_121"
  },
  {
    "no": "2752",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/7/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_122"
  },
  {
    "no": "2753",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/8/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%028761007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%028761007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_123"
  },
  {
    "no": "2754",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/8/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%028759007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%028759007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_124"
  },
  {
    "no": "2755",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/8/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1012%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1012%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_125"
  },
  {
    "no": "2756",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/8/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_126"
  },
  {
    "no": "2757",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/8/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%028759007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%028759007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_127"
  },
  {
    "no": "2758",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/8/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%1012%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%1012%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_128"
  },
  {
    "no": "2759",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/8/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1012%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1012%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_129"
  },
  {
    "no": "2760",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/8/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1012%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1012%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_130"
  },
  {
    "no": "2761",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/8/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%028759007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%028759007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_131"
  },
  {
    "no": "2762",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/8/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_132"
  },
  {
    "no": "2763",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/8/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0002%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0002%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_133"
  },
  {
    "no": "2764",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/9/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_134"
  },
  {
    "no": "2765",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/9/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%028759007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%028759007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_135"
  },
  {
    "no": "2766",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/9/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%028761007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%028761007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_136"
  },
  {
    "no": "2767",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/9/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_137"
  },
  {
    "no": "2768",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/9/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_138"
  },
  {
    "no": "2769",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/10/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_139"
  },
  {
    "no": "2770",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/10/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_140"
  },
  {
    "no": "2771",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/10/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_141"
  },
  {
    "no": "2772",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/10/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_142"
  },
  {
    "no": "2773",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/10/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_143"
  },
  {
    "no": "2774",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/14/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%Aeonsyuyuaman1%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%Aeonsyuyuaman1%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_144"
  },
  {
    "no": "2775",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/14/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%Aeonsyuyu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%Aeonsyuyu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_145"
  },
  {
    "no": "2776",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/16/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_146"
  },
  {
    "no": "2777",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/16/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_147"
  },
  {
    "no": "2778",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/16/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_148"
  },
  {
    "no": "2779",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/16/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_149"
  },
  {
    "no": "2780",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/16/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%Aeonfrench3%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%Aeonfrench3%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_150"
  },
  {
    "no": "2781",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/17/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_151"
  },
  {
    "no": "2782",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/17/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_152"
  },
  {
    "no": "2783",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/17/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0002%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0002%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_153"
  },
  {
    "no": "2784",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/17/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0002%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0002%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_154"
  },
  {
    "no": "2785",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/17/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%Aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%Aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_155"
  },
  {
    "no": "2786",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/17/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_156"
  },
  {
    "no": "2787",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/17/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%Aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%Aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_157"
  },
  {
    "no": "2788",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/17/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%insta%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%insta%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_158"
  },
  {
    "no": "2789",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/17/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_159"
  },
  {
    "no": "2790",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/18/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_160"
  },
  {
    "no": "2791",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/21/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_161"
  },
  {
    "no": "2792",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/21/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_162"
  },
  {
    "no": "2793",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/22/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_163"
  },
  {
    "no": "2794",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/22/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%samplecoupon-toppn%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%samplecoupon-toppn%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_164"
  },
  {
    "no": "2795",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/22/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%samplecoupon-toppn%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%samplecoupon-toppn%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_165"
  },
  {
    "no": "2796",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/23/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%nexcoeast-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%nexcoeast-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_166"
  },
  {
    "no": "2797",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/23/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_167"
  },
  {
    "no": "2798",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/23/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_168"
  },
  {
    "no": "2799",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/24/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_169"
  },
  {
    "no": "2800",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/24/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_170"
  },
  {
    "no": "2801",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/25/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_171"
  },
  {
    "no": "2802",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/25/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_172"
  },
  {
    "no": "2803",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/25/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_173"
  },
  {
    "no": "2804",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/25/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_174"
  },
  {
    "no": "2805",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_175"
  },
  {
    "no": "2806",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_176"
  },
  {
    "no": "2807",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_177"
  },
  {
    "no": "2808",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_178"
  },
  {
    "no": "2809",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_179"
  },
  {
    "no": "2810",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/30/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_180"
  },
  {
    "no": "2811",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/31/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0003%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_181"
  },
  {
    "no": "2812",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/31/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_182"
  },
  {
    "no": "2813",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_183"
  },
  {
    "no": "2814",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_184"
  },
  {
    "no": "2815",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_185"
  },
  {
    "no": "2816",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_186"
  },
  {
    "no": "2817",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_187"
  },
  {
    "no": "2818",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_188"
  },
  {
    "no": "2819",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_189"
  },
  {
    "no": "2820",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_190"
  },
  {
    "no": "2821",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_191"
  },
  {
    "no": "2822",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_192"
  },
  {
    "no": "2823",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_193"
  },
  {
    "no": "2824",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_194"
  },
  {
    "no": "2825",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_195"
  },
  {
    "no": "2826",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_196"
  },
  {
    "no": "2827",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_197"
  },
  {
    "no": "2828",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_198"
  },
  {
    "no": "2829",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_199"
  },
  {
    "no": "2830",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_200"
  },
  {
    "no": "2831",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_201"
  },
  {
    "no": "2832",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_202"
  },
  {
    "no": "2833",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_203"
  },
  {
    "no": "2834",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_204"
  },
  {
    "no": "2835",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_205"
  },
  {
    "no": "2836",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/4/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_206"
  },
  {
    "no": "2837",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_207"
  },
  {
    "no": "2838",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/8/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_208"
  },
  {
    "no": "2839",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/8/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_209"
  },
  {
    "no": "2840",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_210"
  },
  {
    "no": "2841",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponCode LIKE '%gogoaiseki55%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponCode LIKE '%gogoaiseki55%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_211"
  },
  {
    "no": "2842",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_212"
  },
  {
    "no": "2843",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_213"
  },
  {
    "no": "2844",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_214"
  },
  {
    "no": "2845",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_215"
  },
  {
    "no": "2846",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_216"
  },
  {
    "no": "2847",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_217"
  },
  {
    "no": "2848",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_218"
  },
  {
    "no": "2849",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_219"
  },
  {
    "no": "2850",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_220"
  },
  {
    "no": "2851",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_221"
  },
  {
    "no": "2852",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_222"
  },
  {
    "no": "2853",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_223"
  },
  {
    "no": "2854",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_224"
  },
  {
    "no": "2855",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/13/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_225"
  },
  {
    "no": "2856",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/13/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_226"
  },
  {
    "no": "2857",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/13/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_227"
  },
  {
    "no": "2858",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/14/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_228"
  },
  {
    "no": "2859",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/14/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_229"
  },
  {
    "no": "2860",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/14/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_230"
  },
  {
    "no": "2861",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/15/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_231"
  },
  {
    "no": "2862",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/15/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_232"
  },
  {
    "no": "2863",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/19/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_233"
  },
  {
    "no": "2864",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/19/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_234"
  },
  {
    "no": "2865",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/19/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_235"
  },
  {
    "no": "2866",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/19/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_236"
  },
  {
    "no": "2867",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/19/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_237"
  },
  {
    "no": "2868",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/19/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_238"
  },
  {
    "no": "2869",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/19/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND o.name LIKE '%LUMINE立川店%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND o.name LIKE '%LUMINE立川店%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_239"
  },
  {
    "no": "2870",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/19/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_240"
  },
  {
    "no": "2871",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/19/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_241"
  },
  {
    "no": "2872",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/20/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_242"
  },
  {
    "no": "2873",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/22/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_243"
  },
  {
    "no": "2874",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/22/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_244"
  },
  {
    "no": "2875",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/22/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_245"
  },
  {
    "no": "2876",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/22/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_246"
  },
  {
    "no": "2877",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/22/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_247"
  },
  {
    "no": "2882",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/22/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_248"
  },
  {
    "no": "2883",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/22/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_249"
  },
  {
    "no": "2887",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/25/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_250"
  },
  {
    "no": "2888",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/25/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_251"
  },
  {
    "no": "2889",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/25/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_252"
  },
  {
    "no": "2890",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/25/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_253"
  },
  {
    "no": "2891",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/25/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_254"
  },
  {
    "no": "2892",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/25/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_255"
  },
  {
    "no": "2893",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/25/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_256"
  },
  {
    "no": "2894",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/25/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_257"
  },
  {
    "no": "2895",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/25/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_258"
  },
  {
    "no": "2896",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/25/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_259"
  },
  {
    "no": "2897",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/25/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_260"
  },
  {
    "no": "2898",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_261"
  },
  {
    "no": "2899",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_262"
  },
  {
    "no": "2900",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '9add13c4-5214-4027-8f08-3ce1365cd70b' AND l.couponName LIKE '%【本番】1F限定！200円OFFチケット%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '9add13c4-5214-4027-8f08-3ce1365cd70b' AND l.couponName LIKE '%【本番】1F限定！200円OFFチケット%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_263"
  },
  {
    "no": "2901",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_264"
  },
  {
    "no": "2902",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_265"
  },
  {
    "no": "2903",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_266"
  },
  {
    "no": "2904",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_267"
  },
  {
    "no": "2905",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_268"
  },
  {
    "no": "2906",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_269"
  },
  {
    "no": "2907",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_270"
  },
  {
    "no": "2908",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番】1F限定！200円OFFチケット%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番】1F限定！200円OFFチケット%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_271"
  },
  {
    "no": "2909",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_272"
  },
  {
    "no": "2910",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番】1F限定！200円OFFチケット%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番】1F限定！200円OFFチケット%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_273"
  },
  {
    "no": "2911",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_274"
  },
  {
    "no": "2912",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponCode LIKE '%lumine-tachikawa-cp2309%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponCode LIKE '%lumine-tachikawa-cp2309%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_275"
  },
  {
    "no": "2913",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_276"
  },
  {
    "no": "2914",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_277"
  },
  {
    "no": "2915",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_278"
  },
  {
    "no": "2916",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%２００%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%２００%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_279"
  },
  {
    "no": "2917",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%２００%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%２００%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_280"
  },
  {
    "no": "2918",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_281"
  },
  {
    "no": "2919",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_282"
  },
  {
    "no": "2920",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_283"
  },
  {
    "no": "2921",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_284"
  },
  {
    "no": "2922",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_285"
  },
  {
    "no": "2923",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_286"
  },
  {
    "no": "2924",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_287"
  },
  {
    "no": "2925",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_288"
  },
  {
    "no": "2926",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_289"
  },
  {
    "no": "2927",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_290"
  },
  {
    "no": "2928",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_291"
  },
  {
    "no": "2929",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_292"
  },
  {
    "no": "2930",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%２００%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%２００%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_293"
  },
  {
    "no": "2931",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_294"
  },
  {
    "no": "2932",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_295"
  },
  {
    "no": "2933",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponName LIKE '%Aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponName LIKE '%Aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_296"
  },
  {
    "no": "2934",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponName LIKE '%イオン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponName LIKE '%イオン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_297"
  },
  {
    "no": "2935",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponName LIKE '%神戸生協%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponName LIKE '%神戸生協%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_298"
  },
  {
    "no": "2936",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_299"
  },
  {
    "no": "2937",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_300"
  },
  {
    "no": "2938",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_301"
  },
  {
    "no": "2939",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_302"
  },
  {
    "no": "2940",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_303"
  },
  {
    "no": "2941",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_304"
  },
  {
    "no": "2942",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_305"
  },
  {
    "no": "2943",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_306"
  },
  {
    "no": "2944",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/30/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_307"
  },
  {
    "no": "2945",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/30/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_308"
  },
  {
    "no": "2946",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/30/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%0544965528704361%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%0544965528704361%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_309"
  },
  {
    "no": "2947",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_310"
  },
  {
    "no": "2948",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_311"
  },
  {
    "no": "2949",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_312"
  },
  {
    "no": "2950",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_313"
  },
  {
    "no": "2951",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_314"
  },
  {
    "no": "2952",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_315"
  },
  {
    "no": "2953",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_316"
  },
  {
    "no": "2954",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_317"
  },
  {
    "no": "2955",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_318"
  },
  {
    "no": "2956",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_319"
  },
  {
    "no": "2957",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_320"
  },
  {
    "no": "2958",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_321"
  },
  {
    "no": "2959",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_322"
  },
  {
    "no": "2960",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_323"
  },
  {
    "no": "2961",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_324"
  },
  {
    "no": "2962",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_325"
  },
  {
    "no": "2963",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_326"
  },
  {
    "no": "2964",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_327"
  },
  {
    "no": "2965",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_328"
  },
  {
    "no": "2966",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_329"
  },
  {
    "no": "2967",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_330"
  },
  {
    "no": "2968",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_331"
  },
  {
    "no": "2969",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_332"
  },
  {
    "no": "2970",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_333"
  },
  {
    "no": "2971",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_334"
  },
  {
    "no": "2972",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_335"
  },
  {
    "no": "2973",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_336"
  },
  {
    "no": "2974",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_337"
  },
  {
    "no": "2975",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_338"
  },
  {
    "no": "2976",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_339"
  },
  {
    "no": "2977",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/4/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_340"
  },
  {
    "no": "2978",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/4/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_341"
  },
  {
    "no": "2979",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/4/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_342"
  },
  {
    "no": "2980",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/4/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_343"
  },
  {
    "no": "2981",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/5/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_344"
  },
  {
    "no": "2982",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/5/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\\\_2309】%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\\\_2309】%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_345"
  },
  {
    "no": "2983",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/5/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_346"
  },
  {
    "no": "2984",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/5/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_347"
  },
  {
    "no": "2985",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_348"
  },
  {
    "no": "2986",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_349"
  },
  {
    "no": "2987",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_350"
  },
  {
    "no": "2988",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_351"
  },
  {
    "no": "2989",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_352"
  },
  {
    "no": "2990",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_353"
  },
  {
    "no": "2991",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_354"
  },
  {
    "no": "2992",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_355"
  },
  {
    "no": "2993",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_356"
  },
  {
    "no": "2994",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_357"
  },
  {
    "no": "2995",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_358"
  },
  {
    "no": "2996",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_359"
  },
  {
    "no": "2997",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_360"
  },
  {
    "no": "2998",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' AND l.couponName LIKE '%本番\\\\_23010%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' AND l.couponName LIKE '%本番\\\\_23010%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_361"
  },
  {
    "no": "2999",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' AND l.couponName LIKE '%本番\\\\_23010%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' AND l.couponName LIKE '%本番\\\\_23010%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_362"
  },
  {
    "no": "3000",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_363"
  },
  {
    "no": "3001",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_364"
  },
  {
    "no": "3002",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_365"
  },
  {
    "no": "3003",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/7/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_366"
  },
  {
    "no": "3004",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/7/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_367"
  },
  {
    "no": "3005",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/8/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_368"
  },
  {
    "no": "3006",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/9/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_369"
  },
  {
    "no": "3007",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/9/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_370"
  },
  {
    "no": "3008",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_371"
  },
  {
    "no": "3009",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_372"
  },
  {
    "no": "3010",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_373"
  },
  {
    "no": "3011",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_374"
  },
  {
    "no": "3012",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_375"
  },
  {
    "no": "3013",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_376"
  },
  {
    "no": "3014",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_377"
  },
  {
    "no": "3015",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\\\_2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\\\_2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_378"
  },
  {
    "no": "3016",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\\\_2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\\\_2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_379"
  },
  {
    "no": "3017",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\\\_23010%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\\\_23010%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_380"
  },
  {
    "no": "3018",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_381"
  },
  {
    "no": "3019",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_382"
  },
  {
    "no": "3020",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND o.name LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND o.name LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_383"
  },
  {
    "no": "3021",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_384"
  },
  {
    "no": "3022",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_385"
  },
  {
    "no": "3023",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\\\_2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\\\_2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_386"
  },
  {
    "no": "3024",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_387"
  },
  {
    "no": "3025",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_388"
  },
  {
    "no": "3026",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_389"
  },
  {
    "no": "3027",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/13/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_390"
  },
  {
    "no": "3028",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/13/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_391"
  },
  {
    "no": "3029",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/13/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_392"
  },
  {
    "no": "3030",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/14/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_393"
  },
  {
    "no": "3031",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/14/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_394"
  },
  {
    "no": "3032",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/15/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_395"
  },
  {
    "no": "3033",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/15/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_396"
  },
  {
    "no": "3034",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/16/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_397"
  },
  {
    "no": "3035",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/16/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_398"
  },
  {
    "no": "3036",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/16/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_399"
  },
  {
    "no": "3037",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/16/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%本番%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_400"
  },
  {
    "no": "3038",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/17/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_401"
  },
  {
    "no": "3039",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/17/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_402"
  },
  {
    "no": "3040",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/17/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_403"
  },
  {
    "no": "3041",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/17/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_404"
  },
  {
    "no": "3042",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/17/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponCode LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponCode LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_405"
  },
  {
    "no": "3043",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/17/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_406"
  },
  {
    "no": "3044",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/18/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_407"
  },
  {
    "no": "3045",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/18/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_408"
  },
  {
    "no": "3046",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/18/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponCode LIKE '%fruitcoupon-kta-2023-10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponCode LIKE '%fruitcoupon-kta-2023-10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_409"
  },
  {
    "no": "3047",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/18/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_410"
  },
  {
    "no": "3048",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/18/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_411"
  },
  {
    "no": "3049",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/20/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_412"
  },
  {
    "no": "3050",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/23/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_413"
  },
  {
    "no": "3051",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/24/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_414"
  },
  {
    "no": "3052",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/24/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_415"
  },
  {
    "no": "3053",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/25/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_416"
  },
  {
    "no": "3054",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/25/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND o.name LIKE '%京丹後市観光公社%' AND l.couponCode LIKE '%ruitcoupon-kta-2023-10%' AND l.couponName LIKE '%京たんごフルーツクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND o.name LIKE '%京丹後市観光公社%' AND l.couponCode LIKE '%ruitcoupon-kta-2023-10%' AND l.couponName LIKE '%京たんごフルーツクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_417"
  },
  {
    "no": "3055",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/25/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND o.name LIKE '%京丹後市観光公社%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND o.name LIKE '%京丹後市観光公社%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_418"
  },
  {
    "no": "3057",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/25/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponCode LIKE '%fruitcoupon-kta-2023-10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponCode LIKE '%fruitcoupon-kta-2023-10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_419"
  },
  {
    "no": "3058",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/25/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_420"
  },
  {
    "no": "3059",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_421"
  },
  {
    "no": "3060",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/30/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_422"
  },
  {
    "no": "3061",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/30/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_423"
  },
  {
    "no": "3062",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/30/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_424"
  },
  {
    "no": "3063",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/30/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_425"
  },
  {
    "no": "3064",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/30/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_426"
  },
  {
    "no": "3065",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/31/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_427"
  },
  {
    "no": "3066",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/31/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_428"
  },
  {
    "no": "3067",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/31/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_429"
  },
  {
    "no": "3068",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/31/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_430"
  },
  {
    "no": "3069",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/31/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_431"
  },
  {
    "no": "3070",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/31/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_432"
  },
  {
    "no": "3071",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/31/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_433"
  },
  {
    "no": "3072",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/31/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_434"
  },
  {
    "no": "3073",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/31/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_435"
  },
  {
    "no": "3074",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/31/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_436"
  },
  {
    "no": "3075",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_437"
  },
  {
    "no": "3076",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_438"
  },
  {
    "no": "3077",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_439"
  },
  {
    "no": "3078",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_440"
  },
  {
    "no": "3079",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_441"
  },
  {
    "no": "3080",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_442"
  },
  {
    "no": "3081",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_443"
  },
  {
    "no": "3082",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_444"
  },
  {
    "no": "3083",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_445"
  },
  {
    "no": "3084",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_446"
  },
  {
    "no": "3085",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_447"
  },
  {
    "no": "3086",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_448"
  },
  {
    "no": "3087",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_449"
  },
  {
    "no": "3088",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_450"
  },
  {
    "no": "3089",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_451"
  },
  {
    "no": "3090",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_452"
  },
  {
    "no": "3091",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_453"
  },
  {
    "no": "3092",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_454"
  },
  {
    "no": "3093",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_455"
  },
  {
    "no": "3094",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_456"
  },
  {
    "no": "3095",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_457"
  },
  {
    "no": "3096",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_458"
  },
  {
    "no": "3097",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_459"
  },
  {
    "no": "3098",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_460"
  },
  {
    "no": "3099",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン 200円券\\\\_1\\\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン 200円券\\\\_1\\\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_461"
  },
  {
    "no": "3100",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン 100円券\\\\_1\\\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン 100円券\\\\_1\\\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_462"
  },
  {
    "no": "3101",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン 50円券\\\\_1\\\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン 50円券\\\\_1\\\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_463"
  },
  {
    "no": "3102",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン 50円券\\\\_2\\\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン 50円券\\\\_2\\\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_464"
  },
  {
    "no": "3103",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン 50円券\\\\_3\\\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン 50円券\\\\_3\\\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_465"
  },
  {
    "no": "3104",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン 50円券\\\\_4\\\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン 50円券\\\\_4\\\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_466"
  },
  {
    "no": "3105",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン 50円券\\\\_5\\\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン 50円券\\\\_5\\\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_467"
  },
  {
    "no": "3106",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン 50円券\\\\_6\\\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン 50円券\\\\_6\\\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_468"
  },
  {
    "no": "3107",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン 50円券\\\\_7\\\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン 50円券\\\\_7\\\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_469"
  },
  {
    "no": "3108",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン 50円券\\\\_8\\\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン 50円券\\\\_8\\\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_470"
  },
  {
    "no": "3109",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_471"
  },
  {
    "no": "3110",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_472"
  },
  {
    "no": "3111",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン 50円券\\\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン 50円券\\\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_473"
  },
  {
    "no": "3112",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%50円券\\\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%50円券\\\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_474"
  },
  {
    "no": "3113",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_475"
  },
  {
    "no": "3114",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_476"
  },
  {
    "no": "3115",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_477"
  },
  {
    "no": "3116",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/4/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_478"
  },
  {
    "no": "3117",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン 50円券\\\\_3\\\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン 50円券\\\\_3\\\\_2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_479"
  },
  {
    "no": "3118",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyoHKSB%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyoHKSB%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_480"
  },
  {
    "no": "3119",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_481"
  },
  {
    "no": "3120",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_482"
  },
  {
    "no": "3121",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_483"
  },
  {
    "no": "3122",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_484"
  },
  {
    "no": "3123",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_485"
  },
  {
    "no": "3124",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_486"
  },
  {
    "no": "3125",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_487"
  },
  {
    "no": "3126",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_488"
  },
  {
    "no": "3127",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_489"
  },
  {
    "no": "3128",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_490"
  },
  {
    "no": "3129",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_491"
  },
  {
    "no": "3130",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_492"
  },
  {
    "no": "3131",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_493"
  },
  {
    "no": "3132",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_494"
  },
  {
    "no": "3133",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_495"
  },
  {
    "no": "3134",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%1010cp2-4-line1%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%1010cp2-4-line1%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_496"
  },
  {
    "no": "3135",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%1010cp2-4-line1%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%1010cp2-4-line1%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_497"
  },
  {
    "no": "3136",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_498"
  },
  {
    "no": "3137",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/9/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%1010cp2-4-line2%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%1010cp2-4-line2%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_499"
  },
  {
    "no": "3138",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/9/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%1010cp2-4-line2%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%1010cp2-4-line2%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_500"
  },
  {
    "no": "3139",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/9/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_501"
  },
  {
    "no": "3140",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/9/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_502"
  },
  {
    "no": "3141",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/9/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '86b02ca3-a865-40ac-af49-958eb6f2176c' AND l.couponCode LIKE '%012211%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '86b02ca3-a865-40ac-af49-958eb6f2176c' AND l.couponCode LIKE '%012211%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_503"
  },
  {
    "no": "3142",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/9/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%フルーツ%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%フルーツ%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_504"
  },
  {
    "no": "3143",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/9/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponCode LIKE '%fruitcoupon-kta-2023-10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponCode LIKE '%fruitcoupon-kta-2023-10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_505"
  },
  {
    "no": "3144",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/9/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_506"
  },
  {
    "no": "3145",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/9/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND o.name LIKE '%京丹後市観光公社%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND o.name LIKE '%京丹後市観光公社%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_507"
  },
  {
    "no": "3146",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/9/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponCode LIKE '%fruitcoupon-kta-2023-10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponCode LIKE '%fruitcoupon-kta-2023-10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_508"
  },
  {
    "no": "3147",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/9/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponCode LIKE '%fruitcoupon-kta-2023-10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponCode LIKE '%fruitcoupon-kta-2023-10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_509"
  },
  {
    "no": "3148",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/9/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_510"
  },
  {
    "no": "3149",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/9/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_511"
  },
  {
    "no": "3150",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/9/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_512"
  },
  {
    "no": "3151",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/9/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_513"
  },
  {
    "no": "3152",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/10/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_514"
  },
  {
    "no": "3153",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/13/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_515"
  },
  {
    "no": "3154",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/14/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '% 567837000000000003937%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '% 567837000000000003937%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_516"
  },
  {
    "no": "3155",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/14/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%5678372205938978%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%5678372205938978%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_517"
  },
  {
    "no": "3156",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/14/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_518"
  },
  {
    "no": "3157",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/14/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%12%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%12%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_519"
  },
  {
    "no": "3158",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/17/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_520"
  },
  {
    "no": "3159",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/20/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_521"
  },
  {
    "no": "3160",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/20/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_522"
  },
  {
    "no": "3161",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/24/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_523"
  },
  {
    "no": "3162",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_524"
  },
  {
    "no": "3163",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_525"
  },
  {
    "no": "3164",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_526"
  },
  {
    "no": "3166",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_527"
  },
  {
    "no": "3167",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_528"
  },
  {
    "no": "3168",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_529"
  },
  {
    "no": "3170",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_530"
  },
  {
    "no": "3171",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_531"
  },
  {
    "no": "3172",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_532"
  },
  {
    "no": "3173",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_533"
  },
  {
    "no": "3174",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_534"
  },
  {
    "no": "3175",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%1010%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%1010%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_535"
  },
  {
    "no": "3176",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_536"
  },
  {
    "no": "3178",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_537"
  },
  {
    "no": "3180",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_538"
  },
  {
    "no": "3181",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_539"
  },
  {
    "no": "3182",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_540"
  },
  {
    "no": "3183",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_541"
  },
  {
    "no": "3184",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_542"
  },
  {
    "no": "3185",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_543"
  },
  {
    "no": "3186",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_544"
  },
  {
    "no": "3187",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_545"
  },
  {
    "no": "3188",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_546"
  },
  {
    "no": "3189",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_547"
  },
  {
    "no": "3190",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_548"
  },
  {
    "no": "3191",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_549"
  },
  {
    "no": "3192",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_550"
  },
  {
    "no": "3193",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_551"
  },
  {
    "no": "3194",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_552"
  },
  {
    "no": "3195",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_553"
  },
  {
    "no": "3196",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_554"
  },
  {
    "no": "3197",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_555"
  },
  {
    "no": "3198",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_556"
  },
  {
    "no": "3199",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_557"
  },
  {
    "no": "3200",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_558"
  },
  {
    "no": "3201",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_559"
  },
  {
    "no": "3202",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_560"
  },
  {
    "no": "3203",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_561"
  },
  {
    "no": "3204",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_562"
  },
  {
    "no": "3205",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_563"
  },
  {
    "no": "3206",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_564"
  },
  {
    "no": "3207",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_565"
  },
  {
    "no": "3208",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_566"
  },
  {
    "no": "3209",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_567"
  },
  {
    "no": "3210",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_568"
  },
  {
    "no": "3211",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_569"
  },
  {
    "no": "3212",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_570"
  },
  {
    "no": "3213",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_571"
  },
  {
    "no": "3214",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%東京1010%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%東京1010%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_572"
  },
  {
    "no": "3215",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_573"
  },
  {
    "no": "3216",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/4/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_574"
  },
  {
    "no": "3219",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/4/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_575"
  },
  {
    "no": "3220",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/4/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_576"
  },
  {
    "no": "3221",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/4/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰って%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰って%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_577"
  },
  {
    "no": "3222",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/5/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_578"
  },
  {
    "no": "3223",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_579"
  },
  {
    "no": "3224",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_580"
  },
  {
    "no": "3225",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/7/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_581"
  },
  {
    "no": "3226",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/7/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_582"
  },
  {
    "no": "3227",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/7/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_583"
  },
  {
    "no": "3229",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/7/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_584"
  },
  {
    "no": "3232",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/7/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_585"
  },
  {
    "no": "3233",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/7/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_586"
  },
  {
    "no": "3234",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/8/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_587"
  },
  {
    "no": "3235",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/8/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_588"
  },
  {
    "no": "3236",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/10/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_589"
  },
  {
    "no": "3237",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_590"
  },
  {
    "no": "3238",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\\\_23010%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\\\_23010%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_591"
  },
  {
    "no": "3239",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\\\_2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\\\_2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_592"
  },
  {
    "no": "3240",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\\\_2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\\\_2310%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_593"
  },
  {
    "no": "3241",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%12月検証用%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%12月検証用%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_594"
  },
  {
    "no": "3242",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%12月テスト%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%12月テスト%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_595"
  },
  {
    "no": "3243",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%12月%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%12月%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_596"
  },
  {
    "no": "3244",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%12月%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%12月%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_597"
  },
  {
    "no": "3245",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%23010%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%23010%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_598"
  },
  {
    "no": "3246",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_599"
  },
  {
    "no": "3247",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_600"
  },
  {
    "no": "3248",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\\\_2311】%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\\\_2311】%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_601"
  },
  {
    "no": "3249",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_602"
  },
  {
    "no": "3250",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_603"
  },
  {
    "no": "3251",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_604"
  },
  {
    "no": "3252",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_605"
  },
  {
    "no": "3253",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_606"
  },
  {
    "no": "3254",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_607"
  },
  {
    "no": "3255",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_608"
  },
  {
    "no": "3256",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_609"
  },
  {
    "no": "3257",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_610"
  },
  {
    "no": "3258",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_611"
  },
  {
    "no": "3259",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_612"
  },
  {
    "no": "3260",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%5,000円クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%5,000円クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_613"
  },
  {
    "no": "3261",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_614"
  },
  {
    "no": "3262",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_615"
  },
  {
    "no": "3263",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_616"
  },
  {
    "no": "3264",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_617"
  },
  {
    "no": "3265",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\\\_2311】%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\\\_2311】%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_618"
  },
  {
    "no": "3266",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\\\_2311】%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\\\_2311】%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_619"
  },
  {
    "no": "3267",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichi%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichi%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_620"
  },
  {
    "no": "3268",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichi%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichi%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_621"
  },
  {
    "no": "3269",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichi%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichi%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_622"
  },
  {
    "no": "3270",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichi%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichi%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_623"
  },
  {
    "no": "3271",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2311%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_624"
  },
  {
    "no": "3272",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/13/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichi%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichi%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_625"
  },
  {
    "no": "3273",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/13/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%NEXCO%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%NEXCO%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_626"
  },
  {
    "no": "3274",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/15/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_627"
  },
  {
    "no": "3275",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/15/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_628"
  },
  {
    "no": "3276",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/15/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_629"
  },
  {
    "no": "3277",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/18/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_630"
  },
  {
    "no": "3278",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/18/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%1010cp2-1-1123SSDW%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%1010cp2-1-1123SSDW%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_631"
  },
  {
    "no": "3279",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/20/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_632"
  },
  {
    "no": "3280",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/20/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_633"
  },
  {
    "no": "3281",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/20/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_634"
  },
  {
    "no": "3282",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/20/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_635"
  },
  {
    "no": "3283",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/20/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND o.name LIKE '%イオン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND o.name LIKE '%イオン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_636"
  },
  {
    "no": "3284",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/20/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_637"
  },
  {
    "no": "3285",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/20/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%Aeon%' AND l.couponName LIKE '%Aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%Aeon%' AND l.couponName LIKE '%Aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_638"
  },
  {
    "no": "3286",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/20/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponName LIKE '%Aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponName LIKE '%Aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_639"
  },
  {
    "no": "3287",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/21/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_640"
  },
  {
    "no": "3288",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/22/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_641"
  },
  {
    "no": "3289",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/22/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_642"
  },
  {
    "no": "3290",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_643"
  },
  {
    "no": "3291",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_644"
  },
  {
    "no": "3292",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_645"
  },
  {
    "no": "3293",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_646"
  },
  {
    "no": "3294",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_647"
  },
  {
    "no": "3295",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_648"
  },
  {
    "no": "3297",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_649"
  },
  {
    "no": "3298",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2401%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2401%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_650"
  },
  {
    "no": "3299",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_651"
  },
  {
    "no": "3300",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_652"
  },
  {
    "no": "3301",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_653"
  },
  {
    "no": "3302",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_654"
  },
  {
    "no": "3303",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_655"
  },
  {
    "no": "3304",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_656"
  },
  {
    "no": "3305",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_657"
  },
  {
    "no": "3306",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_658"
  },
  {
    "no": "3307",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_659"
  },
  {
    "no": "3308",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_660"
  },
  {
    "no": "3309",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_661"
  },
  {
    "no": "3310",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_662"
  },
  {
    "no": "3311",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_663"
  },
  {
    "no": "3312",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_664"
  },
  {
    "no": "3313",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_665"
  },
  {
    "no": "3314",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_666"
  },
  {
    "no": "3315",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_667"
  },
  {
    "no": "3316",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_668"
  },
  {
    "no": "3317",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_669"
  },
  {
    "no": "3318",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_670"
  },
  {
    "no": "3319",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_671"
  },
  {
    "no": "3320",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_672"
  },
  {
    "no": "3321",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_673"
  },
  {
    "no": "3322",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_674"
  },
  {
    "no": "3323",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_675"
  },
  {
    "no": "3324",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_676"
  },
  {
    "no": "3325",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2312%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_677"
  },
  {
    "no": "3326",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_678"
  },
  {
    "no": "3327",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_679"
  },
  {
    "no": "3328",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_680"
  },
  {
    "no": "3329",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/7/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_681"
  },
  {
    "no": "3330",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/7/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_682"
  },
  {
    "no": "3331",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/7/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_683"
  },
  {
    "no": "3332",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/7/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_684"
  },
  {
    "no": "3333",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_685"
  },
  {
    "no": "3334",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2401%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2401%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_686"
  },
  {
    "no": "3335",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_687"
  },
  {
    "no": "3336",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_688"
  },
  {
    "no": "3337",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_689"
  },
  {
    "no": "3338",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_690"
  },
  {
    "no": "3339",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_691"
  },
  {
    "no": "3340",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_692"
  },
  {
    "no": "3341",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/11/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_693"
  },
  {
    "no": "3342",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/12/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_694"
  },
  {
    "no": "3343",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/12/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_695"
  },
  {
    "no": "3344",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/12/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_696"
  },
  {
    "no": "3345",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/12/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_697"
  },
  {
    "no": "3346",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/12/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' AND o.name LIKE '%松坂屋%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' AND o.name LIKE '%松坂屋%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_698"
  },
  {
    "no": "3347",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/12/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' AND o.name LIKE '%SmartCheckLight%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' AND o.name LIKE '%SmartCheckLight%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_699"
  },
  {
    "no": "3348",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/12/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' AND o.name LIKE '%SmartCheckLight%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' AND o.name LIKE '%SmartCheckLight%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_700"
  },
  {
    "no": "3349",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/15/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%OIOI-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%OIOI-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_701"
  },
  {
    "no": "3350",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/15/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%OIOI-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%OIOI-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_702"
  },
  {
    "no": "3351",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/15/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%OIOI-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%OIOI-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_703"
  },
  {
    "no": "3352",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/15/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%OIOI-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%OIOI-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_704"
  },
  {
    "no": "3353",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/15/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%OIOI-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%OIOI-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_705"
  },
  {
    "no": "3354",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/15/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%OIOI-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%OIOI-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_706"
  },
  {
    "no": "3355",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/15/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%OIOI%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%OIOI%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_707"
  },
  {
    "no": "3356",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/17/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_708"
  },
  {
    "no": "3357",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/17/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_709"
  },
  {
    "no": "3358",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/17/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_710"
  },
  {
    "no": "3359",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/19/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2401%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2401%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_711"
  },
  {
    "no": "3360",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/22/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_712"
  },
  {
    "no": "3361",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/26/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_713"
  },
  {
    "no": "3362",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/26/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_714"
  },
  {
    "no": "3363",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_715"
  },
  {
    "no": "3364",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%202401-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%202401-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_716"
  },
  {
    "no": "3365",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%202401-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%202401-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_717"
  },
  {
    "no": "3366",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20231201-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20231201-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_718"
  },
  {
    "no": "3367",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20231101-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20231101-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_719"
  },
  {
    "no": "3368",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20231001-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20231001-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_720"
  },
  {
    "no": "3369",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230901-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230901-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_721"
  },
  {
    "no": "3370",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230801-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230801-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_722"
  },
  {
    "no": "3371",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230701-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230701-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_723"
  },
  {
    "no": "3372",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%202401-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%202401-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_724"
  },
  {
    "no": "3373",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20231201-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20231201-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_725"
  },
  {
    "no": "3374",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20231101-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20231101-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_726"
  },
  {
    "no": "3375",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20231001-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20231001-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_727"
  },
  {
    "no": "3376",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230901-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230901-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_728"
  },
  {
    "no": "3377",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230801-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230801-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_729"
  },
  {
    "no": "3378",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230701-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230701-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_730"
  },
  {
    "no": "3379",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230601-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230601-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_731"
  },
  {
    "no": "3380",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230501-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230501-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_732"
  },
  {
    "no": "3381",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_733"
  },
  {
    "no": "3382",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230401-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230401-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_734"
  },
  {
    "no": "3383",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230301-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230301-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_735"
  },
  {
    "no": "3384",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230201-28-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230201-28-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_736"
  },
  {
    "no": "3385",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230101-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230101-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_737"
  },
  {
    "no": "3386",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20221201-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20221201-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_738"
  },
  {
    "no": "3387",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20221101-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20221101-30-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_739"
  },
  {
    "no": "3388",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20221001-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20221001-31-kaunseringu%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_740"
  },
  {
    "no": "3389",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "1/31/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_741"
  },
  {
    "no": "3390",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_742"
  },
  {
    "no": "3391",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_743"
  },
  {
    "no": "3392",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_744"
  },
  {
    "no": "3393",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_745"
  },
  {
    "no": "3394",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_746"
  },
  {
    "no": "3395",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_747"
  },
  {
    "no": "3396",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_748"
  },
  {
    "no": "3397",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_749"
  },
  {
    "no": "3398",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_750"
  },
  {
    "no": "3399",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_751"
  },
  {
    "no": "3400",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_752"
  },
  {
    "no": "3401",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_753"
  },
  {
    "no": "3402",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_754"
  },
  {
    "no": "3403",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_755"
  },
  {
    "no": "3404",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_756"
  },
  {
    "no": "3405",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_757"
  },
  {
    "no": "3406",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_758"
  },
  {
    "no": "3407",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_759"
  },
  {
    "no": "3408",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_760"
  },
  {
    "no": "3409",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_761"
  },
  {
    "no": "3410",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_762"
  },
  {
    "no": "3411",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_763"
  },
  {
    "no": "3412",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_764"
  },
  {
    "no": "3413",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_765"
  },
  {
    "no": "3414",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_766"
  },
  {
    "no": "3415",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_767"
  },
  {
    "no": "3416",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_768"
  },
  {
    "no": "3417",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_769"
  },
  {
    "no": "3418",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_770"
  },
  {
    "no": "3419",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_771"
  },
  {
    "no": "3420",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_772"
  },
  {
    "no": "3421",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%A1340340856868C%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%A1340340856868C%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_773"
  },
  {
    "no": "3422",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%A1340340856868C%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%A1340340856868C%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_774"
  },
  {
    "no": "3423",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%A1340340856868C%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%A1340340856868C%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_775"
  },
  {
    "no": "3424",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1091%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1091%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_776"
  },
  {
    "no": "3425",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_777"
  },
  {
    "no": "3426",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_778"
  },
  {
    "no": "3427",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_779"
  },
  {
    "no": "3428",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_780"
  },
  {
    "no": "3429",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/7/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_781"
  },
  {
    "no": "3430",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/7/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_782"
  },
  {
    "no": "3431",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/7/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_783"
  },
  {
    "no": "3432",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/7/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_784"
  },
  {
    "no": "3434",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/7/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_785"
  },
  {
    "no": "3435",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/8/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_786"
  },
  {
    "no": "3436",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/8/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_787"
  },
  {
    "no": "3437",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_788"
  },
  {
    "no": "3438",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_789"
  },
  {
    "no": "3440",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%【デモ】1,000円OFFクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%【デモ】1,000円OFFクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_790"
  },
  {
    "no": "3443",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_791"
  },
  {
    "no": "3444",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_792"
  },
  {
    "no": "3445",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_793"
  },
  {
    "no": "3446",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_794"
  },
  {
    "no": "3447",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponCode LIKE '%test2024-02-10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponCode LIKE '%test2024-02-10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_795"
  },
  {
    "no": "3448",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponCode LIKE '%test2024-02-10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponCode LIKE '%test2024-02-10%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_796"
  },
  {
    "no": "3449",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponName LIKE '%TESTクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponName LIKE '%TESTクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_797"
  },
  {
    "no": "3450",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponName LIKE '%TESTクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponName LIKE '%TESTクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_798"
  },
  {
    "no": "3451",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponName LIKE '%TESTクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponName LIKE '%TESTクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_799"
  },
  {
    "no": "3452",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_800"
  },
  {
    "no": "3453",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_801"
  },
  {
    "no": "3454",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/13/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_802"
  },
  {
    "no": "3455",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/13/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_803"
  },
  {
    "no": "3456",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/14/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_804"
  },
  {
    "no": "3457",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/15/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_805"
  },
  {
    "no": "3458",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_806"
  },
  {
    "no": "3459",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_807"
  },
  {
    "no": "3460",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_808"
  },
  {
    "no": "3462",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/23/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' AND l.couponCode LIKE '%service-nts2023-09%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' AND l.couponCode LIKE '%service-nts2023-09%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_809"
  },
  {
    "no": "3463",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "2/27/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_810"
  },
  {
    "no": "3464",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_811"
  },
  {
    "no": "3465",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_812"
  },
  {
    "no": "3468",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_813"
  },
  {
    "no": "3469",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_814"
  },
  {
    "no": "3470",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_815"
  },
  {
    "no": "3471",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_816"
  },
  {
    "no": "3472",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_817"
  },
  {
    "no": "3473",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_818"
  },
  {
    "no": "3474",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_819"
  },
  {
    "no": "3475",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_820"
  },
  {
    "no": "3476",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_821"
  },
  {
    "no": "3477",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_822"
  },
  {
    "no": "3478",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_823"
  },
  {
    "no": "3479",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_824"
  },
  {
    "no": "3480",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_825"
  },
  {
    "no": "3481",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_826"
  },
  {
    "no": "3482",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_827"
  },
  {
    "no": "3483",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_828"
  },
  {
    "no": "3484",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_829"
  },
  {
    "no": "3485",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_830"
  },
  {
    "no": "3486",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_831"
  },
  {
    "no": "3487",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_832"
  },
  {
    "no": "3488",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_833"
  },
  {
    "no": "3489",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_834"
  },
  {
    "no": "3490",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_835"
  },
  {
    "no": "3491",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_836"
  },
  {
    "no": "3492",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_837"
  },
  {
    "no": "3493",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_838"
  },
  {
    "no": "3494",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_839"
  },
  {
    "no": "3495",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_840"
  },
  {
    "no": "3496",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_841"
  },
  {
    "no": "3497",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/4/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_842"
  },
  {
    "no": "3498",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/4/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_843"
  },
  {
    "no": "3499",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_844"
  },
  {
    "no": "3500",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_845"
  },
  {
    "no": "3501",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_846"
  },
  {
    "no": "3502",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_847"
  },
  {
    "no": "3503",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%koe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%koe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_848"
  },
  {
    "no": "3504",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_849"
  },
  {
    "no": "3505",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/6/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%068275200000000005716%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%068275200000000005716%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_850"
  },
  {
    "no": "3506",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/6/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%068275200000000005716%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%068275200000000005716%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_851"
  },
  {
    "no": "3507",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/8/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_852"
  },
  {
    "no": "3508",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/8/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_853"
  },
  {
    "no": "3509",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/13/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd0f3d304-3ddc-4c0a-90b0-5c3656c150d1' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd0f3d304-3ddc-4c0a-90b0-5c3656c150d1' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_854"
  },
  {
    "no": "3510",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/17/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_855"
  },
  {
    "no": "3511",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/17/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_856"
  },
  {
    "no": "3512",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/18/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_857"
  },
  {
    "no": "3513",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_858"
  },
  {
    "no": "3514",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponCode LIKE '%02JB23BC03JC05JE%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponCode LIKE '%02JB23BC03JC05JE%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_859"
  },
  {
    "no": "3515",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/26/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_860"
  },
  {
    "no": "3516",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/27/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_861"
  },
  {
    "no": "3517",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/27/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%easterreggdaichusenkai%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%easterreggdaichusenkai%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_862"
  },
  {
    "no": "3518",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "3/31/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%0682751701088516%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%0682751701088516%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_863"
  },
  {
    "no": "3519",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_864"
  },
  {
    "no": "3520",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_865"
  },
  {
    "no": "3521",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_866"
  },
  {
    "no": "3522",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_867"
  },
  {
    "no": "3523",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_868"
  },
  {
    "no": "3524",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_869"
  },
  {
    "no": "3525",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_870"
  },
  {
    "no": "3526",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_871"
  },
  {
    "no": "3527",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_872"
  },
  {
    "no": "3528",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_873"
  },
  {
    "no": "3529",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_874"
  },
  {
    "no": "3530",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_875"
  },
  {
    "no": "3531",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_876"
  },
  {
    "no": "3532",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_877"
  },
  {
    "no": "3533",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_878"
  },
  {
    "no": "3534",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_879"
  },
  {
    "no": "3535",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_880"
  },
  {
    "no": "3536",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_881"
  },
  {
    "no": "3537",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_882"
  },
  {
    "no": "3538",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_883"
  },
  {
    "no": "3539",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_884"
  },
  {
    "no": "3540",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_885"
  },
  {
    "no": "3541",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_886"
  },
  {
    "no": "3542",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_887"
  },
  {
    "no": "3543",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_888"
  },
  {
    "no": "3544",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_889"
  },
  {
    "no": "3545",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_890"
  },
  {
    "no": "3546",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_891"
  },
  {
    "no": "3547",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_892"
  },
  {
    "no": "3548",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_893"
  },
  {
    "no": "3549",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_894"
  },
  {
    "no": "3550",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_895"
  },
  {
    "no": "3551",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_896"
  },
  {
    "no": "3552",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_897"
  },
  {
    "no": "3553",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_898"
  },
  {
    "no": "3554",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_899"
  },
  {
    "no": "3555",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/4/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_900"
  },
  {
    "no": "3556",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/4/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_901"
  },
  {
    "no": "3557",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_902"
  },
  {
    "no": "3558",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_903"
  },
  {
    "no": "3559",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_904"
  },
  {
    "no": "3560",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_905"
  },
  {
    "no": "3561",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_906"
  },
  {
    "no": "3562",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%ふるさと納税クーポン（お試し）%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%ふるさと納税クーポン（お試し）%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_907"
  },
  {
    "no": "3563",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/8/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_908"
  },
  {
    "no": "3564",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_909"
  },
  {
    "no": "3565",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_910"
  },
  {
    "no": "3566",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_911"
  },
  {
    "no": "3567",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_912"
  },
  {
    "no": "3568",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/11/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND o.name LIKE '%zannen%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND o.name LIKE '%zannen%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_913"
  },
  {
    "no": "3569",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/11/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_914"
  },
  {
    "no": "3570",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/12/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_915"
  },
  {
    "no": "3571",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/12/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND o.name LIKE '%KF2024CP%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND o.name LIKE '%KF2024CP%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_916"
  },
  {
    "no": "3572",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/12/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%KF2024CP%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%KF2024CP%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_917"
  },
  {
    "no": "3573",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/15/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_918"
  },
  {
    "no": "3574",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/15/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_919"
  },
  {
    "no": "3575",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_920"
  },
  {
    "no": "3576",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%kameda2024-03-17%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%kameda2024-03-17%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_921"
  },
  {
    "no": "3577",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%kameda2024-03-17%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%kameda2024-03-17%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_922"
  },
  {
    "no": "3578",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_923"
  },
  {
    "no": "3579",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_924"
  },
  {
    "no": "3580",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/17/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_925"
  },
  {
    "no": "3581",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/17/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%easterreggdaichusenkai%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%easterreggdaichusenkai%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_926"
  },
  {
    "no": "3582",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/17/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%easterreggdaichusenkai%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%easterreggdaichusenkai%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_927"
  },
  {
    "no": "3583",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/18/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponCode LIKE '%02JB23BC03JC05JE%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponCode LIKE '%02JB23BC03JC05JE%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_928"
  },
  {
    "no": "3584",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/23/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_929"
  },
  {
    "no": "3585",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/24/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%recruit-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%recruit-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_930"
  },
  {
    "no": "3586",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/24/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_931"
  },
  {
    "no": "3587",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%recruit-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%recruit-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_932"
  },
  {
    "no": "3588",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_933"
  },
  {
    "no": "3589",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_934"
  },
  {
    "no": "3590",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_935"
  },
  {
    "no": "3591",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyofrenchdinner%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobeseikyofrenchdinner%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_936"
  },
  {
    "no": "3592",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_937"
  },
  {
    "no": "3593",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_938"
  },
  {
    "no": "3594",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "4/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_939"
  },
  {
    "no": "3595",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_940"
  },
  {
    "no": "3596",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_941"
  },
  {
    "no": "3597",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_942"
  },
  {
    "no": "3598",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_943"
  },
  {
    "no": "3599",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_944"
  },
  {
    "no": "3600",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_945"
  },
  {
    "no": "3601",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_946"
  },
  {
    "no": "3602",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_947"
  },
  {
    "no": "3603",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_948"
  },
  {
    "no": "3604",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_949"
  },
  {
    "no": "3605",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_950"
  },
  {
    "no": "3606",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_951"
  },
  {
    "no": "3607",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_952"
  },
  {
    "no": "3608",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_953"
  },
  {
    "no": "3609",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_954"
  },
  {
    "no": "3610",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_955"
  },
  {
    "no": "3611",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_956"
  },
  {
    "no": "3612",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_957"
  },
  {
    "no": "3613",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_958"
  },
  {
    "no": "3614",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_959"
  },
  {
    "no": "3615",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_960"
  },
  {
    "no": "3616",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_961"
  },
  {
    "no": "3617",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_962"
  },
  {
    "no": "3618",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_963"
  },
  {
    "no": "3619",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_964"
  },
  {
    "no": "3620",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_965"
  },
  {
    "no": "3621",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_966"
  },
  {
    "no": "3622",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_967"
  },
  {
    "no": "3623",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_968"
  },
  {
    "no": "3624",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_969"
  },
  {
    "no": "3625",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_970"
  },
  {
    "no": "3626",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_971"
  },
  {
    "no": "3627",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_972"
  },
  {
    "no": "3628",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_973"
  },
  {
    "no": "3629",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_974"
  },
  {
    "no": "3630",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_975"
  },
  {
    "no": "3631",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_976"
  },
  {
    "no": "3632",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/4/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_977"
  },
  {
    "no": "3633",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/4/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_978"
  },
  {
    "no": "3634",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/7/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_979"
  },
  {
    "no": "3635",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_980"
  },
  {
    "no": "3636",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/15/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_981"
  },
  {
    "no": "3637",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/15/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_982"
  },
  {
    "no": "3638",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_983"
  },
  {
    "no": "3639",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_984"
  },
  {
    "no": "3640",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_985"
  },
  {
    "no": "3641",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_986"
  },
  {
    "no": "3642",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_987"
  },
  {
    "no": "3643",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_988"
  },
  {
    "no": "3644",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%siekyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%siekyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_989"
  },
  {
    "no": "3645",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%kobe%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_990"
  },
  {
    "no": "3646",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_991"
  },
  {
    "no": "3647",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%seikyo%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_992"
  },
  {
    "no": "3648",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%zannen%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%zannen%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_993"
  },
  {
    "no": "3649",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/17/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_994"
  },
  {
    "no": "3650",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/21/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_995"
  },
  {
    "no": "3651",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/22/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_996"
  },
  {
    "no": "3652",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/22/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_997"
  },
  {
    "no": "3653",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/22/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%recruit-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%recruit-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_998"
  },
  {
    "no": "3654",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/22/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%【リクルート様】サンプルクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%【リクルート様】サンプルクーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_999"
  },
  {
    "no": "3655",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/23/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\\\_2405】壱番屋アンケートクーポン 100円券%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\\\_2405】壱番屋アンケートクーポン 100円券%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1000"
  },
  {
    "no": "3656",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/23/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\\\_2405】%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\\\_2405】%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1001"
  },
  {
    "no": "3657",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/23/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1002"
  },
  {
    "no": "3658",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/24/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1003"
  },
  {
    "no": "3659",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/24/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1004"
  },
  {
    "no": "3660",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/24/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1005"
  },
  {
    "no": "3661",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/24/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1006"
  },
  {
    "no": "3662",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1007"
  },
  {
    "no": "3663",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/26/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1008"
  },
  {
    "no": "3664",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/26/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_1009"
  },
  {
    "no": "3665",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/27/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1010"
  },
  {
    "no": "3666",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/28/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1011"
  },
  {
    "no": "3667",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/28/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1012"
  },
  {
    "no": "3668",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/28/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1013"
  },
  {
    "no": "3669",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1014"
  },
  {
    "no": "3670",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2406%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2406%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1015"
  },
  {
    "no": "3671",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1016"
  },
  {
    "no": "3672",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1017"
  },
  {
    "no": "3673",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1018"
  },
  {
    "no": "3674",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%hakuhodo-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%hakuhodo-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1019"
  },
  {
    "no": "3675",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1020"
  },
  {
    "no": "3676",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1021"
  },
  {
    "no": "3677",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1022"
  },
  {
    "no": "3678",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1023"
  },
  {
    "no": "3679",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2406%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2406%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1024"
  },
  {
    "no": "3680",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1025"
  },
  {
    "no": "3681",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1026"
  },
  {
    "no": "3682",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1027"
  },
  {
    "no": "3683",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/31/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1028"
  },
  {
    "no": "3684",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "5/31/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1029"
  },
  {
    "no": "3685",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/3/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1030"
  },
  {
    "no": "3686",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/3/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2406%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2406%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1031"
  },
  {
    "no": "3687",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/3/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%easterreggdaichusenkai%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%easterreggdaichusenkai%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1032"
  },
  {
    "no": "3688",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/4/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1033"
  },
  {
    "no": "3689",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1034"
  },
  {
    "no": "3690",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/6/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1035"
  },
  {
    "no": "3691",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/6/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_1036"
  },
  {
    "no": "3692",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/6/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1037"
  },
  {
    "no": "3693",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/12/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1038"
  },
  {
    "no": "3694",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/17/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'ed586aa3-e7ce-4d6e-94dd-9f4bbc468479' AND o.name LIKE '%SmartCheckLight%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'ed586aa3-e7ce-4d6e-94dd-9f4bbc468479' AND o.name LIKE '%SmartCheckLight%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1039"
  },
  {
    "no": "3695",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1040"
  },
  {
    "no": "3696",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1041"
  },
  {
    "no": "3697",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "6/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1042"
  },
  {
    "no": "3698",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1043"
  },
  {
    "no": "3699",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/3/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1044"
  },
  {
    "no": "3700",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%レッドホットチキン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%レッドホットチキン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1045"
  },
  {
    "no": "3701",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%KC1031%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%KC1031%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1046"
  },
  {
    "no": "3702",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%1031%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%1031%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1047"
  },
  {
    "no": "3703",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030036007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030036007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1048"
  },
  {
    "no": "3704",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030036007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030036007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1049"
  },
  {
    "no": "3705",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND o.name LIKE '%日本ケンタッキー・フライド・チキン株式会社%' AND l.couponCode LIKE '%030036%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND o.name LIKE '%日本ケンタッキー・フライド・チキン株式会社%' AND l.couponCode LIKE '%030036%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1050"
  },
  {
    "no": "3706",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND o.name LIKE '%日本ケンタッキー・フライド・チキン株式会社%' AND l.couponCode LIKE '%030036007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND o.name LIKE '%日本ケンタッキー・フライド・チキン株式会社%' AND l.couponCode LIKE '%030036007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1051"
  },
  {
    "no": "3707",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030036007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030036007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1052"
  },
  {
    "no": "3708",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030034007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030034007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1053"
  },
  {
    "no": "3709",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030034007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030034007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1054"
  },
  {
    "no": "3710",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1060%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1060%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1055"
  },
  {
    "no": "3711",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030034007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%030034007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1056"
  },
  {
    "no": "3712",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/11/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1057"
  },
  {
    "no": "3713",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/12/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '86b02ca3-a865-40ac-af49-958eb6f2176c' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '86b02ca3-a865-40ac-af49-958eb6f2176c' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1058"
  },
  {
    "no": "3714",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/12/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '86b02ca3-a865-40ac-af49-958eb6f2176c' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '86b02ca3-a865-40ac-af49-958eb6f2176c' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_1059"
  },
  {
    "no": "3715",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND o.name LIKE '%ichibanya-500yen-2407%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND o.name LIKE '%ichibanya-500yen-2407%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1060"
  },
  {
    "no": "3716",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-500yen-2407%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-500yen-2407%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1061"
  },
  {
    "no": "3717",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1062"
  },
  {
    "no": "3718",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1063"
  },
  {
    "no": "3719",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/22/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%A3710138352731C%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%A3710138352731C%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1064"
  },
  {
    "no": "3720",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%029284007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%029284007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1065"
  },
  {
    "no": "3721",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%29284007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%29284007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1066"
  },
  {
    "no": "3722",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%29284007%' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%29284007%' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1067"
  },
  {
    "no": "3723",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/26/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1068"
  },
  {
    "no": "3724",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/26/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_1069"
  },
  {
    "no": "3725",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/26/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1070"
  },
  {
    "no": "3726",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/26/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_1071"
  },
  {
    "no": "3727",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/26/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1072"
  },
  {
    "no": "3728",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/26/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_1073"
  },
  {
    "no": "3729",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/26/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1074"
  },
  {
    "no": "3730",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/26/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1075"
  },
  {
    "no": "3731",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/26/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1076"
  },
  {
    "no": "3732",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/26/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1077"
  },
  {
    "no": "3733",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/26/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1078"
  },
  {
    "no": "3734",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/26/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1034%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1034%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1079"
  },
  {
    "no": "3735",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/26/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%030042007%' AND l.couponName LIKE '%KC1034%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%030042007%' AND l.couponName LIKE '%KC1034%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1080"
  },
  {
    "no": "3736",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/26/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%030042007%' AND l.couponName LIKE '%KC1034%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%030042007%' AND l.couponName LIKE '%KC1034%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1081"
  },
  {
    "no": "3737",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/26/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%030038007%' AND l.couponName LIKE '%KC1032%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%030038007%' AND l.couponName LIKE '%KC1032%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1082"
  },
  {
    "no": "3738",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1034%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1034%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1083"
  },
  {
    "no": "3739",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1034%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1034%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1084"
  },
  {
    "no": "3740",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "7/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%030038007%' AND l.couponName LIKE '%KC1032%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%030038007%' AND l.couponName LIKE '%KC1032%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1085"
  },
  {
    "no": "3741",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1086"
  },
  {
    "no": "3742",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponName LIKE '%【らあめん花月嵐】当選者クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponName LIKE '%【らあめん花月嵐】当選者クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1087"
  },
  {
    "no": "3743",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponName LIKE '%【らあめん花月嵐】当選者クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponName LIKE '%【らあめん花月嵐】当選者クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1088"
  },
  {
    "no": "3744",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1089"
  },
  {
    "no": "3745",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0009%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0009%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1090"
  },
  {
    "no": "3746",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' AND o.name LIKE '%SmartCheckLight%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' AND o.name LIKE '%SmartCheckLight%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1091"
  },
  {
    "no": "3747",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1092"
  },
  {
    "no": "3748",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1093"
  },
  {
    "no": "3750",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/15/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%art-ishigakijima-samplecoupon1%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%art-ishigakijima-samplecoupon1%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1094"
  },
  {
    "no": "3751",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/15/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%art-ishigakijima-samplecoupon1%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%art-ishigakijima-samplecoupon1%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1095"
  },
  {
    "no": "3752",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/19/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1096"
  },
  {
    "no": "3753",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/20/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1097"
  },
  {
    "no": "3754",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/20/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1098"
  },
  {
    "no": "3755",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/20/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1099"
  },
  {
    "no": "3756",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/20/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_1100"
  },
  {
    "no": "3757",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/27/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1101"
  },
  {
    "no": "3758",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/27/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_1102"
  },
  {
    "no": "3759",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/27/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1103"
  },
  {
    "no": "3760",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/27/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_1104"
  },
  {
    "no": "3761",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/27/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'df79441a-ee1c-4efd-ade7-794b40c574f5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'df79441a-ee1c-4efd-ade7-794b40c574f5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1105"
  },
  {
    "no": "3762",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/27/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'df79441a-ee1c-4efd-ade7-794b40c574f5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'df79441a-ee1c-4efd-ade7-794b40c574f5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_1106"
  },
  {
    "no": "3763",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/27/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '567e0287-35bc-47b4-aa0d-c7c3a9ed6fe0' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '567e0287-35bc-47b4-aa0d-c7c3a9ed6fe0' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1107"
  },
  {
    "no": "3764",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/27/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '567e0287-35bc-47b4-aa0d-c7c3a9ed6fe0' AND l.couponCode LIKE '%1010cp2-8-1202-1203-SBGIFT%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '567e0287-35bc-47b4-aa0d-c7c3a9ed6fe0' AND l.couponCode LIKE '%1010cp2-8-1202-1203-SBGIFT%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1108"
  },
  {
    "no": "3765",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%mua2tang1%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%mua2tang1%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1109"
  },
  {
    "no": "3766",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "8/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%test%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%test%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1110"
  },
  {
    "no": "3767",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1111"
  },
  {
    "no": "3768",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponCode LIKE '%9052007659007825%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponCode LIKE '%9052007659007825%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1112"
  },
  {
    "no": "3769",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponCode LIKE '%02JB23BC03JC05JE%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponCode LIKE '%02JB23BC03JC05JE%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1113"
  },
  {
    "no": "3770",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponName LIKE '%らあめん花月嵐フルキャストグループイン記念クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponName LIKE '%らあめん花月嵐フルキャストグループイン記念クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1114"
  },
  {
    "no": "3771",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponName LIKE '%らあめん花月嵐フルキャストグループイン記念クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponName LIKE '%らあめん花月嵐フルキャストグループイン記念クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_1115"
  },
  {
    "no": "3772",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1116"
  },
  {
    "no": "3776",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/3/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1117"
  },
  {
    "no": "3779",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/3/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '567e0287-35bc-47b4-aa0d-c7c3a9ed6fe0' AND l.couponCode LIKE '%1010cp2-8-1202-1203-SBGIFT%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '567e0287-35bc-47b4-aa0d-c7c3a9ed6fe0' AND l.couponCode LIKE '%1010cp2-8-1202-1203-SBGIFT%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1118"
  },
  {
    "no": "3784",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/3/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47' AND o.name LIKE '%店舗B%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47' AND o.name LIKE '%店舗B%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1119"
  },
  {
    "no": "3785",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/3/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47' AND l.couponCode LIKE '%Bkyotsu240903%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47' AND l.couponCode LIKE '%Bkyotsu240903%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1120"
  },
  {
    "no": "3786",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/3/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47' AND l.couponCode LIKE '%Bkyotsu240903%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47' AND l.couponCode LIKE '%Bkyotsu240903%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1121"
  },
  {
    "no": "3789",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/4/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1122"
  },
  {
    "no": "3792",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/6/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1123"
  },
  {
    "no": "3795",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1124"
  },
  {
    "no": "3798",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1125"
  },
  {
    "no": "3799",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/12/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1126"
  },
  {
    "no": "3800",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/13/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1127"
  },
  {
    "no": "3803",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/17/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1128"
  },
  {
    "no": "3804",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/17/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1129"
  },
  {
    "no": "3805",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/17/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_1130"
  },
  {
    "no": "3806",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/17/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1131"
  },
  {
    "no": "3808",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/19/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1132"
  },
  {
    "no": "3811",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/24/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1133"
  },
  {
    "no": "3812",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponCode LIKE '%JB0224BD09JI05JE%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponCode LIKE '%JB0224BD09JI05JE%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1134"
  },
  {
    "no": "3813",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponCode LIKE '%JB0224BD09JI05JE%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND l.couponCode LIKE '%JB0224BD09JI05JE%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_1135"
  },
  {
    "no": "3816",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "9/26/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd2f8c6ac-ebde-41c7-a0d8-ca34dfa397db' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd2f8c6ac-ebde-41c7-a0d8-ca34dfa397db' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1136"
  },
  {
    "no": "3821",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1137"
  },
  {
    "no": "3822",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1138"
  },
  {
    "no": "3823",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_1139"
  },
  {
    "no": "3824",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'df79441a-ee1c-4efd-ade7-794b40c574f5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'df79441a-ee1c-4efd-ade7-794b40c574f5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1140"
  },
  {
    "no": "3825",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'df79441a-ee1c-4efd-ade7-794b40c574f5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'df79441a-ee1c-4efd-ade7-794b40c574f5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_1141"
  },
  {
    "no": "3826",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1142"
  },
  {
    "no": "3827",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1143"
  },
  {
    "no": "3828",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1144"
  },
  {
    "no": "3829",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd0f3d304-3ddc-4c0a-90b0-5c3656c150d1' AND l.couponCode LIKE '%sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd0f3d304-3ddc-4c0a-90b0-5c3656c150d1' AND l.couponCode LIKE '%sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1145"
  },
  {
    "no": "3830",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd0f3d304-3ddc-4c0a-90b0-5c3656c150d1' AND l.couponCode LIKE '%2021-08-27test-CouponCode-xxxx%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd0f3d304-3ddc-4c0a-90b0-5c3656c150d1' AND l.couponCode LIKE '%2021-08-27test-CouponCode-xxxx%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1146"
  },
  {
    "no": "3831",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/3/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%abcde%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%abcde%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1147"
  },
  {
    "no": "3832",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/3/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%abcde%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%abcde%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1148"
  },
  {
    "no": "3833",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/3/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1149"
  },
  {
    "no": "3834",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/3/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1150"
  },
  {
    "no": "3835",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/3/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1151"
  },
  {
    "no": "3836",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/3/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_1152"
  },
  {
    "no": "3837",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/3/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1153"
  },
  {
    "no": "3838",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/3/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_1154"
  },
  {
    "no": "3839",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/3/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1155"
  },
  {
    "no": "3840",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/4/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' AND l.couponCode LIKE '%nakajimasuisan-coupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' AND l.couponCode LIKE '%nakajimasuisan-coupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1156"
  },
  {
    "no": "3841",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/4/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1157"
  },
  {
    "no": "3842",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/4/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1158"
  },
  {
    "no": "3843",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/7/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%030295007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%030295007%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1159"
  },
  {
    "no": "3844",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/8/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1160"
  },
  {
    "no": "3845",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/8/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1161"
  },
  {
    "no": "3846",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/8/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1162"
  },
  {
    "no": "3847",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND o.name LIKE '%sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND o.name LIKE '%sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1163"
  },
  {
    "no": "3848",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1164"
  },
  {
    "no": "3849",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1165"
  },
  {
    "no": "3850",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1166"
  },
  {
    "no": "3851",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1167"
  },
  {
    "no": "3852",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1168"
  },
  {
    "no": "3853",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1169"
  },
  {
    "no": "3854",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1170"
  },
  {
    "no": "3855",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND o.name LIKE '%tokyo-sent%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND o.name LIKE '%tokyo-sent%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1171"
  },
  {
    "no": "3856",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1172"
  },
  {
    "no": "3857",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1173"
  },
  {
    "no": "3858",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%体験用クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%体験用クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1174"
  },
  {
    "no": "3859",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1175"
  },
  {
    "no": "3860",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1176"
  },
  {
    "no": "3861",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%12345%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%12345%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1177"
  },
  {
    "no": "3862",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%12345%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND l.couponCode LIKE '%12345%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_1178"
  },
  {
    "no": "3863",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47' AND l.couponCode LIKE '%test24091302coffee%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1179"
  },
  {
    "no": "3864",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/11/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1180"
  },
  {
    "no": "3865",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/11/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1181"
  },
  {
    "no": "3866",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/11/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1182"
  },
  {
    "no": "3867",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/11/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1183"
  },
  {
    "no": "3868",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/11/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1184"
  },
  {
    "no": "3869",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/15/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1185"
  },
  {
    "no": "3870",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/15/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1186"
  },
  {
    "no": "3871",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/15/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' AND l.couponName LIKE '%【中島水産】専用クーポン(2024/10/15発行)%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' AND l.couponName LIKE '%【中島水産】専用クーポン(2024/10/15発行)%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1187"
  },
  {
    "no": "3872",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1188"
  },
  {
    "no": "3873",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1189"
  },
  {
    "no": "3874",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/17/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1190"
  },
  {
    "no": "3875",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/17/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1191"
  },
  {
    "no": "3876",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/18/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1192"
  },
  {
    "no": "3877",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/18/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1193"
  },
  {
    "no": "3878",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/18/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1194"
  },
  {
    "no": "3879",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/18/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_1195"
  },
  {
    "no": "3880",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/18/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1196"
  },
  {
    "no": "3881",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/18/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1197"
  },
  {
    "no": "3882",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/18/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' AND l.couponName LIKE '%2410%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' AND l.couponName LIKE '%2410%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1198"
  },
  {
    "no": "3883",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/21/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1199"
  },
  {
    "no": "3884",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/21/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1200"
  },
  {
    "no": "3885",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/22/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1201"
  },
  {
    "no": "3886",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/23/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1202"
  },
  {
    "no": "3887",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/23/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento-coupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento-coupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1203"
  },
  {
    "no": "3888",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/23/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento-coupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento-coupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_1204"
  },
  {
    "no": "3889",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/23/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1205"
  },
  {
    "no": "3890",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/23/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1206"
  },
  {
    "no": "3892",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/23/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1207"
  },
  {
    "no": "3894",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/23/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1208"
  },
  {
    "no": "3895",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/24/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1209"
  },
  {
    "no": "3896",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/24/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1210"
  },
  {
    "no": "3898",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1211"
  },
  {
    "no": "3899",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/28/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1212"
  },
  {
    "no": "3900",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/28/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1213"
  },
  {
    "no": "3901",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1214"
  },
  {
    "no": "3902",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1215"
  },
  {
    "no": "3903",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1216"
  },
  {
    "no": "3904",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/31/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'b57f69a7-bcb5-41bd-8025-b5700b5b40d5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'b57f69a7-bcb5-41bd-8025-b5700b5b40d5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1217"
  },
  {
    "no": "3905",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/31/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1218"
  },
  {
    "no": "3906",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/31/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND o.name LIKE '%SBギフト%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND o.name LIKE '%SBギフト%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1219"
  },
  {
    "no": "3907",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/31/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND o.name LIKE '%SBギフト%' AND l.couponCode LIKE '%1010cp-test%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND o.name LIKE '%SBギフト%' AND l.couponCode LIKE '%1010cp-test%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1220"
  },
  {
    "no": "3908",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/31/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%1010cp-test%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%1010cp-test%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1221"
  },
  {
    "no": "3909",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/31/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%【テスト】東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponName LIKE '%【テスト】東京1010クーポン%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1222"
  },
  {
    "no": "3911",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/31/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'b57f69a7-bcb5-41bd-8025-b5700b5b40d5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'b57f69a7-bcb5-41bd-8025-b5700b5b40d5' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1223"
  },
  {
    "no": "3914",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/31/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1224"
  },
  {
    "no": "3918",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/31/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1225"
  },
  {
    "no": "3919",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "10/31/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1226"
  },
  {
    "no": "3923",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1227"
  },
  {
    "no": "3924",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1228"
  },
  {
    "no": "3925",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1229"
  },
  {
    "no": "3926",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1230"
  },
  {
    "no": "3927",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1231"
  },
  {
    "no": "3928",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1232"
  },
  {
    "no": "3929",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1233"
  },
  {
    "no": "3930",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1234"
  },
  {
    "no": "3932",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1235"
  },
  {
    "no": "3935",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1236"
  },
  {
    "no": "3936",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento-coupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento-coupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1237"
  },
  {
    "no": "3937",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento-coupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento-coupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_1238"
  },
  {
    "no": "3938",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1239"
  },
  {
    "no": "3939",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1240"
  },
  {
    "no": "3940",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1241"
  },
  {
    "no": "3941",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/6/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1242"
  },
  {
    "no": "3942",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/7/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1243"
  },
  {
    "no": "3943",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/8/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1244"
  },
  {
    "no": "3944",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/8/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1245"
  },
  {
    "no": "3945",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/11/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1246"
  },
  {
    "no": "3946",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/11/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1247"
  },
  {
    "no": "3948",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/11/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1248"
  },
  {
    "no": "3949",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/12/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1249"
  },
  {
    "no": "3950",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/12/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1250"
  },
  {
    "no": "3951",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/13/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1251"
  },
  {
    "no": "3952",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/14/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' AND o.name LIKE '%中島水産株式会社%' AND l.couponName LIKE '%【中島水産】専用クーポン(2024/10/15発行)%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' AND o.name LIKE '%中島水産株式会社%' AND l.couponName LIKE '%【中島水産】専用クーポン(2024/10/15発行)%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1252"
  },
  {
    "no": "3953",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/14/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' AND o.name LIKE '%中島水産株式会社%' AND l.couponName LIKE '%【中島水産】専用クーポン(2024/10/15発行)%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' AND o.name LIKE '%中島水産株式会社%' AND l.couponName LIKE '%【中島水産】専用クーポン(2024/10/15発行)%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1253"
  },
  {
    "no": "3954",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/14/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1254"
  },
  {
    "no": "3955",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/15/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1255"
  },
  {
    "no": "3956",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/15/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1256"
  },
  {
    "no": "3957",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/15/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_1257"
  },
  {
    "no": "3958",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' AND o.name LIKE '%中島水産株式会社%' AND l.couponName LIKE '%【中島水産】専用クーポン(2024/10/15発行)%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' AND o.name LIKE '%中島水産株式会社%' AND l.couponName LIKE '%【中島水産】専用クーポン(2024/10/15発行)%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1258"
  },
  {
    "no": "3959",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/19/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1259"
  },
  {
    "no": "3960",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/19/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1260"
  },
  {
    "no": "3961",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/19/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1261"
  },
  {
    "no": "3962",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/19/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '056f0e0d-2960-49d8-9f3a-05c6e7971ce4' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '056f0e0d-2960-49d8-9f3a-05c6e7971ce4' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1262"
  },
  {
    "no": "3963",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/20/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1263"
  },
  {
    "no": "3964",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/20/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1264"
  },
  {
    "no": "3965",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/20/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_1265"
  },
  {
    "no": "3966",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/21/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1266"
  },
  {
    "no": "3967",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/21/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1267"
  },
  {
    "no": "3968",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/22/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1268"
  },
  {
    "no": "3969",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/22/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1269"
  },
  {
    "no": "3970",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/22/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1270"
  },
  {
    "no": "3971",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/22/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q7_1271"
  },
  {
    "no": "3972",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/22/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1272"
  },
  {
    "no": "3973",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1273"
  },
  {
    "no": "3974",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1274"
  },
  {
    "no": "3975",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND o.name LIKE '%ACLE2coupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND o.name LIKE '%ACLE2coupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1275"
  },
  {
    "no": "3976",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponName LIKE '%ACLE2coupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponName LIKE '%ACLE2coupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1276"
  },
  {
    "no": "3977",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE2coupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE2coupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1277"
  },
  {
    "no": "3978",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLEcoupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLEcoupon%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1278"
  },
  {
    "no": "3979",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1279"
  },
  {
    "no": "3980",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/26/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo0-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo0-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1280"
  },
  {
    "no": "3981",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/26/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1281"
  },
  {
    "no": "3982",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/26/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1282"
  },
  {
    "no": "3983",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/26/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1283"
  },
  {
    "no": "3984",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/27/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1284"
  },
  {
    "no": "3985",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/27/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1285"
  },
  {
    "no": "3986",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/28/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1286"
  },
  {
    "no": "3987",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/28/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1287"
  },
  {
    "no": "3988",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/28/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1288"
  },
  {
    "no": "3989",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "11/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1289"
  },
  {
    "no": "3990",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1290"
  },
  {
    "no": "3991",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1291"
  },
  {
    "no": "3992",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1292"
  },
  {
    "no": "3993",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1293"
  },
  {
    "no": "3994",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1294"
  },
  {
    "no": "3995",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/3/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2412%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2412%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1295"
  },
  {
    "no": "3996",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/3/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\\\_2412%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%本番\\\\_2412%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1296"
  },
  {
    "no": "3997",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/3/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1297"
  },
  {
    "no": "3998",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/3/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1298"
  },
  {
    "no": "3999",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/3/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1299"
  },
  {
    "no": "4000",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/4/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1300"
  },
  {
    "no": "4001",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1301"
  },
  {
    "no": "4002",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1302"
  },
  {
    "no": "4003",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/6/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1303"
  },
  {
    "no": "4004",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/6/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1304"
  },
  {
    "no": "4005",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/6/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'fb96ab72-2211-4617-aa21-91a76b050360' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'fb96ab72-2211-4617-aa21-91a76b050360' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1305"
  },
  {
    "no": "4006",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/6/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'fb96ab72-2211-4617-aa21-91a76b050360' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'fb96ab72-2211-4617-aa21-91a76b050360' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1306"
  },
  {
    "no": "4007",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/6/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'fb96ab72-2211-4617-aa21-91a76b050360' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'fb96ab72-2211-4617-aa21-91a76b050360' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1307"
  },
  {
    "no": "4008",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1308"
  },
  {
    "no": "4009",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1309"
  },
  {
    "no": "4010",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'fb96ab72-2211-4617-aa21-91a76b050360' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'fb96ab72-2211-4617-aa21-91a76b050360' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1310"
  },
  {
    "no": "4011",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%Ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%Ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1311"
  },
  {
    "no": "4012",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%IchIbanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%IchIbanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1312"
  },
  {
    "no": "4013",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%IchIbanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%IchIbanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1313"
  },
  {
    "no": "4014",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1314"
  },
  {
    "no": "4015",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1315"
  },
  {
    "no": "4016",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' AND o.name LIKE '%中島水産株式会社%' AND l.couponName LIKE '%【中島水産】専用クーポン(2024/10/15発行)%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' AND o.name LIKE '%中島水産株式会社%' AND l.couponName LIKE '%【中島水産】専用クーポン(2024/10/15発行)%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1316"
  },
  {
    "no": "4017",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1317"
  },
  {
    "no": "4018",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1318"
  },
  {
    "no": "4019",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/11/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1319"
  },
  {
    "no": "4020",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/12/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1320"
  },
  {
    "no": "4021",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/12/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1321"
  },
  {
    "no": "4022",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/13/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1322"
  },
  {
    "no": "4023",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/13/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1323"
  },
  {
    "no": "4024",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/13/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1324"
  },
  {
    "no": "4025",
    "queryPattern": "Q7",
    "name": "Usage Aggregate Json byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byCouponMasterSql",
    "isMatching": "1",
    "timestamp": "12/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT l.couponMasterId, o.resourceId, o.name, l.couponCode, l.couponName, ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\", (SELECT COUNT(*) FROM coupon_logs l2 WHERE l2.type = 'displayed' AND l2.couponMasterId = l.couponMasterId)  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY l.couponCode, l.couponName, l.createAtMillis, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q7_1325"
  },
  {
    "no": "4336",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "7/4/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_1"
  },
  {
    "no": "4337",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "7/4/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_2"
  },
  {
    "no": "4345",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "7/12/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = '86b02ca3-a865-40ac-af49-958eb6f2176c' AND o.type = 'SHOP' AND o.name LIKE '%近鉄郡山店%' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '86b02ca3-a865-40ac-af49-958eb6f2176c' AND o.type = 'SHOP' AND o.name LIKE '%近鉄郡山店%' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_3"
  },
  {
    "no": "4347",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "7/19/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_4"
  },
  {
    "no": "4349",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "7/19/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_5"
  },
  {
    "no": "4351",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "7/19/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_6"
  },
  {
    "no": "4352",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "7/19/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q8_7"
  },
  {
    "no": "4353",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "7/19/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND o.type = 'SHOP' AND o.name LIKE '%中延店%' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND o.type = 'SHOP' AND o.name LIKE '%中延店%' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_8"
  },
  {
    "no": "4358",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "7/21/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_9"
  },
  {
    "no": "4359",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "7/24/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_10"
  },
  {
    "no": "4360",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "7/24/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_11"
  },
  {
    "no": "4361",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "7/24/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q8_12"
  },
  {
    "no": "4372",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_13"
  },
  {
    "no": "4373",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q8_14"
  },
  {
    "no": "4395",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_15"
  },
  {
    "no": "4396",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q8_16"
  },
  {
    "no": "4556",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/22/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND o.type = 'SHOP' AND o.name LIKE '%名古屋ふらんす%' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND o.type = 'SHOP' AND o.name LIKE '%名古屋ふらんす%' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_17"
  },
  {
    "no": "4557",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/22/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND o.type = 'SMALL_SHOP_GROUP' AND o.name LIKE '%名古屋%' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND o.type = 'SMALL_SHOP_GROUP' AND o.name LIKE '%名古屋%' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_18"
  },
  {
    "no": "4558",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/22/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND o.type = 'SHOP' AND o.name LIKE '%名古屋%' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND o.type = 'SHOP' AND o.name LIKE '%名古屋%' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_19"
  },
  {
    "no": "4559",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/22/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND o.type = 'SHOP' AND o.name LIKE '%銀座%' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND o.type = 'SHOP' AND o.name LIKE '%銀座%' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_20"
  },
  {
    "no": "4562",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/22/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND o.type = 'SMALL_SHOP_GROUP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND o.type = 'SMALL_SHOP_GROUP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_21"
  },
  {
    "no": "4563",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/22/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND o.type = 'SHOP' AND o.name LIKE '%銀座%' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND o.type = 'SHOP' AND o.name LIKE '%銀座%' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_22"
  },
  {
    "no": "4564",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/22/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND o.type = 'BIG_SHOP_GROUP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND o.type = 'BIG_SHOP_GROUP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_23"
  },
  {
    "no": "4734",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "10/25/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND o.type = 'SHOP' AND o.name LIKE '%京丹後市観光公社%' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND o.type = 'SHOP' AND o.name LIKE '%京丹後市観光公社%' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_24"
  },
  {
    "no": "4843",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "11/27/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_25"
  },
  {
    "no": "4847",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "11/27/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_26"
  },
  {
    "no": "4855",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "11/29/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_27"
  },
  {
    "no": "4857",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "11/29/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_28"
  },
  {
    "no": "4895",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "12/4/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_29"
  },
  {
    "no": "4896",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "12/4/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q8_30"
  },
  {
    "no": "4906",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "12/7/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_31"
  },
  {
    "no": "4908",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "12/7/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND o.type = 'SHOP' AND o.name LIKE '%えごた湯%' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND o.type = 'SHOP' AND o.name LIKE '%えごた湯%' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_32"
  },
  {
    "no": "4909",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "12/7/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_33"
  },
  {
    "no": "4974",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "12/28/2023",
    "shortSQL": "_SAME_ WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_34"
  },
  {
    "no": "5111",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "2/7/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_35"
  },
  {
    "no": "5117",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "2/9/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'd4e3ccff-215e-4bf3-b85b-d120b1e75278' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'd4e3ccff-215e-4bf3-b85b-d120b1e75278' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_36"
  },
  {
    "no": "5119",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "2/10/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_37"
  },
  {
    "no": "5120",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "2/10/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q8_38"
  },
  {
    "no": "5139",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "2/23/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_39"
  },
  {
    "no": "5144",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND o.type = 'SHOP' AND o.name LIKE '%北千住%' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND o.type = 'SHOP' AND o.name LIKE '%北千住%' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_40"
  },
  {
    "no": "5145",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_41"
  },
  {
    "no": "5427",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "8/6/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_42"
  },
  {
    "no": "5451",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/3/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_43"
  },
  {
    "no": "5452",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/3/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_44"
  },
  {
    "no": "5453",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/3/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_45"
  },
  {
    "no": "5455",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/3/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_46"
  },
  {
    "no": "5456",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/3/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_47"
  },
  {
    "no": "5458",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/3/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q8_48"
  },
  {
    "no": "5459",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/3/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_49"
  },
  {
    "no": "5460",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/3/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '84f4ee9e-3f00-4530-adaf-9bd2dc15108b' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_50"
  },
  {
    "no": "5461",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/3/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'c4a414cb-3357-4c10-93d0-058edb86ce47' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_51"
  },
  {
    "no": "5465",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/4/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_52"
  },
  {
    "no": "5466",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/4/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q8_53"
  },
  {
    "no": "5468",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/6/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_54"
  },
  {
    "no": "5469",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/6/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q8_55"
  },
  {
    "no": "5471",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/6/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_56"
  },
  {
    "no": "5472",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/9/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_57"
  },
  {
    "no": "5474",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/9/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_58"
  },
  {
    "no": "5475",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/9/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_59"
  },
  {
    "no": "5479",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/14/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_60"
  },
  {
    "no": "5480",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/14/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q8_61"
  },
  {
    "no": "5485",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/17/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_62"
  },
  {
    "no": "5487",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/20/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND o.type = 'SHOP' AND o.name LIKE '%上野マルイ%' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND o.type = 'SHOP' AND o.name LIKE '%上野マルイ%' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_63"
  },
  {
    "no": "5488",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/20/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND o.type = 'SHOP' AND o.name LIKE '%上野マルイ%' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND o.type = 'SHOP' AND o.name LIKE '%上野マルイ%' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q8_64"
  },
  {
    "no": "5492",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/26/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_65"
  },
  {
    "no": "5493",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/26/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_66"
  },
  {
    "no": "5495",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/26/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'd2f8c6ac-ebde-41c7-a0d8-ca34dfa397db' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'd2f8c6ac-ebde-41c7-a0d8-ca34dfa397db' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_67"
  },
  {
    "no": "5496",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/26/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'd2f8c6ac-ebde-41c7-a0d8-ca34dfa397db' AND o.type = 'BIG_SHOP_GROUP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'd2f8c6ac-ebde-41c7-a0d8-ca34dfa397db' AND o.type = 'BIG_SHOP_GROUP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_68"
  },
  {
    "no": "5497",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/26/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'd2f8c6ac-ebde-41c7-a0d8-ca34dfa397db' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'd2f8c6ac-ebde-41c7-a0d8-ca34dfa397db' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_69"
  },
  {
    "no": "5498",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "9/26/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'd2f8c6ac-ebde-41c7-a0d8-ca34dfa397db' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'd2f8c6ac-ebde-41c7-a0d8-ca34dfa397db' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_70"
  },
  {
    "no": "5569",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "10/23/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_71"
  },
  {
    "no": "5571",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "10/23/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_72"
  },
  {
    "no": "5575",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "10/24/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_73"
  },
  {
    "no": "5588",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "10/31/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_74"
  },
  {
    "no": "5590",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "10/31/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'b57f69a7-bcb5-41bd-8025-b5700b5b40d5' AND o.type = 'SMALL_SHOP_GROUP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'b57f69a7-bcb5-41bd-8025-b5700b5b40d5' AND o.type = 'SMALL_SHOP_GROUP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_75"
  },
  {
    "no": "5591",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "10/31/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'b57f69a7-bcb5-41bd-8025-b5700b5b40d5' AND o.type = 'BIG_SHOP_GROUP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'b57f69a7-bcb5-41bd-8025-b5700b5b40d5' AND o.type = 'BIG_SHOP_GROUP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_76"
  },
  {
    "no": "5593",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "10/31/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'dcdaf32b-1480-4f98-9816-f35b349d6310' AND o.type = 'BIG_SHOP_GROUP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'dcdaf32b-1480-4f98-9816-f35b349d6310' AND o.type = 'BIG_SHOP_GROUP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_77"
  },
  {
    "no": "5594",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "10/31/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'b57f69a7-bcb5-41bd-8025-b5700b5b40d5' AND o.type = 'SMALL_SHOP_GROUP' AND o.name LIKE '%SmartCheck%' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'b57f69a7-bcb5-41bd-8025-b5700b5b40d5' AND o.type = 'SMALL_SHOP_GROUP' AND o.name LIKE '%SmartCheck%' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q8_78"
  },
  {
    "no": "5595",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "10/31/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'b57f69a7-bcb5-41bd-8025-b5700b5b40d5' AND o.type = 'SMALL_SHOP_GROUP' AND o.name LIKE '%SmartCheck%' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'b57f69a7-bcb5-41bd-8025-b5700b5b40d5' AND o.type = 'SMALL_SHOP_GROUP' AND o.name LIKE '%SmartCheck%' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_79"
  },
  {
    "no": "5598",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "10/31/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_80"
  },
  {
    "no": "5599",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "10/31/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND o.type = 'SMALL_SHOP_GROUP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND o.type = 'SMALL_SHOP_GROUP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_81"
  },
  {
    "no": "5600",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "10/31/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND o.type = 'BIG_SHOP_GROUP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND o.type = 'BIG_SHOP_GROUP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_82"
  },
  {
    "no": "5609",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "11/5/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_83"
  },
  {
    "no": "5611",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "11/5/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_84"
  },
  {
    "no": "5612",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "11/5/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 100",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 100",
    "queryAlias": "Q8_85"
  },
  {
    "no": "5625",
    "queryPattern": "Q8",
    "name": "Usage Aggregate Json byOrganizationSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateJson-function",
    "functionName": "byOrganizationSql",
    "isMatching": "1",
    "timestamp": "11/11/2024",
    "shortSQL": "_SAME_ WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "fullSQL": "SELECT o.resourceId AS \"組織ID\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"自拠点発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l JOIN organization_closure oc ON oc.parentId = o.resourceId AND l.organizationId = oc.childId WHERE l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'used' ) AS \"自店舗消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND o.type = 'SHOP' ORDER BY o.name, o.resourceId LIMIT 100 OFFSET 0",
    "queryAlias": "Q8_86"
  },
  {
    "no": "5849",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/4da9b6c6-0239-4900-a4c1-a9031adda551/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_1"
  },
  {
    "no": "5850",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponCode LIKE '%022956007%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' AND l.couponCode LIKE '%022956007%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/09abebbd-c921-4dec-8639-07ecee82f78a/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_2"
  },
  {
    "no": "5851",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/0d0a3e7b-4764-439c-82d4-1789e8c307fc/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_3"
  },
  {
    "no": "5852",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "6/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '77d5a94c-249e-4a2e-b7eb-b13bb418733b' AND l.couponName LIKE '%商品A コード入力%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '77d5a94c-249e-4a2e-b7eb-b13bb418733b' AND l.couponName LIKE '%商品A コード入力%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/426d2fc6-26c1-4196-9ab0-48f56af7ca11/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_4"
  },
  {
    "no": "5853",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "7/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/6e7a9534-a97a-41aa-a12b-1d2e8593112c/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_5"
  },
  {
    "no": "5855",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "7/19/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/06dc1ad3-a8b2-401d-90b1-9a6845b56379/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_6"
  },
  {
    "no": "5857",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "7/19/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/b74e4a50-6590-4ee9-820c-2c6a647f15ec/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_7"
  },
  {
    "no": "5858",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "7/21/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/6acf6dc1-500c-4ecf-8f84-57b517c5fa22/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_8"
  },
  {
    "no": "5860",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "7/24/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponCode LIKE '%gogoSINGLE5%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponCode LIKE '%gogoSINGLE5%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/5b425ef0-9af2-4969-a5fe-30da23a25583/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_9"
  },
  {
    "no": "5861",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "7/24/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponCode LIKE '%gogoSINGLE4%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponCode LIKE '%gogoSINGLE4%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/9dc74cde-8e86-4445-a848-c6776bbecf09/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_10"
  },
  {
    "no": "5862",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "7/24/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponCode LIKE '%gogoSINGLE3%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponCode LIKE '%gogoSINGLE3%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/6b458106-57ab-412f-ac0f-cc1317062ebc/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_11"
  },
  {
    "no": "5863",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "7/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponName LIKE '%ゴーゴーカレー%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponName LIKE '%ゴーゴーカレー%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/a2563e1f-4e33-4689-b08a-635c08ed09ed/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_12"
  },
  {
    "no": "5864",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "7/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/e28a7cb9-bbae-4e3b-927e-78a58dc30d80/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_13"
  },
  {
    "no": "5865",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "7/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponName LIKE '%ゴーゴーカレー%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponName LIKE '%ゴーゴーカレー%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/16a536a3-0f08-43f8-b04f-22a7f85de023/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_14"
  },
  {
    "no": "5866",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/2a185665-d95e-411a-9338-e1ae6eff22a6/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_15"
  },
  {
    "no": "5867",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/3ff9cc08-d182-40c7-a1cd-08f764d1eab6/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_16"
  },
  {
    "no": "5869",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/7a8210d3-250b-4464-b75c-aa9368f000df/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_17"
  },
  {
    "no": "5870",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/0f46afff-1e9e-45d1-864b-746efc6563b8/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_18"
  },
  {
    "no": "5871",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "8/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' AND l.couponCode LIKE '%0001%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/f5508989-11b6-4f5b-afb2-aaf70dad82b6/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_19"
  },
  {
    "no": "5872",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "8/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/14967b59-0df9-45d8-b8ff-2a0ba73c8f60/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_20"
  },
  {
    "no": "5873",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "8/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/b6420a68-c580-408e-a083-0db389e642c0/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_21"
  },
  {
    "no": "5874",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "8/4/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd4e3ccff-215e-4bf3-b85b-d120b1e75278' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd4e3ccff-215e-4bf3-b85b-d120b1e75278' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/a77ca1d5-3a86-4c88-a219-93c1f29fdc9b/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_22"
  },
  {
    "no": "5875",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "8/8/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1012%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1012%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/0615177b-d18b-4181-a194-86139f996d94/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_23"
  },
  {
    "no": "5876",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "8/8/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1012%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC1012%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/9ff5d04f-323d-460f-af81-59e62fc7a16e/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_24"
  },
  {
    "no": "5877",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "9/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/20e0ac00-4ea5-48fd-a892-6cfbc52b1200/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_25"
  },
  {
    "no": "5878",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "9/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/0de71884-8c2e-4665-806c-5da47c789880/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_26"
  },
  {
    "no": "5879",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "9/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponCode LIKE '%gogoSINGLE5%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponCode LIKE '%gogoSINGLE5%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/92e162b1-287d-487e-8d5a-7dec71196cdd/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_27"
  },
  {
    "no": "5880",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "9/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponCode LIKE '%gogoSINGLE4%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponCode LIKE '%gogoSINGLE4%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/8e0b847d-8742-4604-9d4e-fc3ad8a5dad2/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_28"
  },
  {
    "no": "5881",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "9/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponCode LIKE '%gogoSINGLE3%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponCode LIKE '%gogoSINGLE3%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/9d8f45a5-55e9-4884-9ee6-f8d2fddc404d/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_29"
  },
  {
    "no": "5882",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "9/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponCode LIKE '%gogoaiseki180%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponCode LIKE '%gogoaiseki180%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/e399eb33-7107-4597-bf12-c9e97adb3cb1/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_30"
  },
  {
    "no": "5883",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "9/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponCode LIKE '%gogoaiseki120 %' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponCode LIKE '%gogoaiseki120 %' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/be46ce0a-06a0-4b97-8853-b3eb2fb98b59/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_31"
  },
  {
    "no": "5884",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "9/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponCode LIKE '%gogoaiseki120 %' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' AND l.couponCode LIKE '%gogoaiseki120 %' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/ddac33e8-654a-4c3e-8f67-f622fccf7975/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_32"
  },
  {
    "no": "5885",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "9/25/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/87a53d28-5d15-4249-a10a-c8d94677140f/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_33"
  },
  {
    "no": "5886",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "9/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/4be71ca7-9c43-48d9-b9f2-358658c7cd06/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_34"
  },
  {
    "no": "5887",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "9/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/f7f68bf7-a121-439e-9d95-45d574bd5d1b/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_35"
  },
  {
    "no": "5888",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/e39a51fc-ddb1-440a-ad53-a5663789788f/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_36"
  },
  {
    "no": "5889",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/4/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/881fe144-dae4-445f-899a-ee8d3bc98b42/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_37"
  },
  {
    "no": "5890",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/5/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\\\_2309】%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\\\_2309】%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/f9c193c1-bc5f-4ce0-9507-0cca7b6a89c4/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_38"
  },
  {
    "no": "5891",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/5/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/dbb72a67-6928-4ee0-8d5a-72c6ac5be775/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_39"
  },
  {
    "no": "5892",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/8a377f14-7797-4592-94ef-d6fc8a71dcca/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_40"
  },
  {
    "no": "5893",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/80eacd65-41b5-4bf5-bec4-be6da94a5ca7/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_41"
  },
  {
    "no": "5894",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/7/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/275c38bf-38f1-4ba7-8fe8-372d32b0bd79/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_42"
  },
  {
    "no": "5895",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/9/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/ab664e80-e9ed-4766-ac5e-560a6b6316e9/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_43"
  },
  {
    "no": "5896",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン【サンプル】%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン【サンプル】%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/71e8b2d2-dbe7-44fb-822d-e0e43f524068/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_44"
  },
  {
    "no": "5897",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン【サンプル】%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン【サンプル】%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/b1ae8b91-de00-4bb1-9fbd-136517153e9f/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_45"
  },
  {
    "no": "5898",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND o.name LIKE '%kobeseikyo%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND o.name LIKE '%kobeseikyo%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/adc532d3-040d-46be-a501-fbba951e70a3/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_46"
  },
  {
    "no": "5899",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/13/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/78483a4b-f4b6-4f60-bc4f-e8c86af69a62/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_47"
  },
  {
    "no": "5900",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/13/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/1718eae0-73c7-411b-be86-192eaec4f543/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_48"
  },
  {
    "no": "5901",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/15/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '228575b5-1bc6-4eaa-917b-10fc52a11fb9' AND l.couponName LIKE '%200%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/cf33d983-d669-4a6a-8927-2de27ad775a9/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_49"
  },
  {
    "no": "5902",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/17/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/6c3369d0-ed83-48d1-a8ea-1f3a6f8b38c8/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_50"
  },
  {
    "no": "5903",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/18/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponCode LIKE '%fruitcoupon-kta-2023-10%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponCode LIKE '%fruitcoupon-kta-2023-10%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/fc1de867-5a81-447a-97a8-4f301213434c/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_51"
  },
  {
    "no": "5904",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/20/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/557fc0b6-46eb-4d0c-a194-f4ef0fb1586d/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_52"
  },
  {
    "no": "5905",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/8c58ca1a-8438-4e9c-aad4-db7042ab65d2/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_53"
  },
  {
    "no": "5906",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/30/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/546a130f-ef48-4795-b9e2-20090b084fac/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_54"
  },
  {
    "no": "5907",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/30/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/81b4dc15-39c6-43c9-8584-1417bc4d4ee7/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_55"
  },
  {
    "no": "5908",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/d54118f3-02aa-4640-883f-f2e183ffa2e9/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_56"
  },
  {
    "no": "5909",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/c248b886-90a0-4177-94f8-f2076d12acf8/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_57"
  },
  {
    "no": "5910",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン 100円券\\\\_1\\\\_2311%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン 100円券\\\\_1\\\\_2311%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/86973fd7-0637-4b4e-958b-b11fdb454cb3/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_58"
  },
  {
    "no": "5911",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン 50円券\\\\_2\\\\_2311%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%壱番屋アンケートクーポン 50円券\\\\_2\\\\_2311%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/353e1789-2daa-4ce6-8cb9-6aa77837b35c/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_59"
  },
  {
    "no": "5912",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/b3763083-8eb2-443c-ab7b-78a66fff9f8e/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_60"
  },
  {
    "no": "5913",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/54bddb2d-0b61-421c-a408-c48468041f83/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_61"
  },
  {
    "no": "5914",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/9/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/f7377481-2b85-4d59-a2d5-cbb016c13af7/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_62"
  },
  {
    "no": "5915",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/9/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/36f7c1a3-5fb1-4762-940e-752073ebf9b8/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_63"
  },
  {
    "no": "5916",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/10/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/20674157-9833-4119-9477-2314e519a587/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_64"
  },
  {
    "no": "5918",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/17/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/661e0e6d-b8f9-4f44-be33-4b136c159fa5/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_65"
  },
  {
    "no": "5919",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/21/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/71a4fd80-711a-4df1-8887-a271dbdd2927/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_66"
  },
  {
    "no": "5920",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/22/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/7a8e0f10-8f12-4690-a3c7-537b0d90353a/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_67"
  },
  {
    "no": "5921",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/23/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/2d337a53-f15d-4a6e-843c-e3e7fb01c82b/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_68"
  },
  {
    "no": "5922",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/24/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/6727b31d-b258-4585-9594-efa2e948edc6/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_69"
  },
  {
    "no": "5923",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/24/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/2710fb5e-b2de-4b03-96dc-38e6441a6cdc/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_70"
  },
  {
    "no": "5924",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/25/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/7bd02776-faad-412f-b897-4408ad8d2922/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_71"
  },
  {
    "no": "5925",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/cc741b7f-1d90-4e82-ab80-55a8b05d6005/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_72"
  },
  {
    "no": "5927",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/dda87929-9091-475c-8e9c-e27ba399a7de/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_73"
  },
  {
    "no": "5931",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/27/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/a2e88e33-307a-4fed-9d62-b8882722e73e/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_74"
  },
  {
    "no": "5933",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/13765d59-64ed-4806-9dba-c855db8935c7/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_75"
  },
  {
    "no": "5934",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/ed94cca0-fdc2-420c-a718-b0e1822b979f/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_76"
  },
  {
    "no": "5935",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/8d00bd5b-04b2-4e31-91b8-76e8c3940eee/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_77"
  },
  {
    "no": "5937",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' AND l.couponName LIKE '%京たんごフルーツキャンペーン%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/94ad0993-f499-4657-bfa5-fdeecf01592c/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_78"
  },
  {
    "no": "5939",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/29/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/76ab98d2-4f7a-4d69-b582-16e4feae5411/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_79"
  },
  {
    "no": "5940",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/30/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/7252c5b8-2e78-48ee-8652-cef8ad622aaf/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_80"
  },
  {
    "no": "5941",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/e2cd4713-7422-423d-a76d-e6629ca9db0b/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_81"
  },
  {
    "no": "5942",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/fca5fb1e-a63e-449f-8a03-b978a76cb465/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_82"
  },
  {
    "no": "5943",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/f686b65a-cceb-4c5f-b05d-07e2d8e7bdbd/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_83"
  },
  {
    "no": "5944",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/1/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/d98def0e-5a66-418c-9414-f452abb83bdf/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_84"
  },
  {
    "no": "5945",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/2/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/17ff72d2-12fa-413e-a600-8caf95631252/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_85"
  },
  {
    "no": "5946",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/92a4457f-de25-45c5-88cc-f720f432c142/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_86"
  },
  {
    "no": "5947",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/4d5e6ee8-a6de-4c92-a59d-990caac144a3/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_87"
  },
  {
    "no": "5948",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/7554b17c-7910-45bb-83bf-b7fe3881839e/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_88"
  },
  {
    "no": "5949",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%東京1010%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%東京1010%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/d87f3fd7-ecd0-4bd3-b619-41f7d2286814/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_89"
  },
  {
    "no": "5950",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/3/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/88c7e07b-826c-4f18-8b92-851ba18b77a7/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_90"
  },
  {
    "no": "5951",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/4/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/d9a5a04f-ed09-4525-962f-f2d9f4592114/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_91"
  },
  {
    "no": "5952",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/5/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/de547c5f-700b-4378-aa6e-cc67b7e5bd45/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_92"
  },
  {
    "no": "5953",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/6/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/01d0c2c2-4491-45ed-a237-a280b5cb178c/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_93"
  },
  {
    "no": "5954",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/7/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/b3a47ffe-eff2-4834-9c21-a62b4b630fcc/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_94"
  },
  {
    "no": "5955",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/8/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/8a007239-43fa-470f-8d1f-96dee1de446e/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_95"
  },
  {
    "no": "5956",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/8/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/9f64a4b1-0b4d-43b9-a30b-f8ec4564c1e5/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_96"
  },
  {
    "no": "5957",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/8/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/331f6817-257c-4ecb-8a89-74f83fee5ec1/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_97"
  },
  {
    "no": "5958",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/9/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/41cda8b9-49e0-496d-857f-957e2f7c3204/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_98"
  },
  {
    "no": "5959",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/10/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/9ed0b75d-5837-4fb5-a7fa-243de9659ada/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_99"
  },
  {
    "no": "5960",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/10/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponName LIKE '%帰ってきた%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/c33c98da-1afe-488f-bba9-812a8d5da75c/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_100"
  },
  {
    "no": "5961",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/08495cb0-eaed-4782-b7e2-c99d94353692/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_101"
  },
  {
    "no": "5962",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/ea0de1af-2394-46d0-b53d-1e3f4862aea5/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_102"
  },
  {
    "no": "5963",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\\\_23010%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponName LIKE '%【本番\\\\_23010%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/9926c7ec-833c-4c8a-9c2e-e33a608ed53c/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_103"
  },
  {
    "no": "5964",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/11/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/c1b82baa-2170-4cca-b22c-68162305cac6/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_104"
  },
  {
    "no": "5965",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/6c997fc1-be03-4d50-a9c4-e8b59bda7080/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_105"
  },
  {
    "no": "5966",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/4f25d925-b7d6-4f76-a7e2-8b823eebb7d2/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_106"
  },
  {
    "no": "5967",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichi%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichi%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/3fec7427-a9b2-4e3e-9d7b-12516ccac8ed/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_107"
  },
  {
    "no": "5968",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichi%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichi%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/e4b034b1-956f-4996-919a-a2e8c0377a7b/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_108"
  },
  {
    "no": "5969",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichi%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichi%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/9c043ef8-e9bf-493c-abfd-384cb9c29d2b/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_109"
  },
  {
    "no": "5970",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichi%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichi%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/10551ee8-ad63-49ef-a34b-19efab4880a0/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_110"
  },
  {
    "no": "5971",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%ji%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%ji%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/a4cba85f-0c41-48aa-a384-0ae1617d6d10/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_111"
  },
  {
    "no": "5972",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichi%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichi%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/f7c0f1a7-3430-43ca-aa26-f75fa5bc4b3f/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_112"
  },
  {
    "no": "5973",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/12/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd4e3ccff-215e-4bf3-b85b-d120b1e75278' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd4e3ccff-215e-4bf3-b85b-d120b1e75278' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/ff736176-63f6-4aa6-b6b0-7bed9809999b/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_113"
  },
  {
    "no": "5974",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/13/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/4821c8f1-5bd6-4d54-be2e-84886ad7ef42/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_114"
  },
  {
    "no": "5975",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/14/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/e3874ed0-514e-466a-bfcf-307438af4511/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_115"
  },
  {
    "no": "5976",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/15/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/35153619-db43-44fe-a0d0-767c9d55fc00/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_116"
  },
  {
    "no": "5977",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/15/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/9ca599a3-1c03-4b96-bddc-f6f102f89f35/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_117"
  },
  {
    "no": "5978",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/15/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/29815bf5-c0aa-445e-b99d-c3d480cd555f/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_118"
  },
  {
    "no": "5979",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/16/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/7df14682-e38b-4805-9eb3-8c2e696a7337/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_119"
  },
  {
    "no": "5980",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/16/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/f0162291-0869-41b7-b09f-56f905b5dcbe/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_120"
  },
  {
    "no": "5981",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/17/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/f8434020-cbde-481b-9d56-343bead0976a/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_121"
  },
  {
    "no": "5982",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/18/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/e7f00235-944c-4ad0-be12-cc2c1de5b911/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_122"
  },
  {
    "no": "5983",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/19/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/49213d31-27a6-4039-a559-d4bf248eeb22/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_123"
  },
  {
    "no": "5984",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/20/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/5b5b379d-da45-4c71-9f18-a0d3081eb4ba/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_124"
  },
  {
    "no": "5985",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/21/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/a8e5f77a-2708-40f3-b6a4-9401d3e008ae/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_125"
  },
  {
    "no": "5986",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/22/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/7951d180-f9aa-4959-b073-3321cb6934c1/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_126"
  },
  {
    "no": "5987",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/22/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/d03a2a3d-38cd-4670-b7bf-6389ed12750d/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_127"
  },
  {
    "no": "5988",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/22/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/8c1e926d-7bcf-4a11-97a1-2014d3194a49/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_128"
  },
  {
    "no": "5989",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/22/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/eae2b012-0667-455b-ab83-56f7f0476aa0/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_129"
  },
  {
    "no": "5990",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/23/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/f6487737-34e1-45d8-9082-1c8a611138cd/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_130"
  },
  {
    "no": "5991",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/23/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/973221c9-253f-40aa-9d82-a90da71e94b5/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_131"
  },
  {
    "no": "5992",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/23/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/339cd040-2169-40e3-8eb2-7d76986798fd/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_132"
  },
  {
    "no": "5993",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/23/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/2bc0cec7-51b2-4d16-8d68-c4b309b9f7b1/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_133"
  },
  {
    "no": "5994",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/23/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/d120c278-2244-4511-b695-cb0d8b6f5cc7/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_134"
  },
  {
    "no": "5995",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/23/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/ab0f0de8-671a-4927-b394-4161adb59171/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_135"
  },
  {
    "no": "5996",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/23/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/aec91681-a2c2-4ef0-b318-d1e3b75139d6/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_136"
  },
  {
    "no": "5997",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/24/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/2c4ec220-990b-4d8c-9c6c-93f11cc4c759/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_137"
  },
  {
    "no": "5998",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/25/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/3bd4f433-c4c6-49fd-89b2-4df3eb201550/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_138"
  },
  {
    "no": "5999",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/26/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/9a2b3fe4-9fee-4f29-b299-51427d4d0bf0/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_139"
  },
  {
    "no": "6000",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2312%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2312%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/0e63c6a0-3969-415a-8dd0-3bfa63b199e4/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_140"
  },
  {
    "no": "6001",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2401%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2401%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/35d70299-ceac-4402-ac51-02a660806391/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_141"
  },
  {
    "no": "6002",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/28/2023",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2401%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2401%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/e6ce0476-f2a8-4872-9d01-42daa07493a5/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_142"
  },
  {
    "no": "6003",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/9a8d9f49-963e-4147-8762-861421c032af/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_143"
  },
  {
    "no": "6004",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/c58bb15b-fa25-4506-80a0-ce9fef28d31c/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_144"
  },
  {
    "no": "6005",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2312%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2312%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/af197c6b-4c49-44ab-b293-c99bde0bbd3e/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_145"
  },
  {
    "no": "6006",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "1/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/762b0d70-659f-496b-8c24-c104b64201f5/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_146"
  },
  {
    "no": "6007",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "1/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/59933021-6001-4104-bd5f-cd080d2425f3/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_147"
  },
  {
    "no": "6008",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "1/12/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/ba4ddebc-d3f0-4128-b762-4d0a952bd434/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_148"
  },
  {
    "no": "6009",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "1/12/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/b9360d97-f2eb-4ae6-b951-4ebcec8da360/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_149"
  },
  {
    "no": "6010",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "1/17/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/b04d27fb-2588-4a6b-86f7-dbc76744369d/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_150"
  },
  {
    "no": "6011",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "1/17/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/1476ec3a-a91d-48a7-ab79-37c604418cc8/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_151"
  },
  {
    "no": "6012",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "1/19/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2401%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2401%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/574b3b1d-3372-4aba-9a73-f6e954929515/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_152"
  },
  {
    "no": "6013",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "1/26/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2401%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2401%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/64b0aa3c-b04e-4fcd-a0e4-b3c92b64c01f/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_153"
  },
  {
    "no": "6014",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "1/26/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2402%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2402%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/f36d730c-e4fb-4ea9-9695-7887d460f78a/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_154"
  },
  {
    "no": "6015",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "1/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/4a879612-0975-4d7f-8280-ae20f424d504/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_155"
  },
  {
    "no": "6016",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "1/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'be6821fa-6ac1-478c-a356-64d24a317a63' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/c213a257-2d76-45b1-b106-f9df8aeb87b7/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_156"
  },
  {
    "no": "6017",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "1/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230801-31-kaunseringu%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' AND l.couponCode LIKE '%20230801-31-kaunseringu%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/17b0eaa1-9726-4e47-8545-8dccc4fddd9a/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_157"
  },
  {
    "no": "6018",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "2/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/40718bc8-3dca-4ceb-a250-b58acdd09e25/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_158"
  },
  {
    "no": "6019",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "2/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/4f6e5e5a-65c4-4b9d-913f-993b3d2839f5/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_159"
  },
  {
    "no": "6020",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "2/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/c846a9ec-f8e6-4bf5-8fa4-c9ecb1c70a70/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_160"
  },
  {
    "no": "6021",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "2/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2402%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%2402%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/bda1828e-30b3-4645-95af-8fc28851668a/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_161"
  },
  {
    "no": "6022",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "2/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%029308%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponCode LIKE '%029308%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/63747f6e-622f-40ee-b4d6-20cf7b3c0377/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_162"
  },
  {
    "no": "6024",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "2/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/fcf13836-b923-4bbf-a08e-3b3ad44a8cae/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_163"
  },
  {
    "no": "6025",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "2/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/1dde06fa-124c-4d48-8634-e05345cc7a3c/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_164"
  },
  {
    "no": "6026",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "2/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/f1587821-76e1-4c39-a01c-9dc9b29611b0/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_165"
  },
  {
    "no": "6027",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "2/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/d92e892d-ce1c-441e-baf4-bf4e7f69854d/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_166"
  },
  {
    "no": "6028",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "2/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/0b606eb3-8966-4c16-8ba6-c93cfd95fbe7/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_167"
  },
  {
    "no": "6029",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "2/23/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'c5ac151d-f0ca-428d-93a0-dba919145c60' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/0feff883-6359-4805-b518-5efcb1eb1730/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_168"
  },
  {
    "no": "6030",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/8896f149-5133-4679-bc53-6fa74f19d355/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_169"
  },
  {
    "no": "6031",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/5f884861-7fc3-4eed-9c6f-d5c63e00b5fe/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_170"
  },
  {
    "no": "6032",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "3/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/78585734-a878-4b6a-8043-9fdddd3b991a/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_171"
  },
  {
    "no": "6033",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "3/8/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/5f4c937b-1fb0-489c-9da5-6d452317d388/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_172"
  },
  {
    "no": "6034",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "3/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/b8fa2dd5-d61d-499f-98a6-3bb18a56babb/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_173"
  },
  {
    "no": "6035",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "3/27/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/9ac83c6d-7d1e-4f24-91b5-42ec7b004e23/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_174"
  },
  {
    "no": "6036",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "4/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/4eb6d4c9-26ee-42ce-bd60-e05164912713/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_175"
  },
  {
    "no": "6037",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "4/4/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '743dbbdd-71bc-4ce1-a8d0-744ac1213ecb' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/a1a97589-3554-49fc-8d4c-d2221f565b7e/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_176"
  },
  {
    "no": "6038",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "4/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/606bb10f-8e71-43e7-9a82-a99becd0a7ed/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_177"
  },
  {
    "no": "6039",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "4/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/4b3dc73f-5a9b-435e-a9b5-90f0391b2fc3/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_178"
  },
  {
    "no": "6040",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "4/11/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeonzannen%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' AND l.couponCode LIKE '%aeonzannen%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/cf7bde01-ee88-4590-9c29-4d8d62291fd7/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_179"
  },
  {
    "no": "6041",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "4/12/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/4bd61eb3-07c1-4489-904c-9f4e65180a15/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_180"
  },
  {
    "no": "6043",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "4/12/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/72c723e3-7307-4a1c-8a05-34375ef79af1/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_181"
  },
  {
    "no": "6044",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "4/12/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/d991a765-5d8e-4024-80da-badf0ea5e1af/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_182"
  },
  {
    "no": "6045",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "4/12/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '1673ced4-18f3-449a-a621-160b3f678499' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/1db1a84a-c51f-4aa4-95a9-d98523748634/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_183"
  },
  {
    "no": "6046",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/9c4da17f-731e-4d00-b1f9-0b22973dbcb1/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_184"
  },
  {
    "no": "6047",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/48f86122-3930-45e9-b26b-f268b555a862/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_185"
  },
  {
    "no": "6048",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/2f5c337b-0cb4-49af-b057-db6faab5f68e/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_186"
  },
  {
    "no": "6049",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/40df404e-f214-43e9-883d-6320a38e8a60/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_187"
  },
  {
    "no": "6050",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/a1eb8ce3-ed76-48ac-9000-502d41733094/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_188"
  },
  {
    "no": "6051",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'd634f7c1-f232-4abc-b4dc-5a7c8dbbca6e' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/8b399454-5caa-4064-86e9-b633816c9c5e/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_189"
  },
  {
    "no": "6052",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "5/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/a3348357-d4c9-4eb8-8590-df387bc399a7/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_190"
  },
  {
    "no": "6053",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "5/7/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/65f8c38b-2fe4-4149-9fb3-050c0f040b41/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_191"
  },
  {
    "no": "6054",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "5/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/b5a84bf1-d378-41a6-897f-05858cbb6c9d/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_192"
  },
  {
    "no": "6055",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "5/17/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/0b400d8b-5bce-4973-bc21-2ab1c0121060/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_193"
  },
  {
    "no": "6056",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "5/24/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/96e57bee-8b64-4a23-b36d-8250d557edbe/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_194"
  },
  {
    "no": "6057",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "5/28/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/93b7117d-5ada-4fb7-b540-9b58087f122c/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_195"
  },
  {
    "no": "6058",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "5/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/7953501d-3d98-4d2a-8b95-fcf98f257cc2/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_196"
  },
  {
    "no": "6059",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "5/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya-100yen-2405%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/9f16f727-243b-4568-aec4-f217fe44373b/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_197"
  },
  {
    "no": "6060",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "6/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%jichitai-sample%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/9b767096-64dc-47e8-bcc0-c566e861464d/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_198"
  },
  {
    "no": "6061",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "7/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/25713b72-adf3-4ecd-abb7-b40ba3461511/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_199"
  },
  {
    "no": "6062",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "7/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/5479f7d1-8592-4f8f-9eeb-ebe8842c60b8/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_200"
  },
  {
    "no": "6063",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "7/11/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/c440ac93-cc1a-400e-857c-afc70f61c267/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_201"
  },
  {
    "no": "6064",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "7/12/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/fc673a07-0768-4005-b7a0-e6ee7db6f700/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_202"
  },
  {
    "no": "6067",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "7/26/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/7db082dd-7046-4027-b5ec-3c6fb2b4c718/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_203"
  },
  {
    "no": "6068",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "7/26/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/5c5f1a02-bce0-4068-93c5-701f18c3145b/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_204"
  },
  {
    "no": "6069",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "7/26/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '153d75fa-61f1-4ea0-bd73-33ad14b99c87' AND l.couponName LIKE '%KC1094%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/9d95c4c4-bc77-4ddd-b650-a8c973cadd62/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_205"
  },
  {
    "no": "6070",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "7/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%KC103%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%KC103%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/18797882-1e18-48f6-9d1a-f00fc9d62d84/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_206"
  },
  {
    "no": "6071",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "7/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC103%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponName LIKE '%KC103%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/9be41e1a-6097-490e-86a9-e394f1c5d58b/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_207"
  },
  {
    "no": "6072",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "7/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%030038007%' AND l.couponName LIKE '%KC1032%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e20e5fa3-b373-4f1b-b175-4f66fda2be78' AND l.couponCode LIKE '%030038007%' AND l.couponName LIKE '%KC1032%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/853b390e-fcb0-4255-b5dc-410d4e34cc61/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_208"
  },
  {
    "no": "6073",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "8/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/e7c9aca9-1c36-4197-81a6-a5362d00a508/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_209"
  },
  {
    "no": "6074",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "8/15/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%art-ishigakijima-samplecoupon1%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' AND l.couponCode LIKE '%art-ishigakijima-samplecoupon1%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/37a82985-1ccc-48b6-98ae-b9916f8375ed/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_210"
  },
  {
    "no": "6075",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "8/27/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/6e448495-ee76-4156-b821-be379ed671a7/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_211"
  },
  {
    "no": "6076",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "8/27/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/21e1fc86-6d37-40d2-bc8b-dca157c3c3d4/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_212"
  },
  {
    "no": "6077",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "8/27/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'df79441a-ee1c-4efd-ade7-794b40c574f5' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'df79441a-ee1c-4efd-ade7-794b40c574f5' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/c9ce5122-3f8a-4e12-96c1-eba3a3b943e6/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_213"
  },
  {
    "no": "6078",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "8/27/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'df79441a-ee1c-4efd-ade7-794b40c574f5' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'df79441a-ee1c-4efd-ade7-794b40c574f5' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/5d27a658-fbd2-4e67-bcfd-c3f14dfc439c/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_214"
  },
  {
    "no": "6079",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "8/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/81c15330-82e2-4e0c-88b6-fff3ced580e9/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_215"
  },
  {
    "no": "6080",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "8/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/c06f8a8e-a5ce-4e3d-950f-287cf95f1e40/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_216"
  },
  {
    "no": "6082",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "9/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/83605c7b-96fe-4f1f-bad8-91c8aae187df/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_217"
  },
  {
    "no": "6088",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "9/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND l.couponCode LIKE '%121212%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' AND l.couponCode LIKE '%121212%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/42d84b15-d9eb-45a0-a5b1-dbbacf04f1ba/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_218"
  },
  {
    "no": "6090",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/a8750b6c-e125-4f08-bf17-4f2750db3bc3/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_219"
  },
  {
    "no": "6091",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'df79441a-ee1c-4efd-ade7-794b40c574f5' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'df79441a-ee1c-4efd-ade7-794b40c574f5' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/7b11d791-6297-4a52-941f-cd7afebf1084/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_220"
  },
  {
    "no": "6092",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/599a6189-f78e-472f-9803-8f2643893e74/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_221"
  },
  {
    "no": "6093",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/c76336e7-1d75-4c39-b8dc-e3918d855a93/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_222"
  },
  {
    "no": "6094",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/7/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/39d377ca-207c-457b-951a-8e09e81adf62/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_223"
  },
  {
    "no": "6095",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/7/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/b21d523f-44f1-47f6-ae17-662e0a7a6a39/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_224"
  },
  {
    "no": "6096",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/7/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/cd12a569-0d68-42c1-b443-2ddeeb13eca4/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_225"
  },
  {
    "no": "6097",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/8/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/cf61201a-c2a2-4ac8-83df-9b019e931772/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_226"
  },
  {
    "no": "6098",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/8/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/a3607fec-8746-4e2f-bb81-b900fdd62f8c/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_227"
  },
  {
    "no": "6099",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/07dbda08-6125-4a43-bac7-2bf3f969af4c/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_228"
  },
  {
    "no": "6100",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/23583a16-0061-4f4d-ba3d-7f4948179344/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_229"
  },
  {
    "no": "6101",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/da7586c0-5167-4ef9-88de-aadd1f8602b4/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_230"
  },
  {
    "no": "6102",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/f027938d-331f-42a7-bd9b-de3afd5e9a55/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_231"
  },
  {
    "no": "6103",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/0e1783a7-fddd-4767-b2e0-d37930c421c8/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_232"
  },
  {
    "no": "6104",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/11/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/19c33f25-f622-4c6f-81a0-58ca51b517ae/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_233"
  },
  {
    "no": "6105",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/11/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/8a4fad33-acf5-47b7-a25f-95bed57c7c9d/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_234"
  },
  {
    "no": "6106",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/15/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/72ca19a6-d7a6-467b-b338-d4ff0d72072d/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_235"
  },
  {
    "no": "6107",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/15/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/ca7693ac-84c5-4c5b-b340-a11c037860da/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_236"
  },
  {
    "no": "6108",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/15/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/14929483-f425-460c-83e5-e4f4e40e497a/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_237"
  },
  {
    "no": "6109",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/16/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/6e61abfe-8ee3-4bbf-8742-156e1149b40c/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_238"
  },
  {
    "no": "6110",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/17/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/0d36aa4a-dace-4f50-946b-f2330e49aa89/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_239"
  },
  {
    "no": "6111",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/18/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/d7508fac-73e6-4257-9e39-2f3d3ac4647d/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_240"
  },
  {
    "no": "6112",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/18/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/f662e1b6-b81e-4fda-a757-db726a8be2a5/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_241"
  },
  {
    "no": "6113",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/21/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/c80c7e64-81d9-40da-b86d-5cc1f6afb218/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_242"
  },
  {
    "no": "6114",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/22/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/7fb34974-7159-419e-b49b-b2d96373f153/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_243"
  },
  {
    "no": "6115",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/23/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/768c46cc-21b1-4aaa-a740-ff312927ab97/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_244"
  },
  {
    "no": "6116",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/23/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/ddae8e7d-8e1c-4f73-9933-42a218c0c8fe/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_245"
  },
  {
    "no": "6117",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/23/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/4c7e314e-57c0-47af-be0b-f8f6847e20bd/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_246"
  },
  {
    "no": "6118",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/24/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/35b421ea-271e-48e7-b6de-23c13610d724/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_247"
  },
  {
    "no": "6119",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/827d0494-9b75-4da4-9558-b2753112855a/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_248"
  },
  {
    "no": "6120",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/9c542576-4ffa-4187-a81a-b956d1c5a33b/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_249"
  },
  {
    "no": "6121",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%Ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%Ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/36fdd7fa-d36e-4fe3-9179-0e67f2f2c44d/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_250"
  },
  {
    "no": "6122",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/2b5d5a2e-7767-4329-878d-1cf9ac6e0c6c/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_251"
  },
  {
    "no": "6123",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/28/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/e5c3adfa-de26-4972-a853-4019e26c445b/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_252"
  },
  {
    "no": "6124",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/516762b6-8279-45ef-bb12-293ad2cdcbe6/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_253"
  },
  {
    "no": "6125",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "10/30/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/459e2201-b1f1-44fe-80dd-e2844e20c4b6/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_254"
  },
  {
    "no": "6128",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/1/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/5a90d691-93b3-4dc0-8151-b6a72c345744/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_255"
  },
  {
    "no": "6129",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/913cfb8c-b44e-4aa3-a5ee-4c3e2df3106d/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_256"
  },
  {
    "no": "6130",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/6/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/7d063186-7bce-4c65-84a2-34c9a24af1e3/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_257"
  },
  {
    "no": "6131",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/6/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/693e5d05-c603-45bc-9db1-73c8234e7e99/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_258"
  },
  {
    "no": "6132",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/6/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/3ec0f997-806e-4bea-999c-2c499fe259c3/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_259"
  },
  {
    "no": "6133",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/6/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE1105%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/755d868a-fb10-4154-86fa-b1a898c7c08d/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_260"
  },
  {
    "no": "6134",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/7/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/74488c83-a5f0-4ebb-b1b4-a5249d8d5cbd/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_261"
  },
  {
    "no": "6135",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/7/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/a84339f6-831f-4ca6-84b7-9b915badeb1c/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_262"
  },
  {
    "no": "6136",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/8/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/609de23a-13c4-41dc-8958-a34ee7ee3314/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_263"
  },
  {
    "no": "6137",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/11/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/be1b42c9-a09f-4b40-86cf-b3cbd4946c55/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_264"
  },
  {
    "no": "6138",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/12/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/4b32f8c9-c7df-46ac-9f6e-39a50afc2f8e/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_265"
  },
  {
    "no": "6139",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/12/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/a5332727-eb12-4e3e-aa38-d329feadac9c/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_266"
  },
  {
    "no": "6140",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/13/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/3a8515bf-ed7a-439a-add4-cdce2610117b/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_267"
  },
  {
    "no": "6141",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/14/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' AND l.couponName LIKE '%【中島水産】専用クーポン(2024/10/15発行)%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' AND l.couponName LIKE '%【中島水産】専用クーポン(2024/10/15発行)%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/30b4d570-1914-44ee-bf23-be63d2b5495c/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_268"
  },
  {
    "no": "6142",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/14/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/46a32076-93e6-44af-a821-6cc93eae56f4/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_269"
  },
  {
    "no": "6143",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/15/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/a75f70a4-7a10-4055-b6a8-a24b2b2b01df/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_270"
  },
  {
    "no": "6144",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/15/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/b16de748-68fb-4dcd-8259-97168afbd764/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_271"
  },
  {
    "no": "6145",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/19/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/14da2371-bc9e-48f3-9239-62e003acf9ac/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_272"
  },
  {
    "no": "6146",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/19/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/04ac3083-ffb6-4eae-9714-73fe6688d8ba/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_273"
  },
  {
    "no": "6147",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/20/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/27aba9d6-3c32-4ff8-94dd-c15ded95933c/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_274"
  },
  {
    "no": "6148",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/20/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '4474b986-5d97-4978-a58e-696e4e38c27c' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/78a33221-4a41-4f01-85a5-6b12c66dfc53/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_275"
  },
  {
    "no": "6149",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/21/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/40a2e4e0-f014-4634-8a97-cd2662611033/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_276"
  },
  {
    "no": "6150",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/22/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/6cc0d22d-738f-423e-8708-f67f58acc3c0/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_277"
  },
  {
    "no": "6151",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/22/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/262ce766-3b76-4e70-80a3-479751642bc6/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_278"
  },
  {
    "no": "6152",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/b26d7163-1dd2-49ac-b4c4-455d4d82a6e4/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_279"
  },
  {
    "no": "6153",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/25/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE2coupon%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '6b8a558d-bf01-4d1a-87d8-2e7a62ae85e0' AND l.couponCode LIKE '%ACLE2coupon%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/1dc463a0-243e-44ec-ae0b-429f1db3f58f/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_280"
  },
  {
    "no": "6154",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/26/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/5488c41e-6c68-4c4d-a818-2f79030552be/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_281"
  },
  {
    "no": "6155",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/27/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/558ac29e-852c-4aeb-aed2-bed9b92e33a4/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_282"
  },
  {
    "no": "6156",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/28/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/5ac0cfa4-d74f-4321-9be4-c8ff49703d4a/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_283"
  },
  {
    "no": "6157",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/28/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/7b99878d-31fe-456f-8e42-02407e59010d/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_284"
  },
  {
    "no": "6158",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/22906843-f1c0-4e9d-b5f9-7d75ab73ea27/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_285"
  },
  {
    "no": "6159",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "11/29/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/903521c7-8244-4e89-9a4b-af7b1c8c2fe5/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_286"
  },
  {
    "no": "6160",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/2/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/3c440c0f-1531-423a-9867-6eda8ba9ece7/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_287"
  },
  {
    "no": "6161",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/3/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/4bbaa9a6-e23c-4d18-8d45-a0c2274d28a1/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_288"
  },
  {
    "no": "6162",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/4/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/f6233bfa-d4dc-40d0-b83a-0630e894d709/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_289"
  },
  {
    "no": "6163",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/5/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/9fdeb359-d2a0-4550-a42d-336ebf7aed3d/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_290"
  },
  {
    "no": "6164",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/6/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/83b7605a-7993-48d2-b150-df65d765207b/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_291"
  },
  {
    "no": "6165",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/9/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/c8076ee5-035e-4f3b-9667-9578b91ec6e4/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_292"
  },
  {
    "no": "6166",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/76f4e41b-7727-492e-a827-4cf88fa3d81c/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_293"
  },
  {
    "no": "6167",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/849fb7d7-4cbf-4c01-bd89-b0c4c2169c33/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_294"
  },
  {
    "no": "6168",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/10/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' AND l.couponName LIKE '%11%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = '8219ca6d-38a1-447f-a59a-6b9cdee52985' AND l.couponCode LIKE '%ichibanya%' AND l.couponName LIKE '%11%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/a620bee7-a9f2-4b46-9021-706c112d13c1/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_295"
  },
  {
    "no": "6169",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/11/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/120549c1-145b-473b-ad2e-d1f46b0bc3b7/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_296"
  },
  {
    "no": "6170",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/12/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/ffa818fd-04cf-4cda-909d-67b287b21c1a/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_297"
  },
  {
    "no": "6171",
    "queryPattern": "Q9",
    "name": "Usage Aggregate Csv byCouponMasterSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byCouponMasterCsvSql",
    "isMatching": "1",
    "timestamp": "12/13/2024",
    "shortSQL": "_SAME_ FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY couponCode, couponName) AS \"No\", o.name AS \"組織名\", couponCode AS \"クーポンコード\", couponName AS \"クーポン名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'issued' AND l2.couponMasterId = l.couponMasterId ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'used' AND l2.couponMasterId = l.couponMasterId ) AS \"使用済数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l2 WHERE l2.type = 'canceled' AND l2.couponMasterId = l.couponMasterId ) AS \"キャンセル\"  FROM coupon_logs l JOIN ( SELECT couponMasterId, MAX(createAtMillis) AS createAtMillis FROM coupon_logs GROUP BY couponMasterId ) latest ON l.couponMasterId = latest.couponMasterId AND l.createAtMillis = latest.createAtMillis JOIN organization_closure oc ON oc.childId = l.organizationId JOIN organization o ON o.resourceId = l.organizationId WHERE oc.parentId = 'e32094fb-c933-4c35-b1db-b03faa2e2d7a' AND l.couponCode LIKE '%tokyo-sento%' ORDER BY couponCode, couponName $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/68d07f61-695f-4fc7-9d50-9a79503f8a60/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q9_298"
  },
  {
    "no": "6322",
    "queryPattern": "Q10",
    "name": "Usage Aggregate Csv byOrganizationCsvSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byOrganizationCsvSql",
    "isMatching": "1",
    "timestamp": "7/7/2023",
    "shortSQL": "_SAME_ WHERE o.type = 'SHOP' AND oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY o.name $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY o.name) AS \"No\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE o.type = 'SHOP' AND oc.parentId = 'a998e975-6bfd-40f3-8a64-4e489a6b7cc5' ORDER BY o.name $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/7a5aab76-3331-44c1-806a-ce544da6875d/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q10_1"
  },
  {
    "no": "6324",
    "queryPattern": "Q10",
    "name": "Usage Aggregate Csv byOrganizationCsvSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byOrganizationCsvSql",
    "isMatching": "1",
    "timestamp": "7/19/2023",
    "shortSQL": "_SAME_ WHERE o.type = 'SHOP' AND oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY o.name $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY o.name) AS \"No\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE o.type = 'SHOP' AND oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY o.name $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/626d4f4a-9c6e-4a5e-9ecc-af548ec2b6c3/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q10_2"
  },
  {
    "no": "6327",
    "queryPattern": "Q10",
    "name": "Usage Aggregate Csv byOrganizationCsvSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byOrganizationCsvSql",
    "isMatching": "1",
    "timestamp": "7/24/2023",
    "shortSQL": "_SAME_ WHERE o.type = 'SHOP' AND oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' ORDER BY o.name $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY o.name) AS \"No\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE o.type = 'SHOP' AND oc.parentId = 'f0e001ee-52da-42fa-8929-8227d3947a74' ORDER BY o.name $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/4daa5fae-e23e-4a2e-ac2f-67e04b1948ba/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q10_3"
  },
  {
    "no": "6336",
    "queryPattern": "Q10",
    "name": "Usage Aggregate Csv byOrganizationCsvSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byOrganizationCsvSql",
    "isMatching": "1",
    "timestamp": "8/1/2023",
    "shortSQL": "_SAME_ WHERE o.type = 'SHOP' AND oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY o.name $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY o.name) AS \"No\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE o.type = 'SHOP' AND oc.parentId = '2d604e05-5c13-423f-ae98-7f29dc5cc1cf' ORDER BY o.name $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/1aafa6f4-75b4-4d99-8e0d-0e9b5a42be1b/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q10_4"
  },
  {
    "no": "6385",
    "queryPattern": "Q10",
    "name": "Usage Aggregate Csv byOrganizationCsvSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byOrganizationCsvSql",
    "isMatching": "1",
    "timestamp": "11/14/2023",
    "shortSQL": "_SAME_ WHERE o.type = 'SHOP' AND oc.parentId = 'd4e3ccff-215e-4bf3-b85b-d120b1e75278' ORDER BY o.name $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY o.name) AS \"No\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE o.type = 'SHOP' AND oc.parentId = 'd4e3ccff-215e-4bf3-b85b-d120b1e75278' ORDER BY o.name $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/bb709c96-3939-4cdc-aeb4-50e16efa1f67/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q10_5"
  },
  {
    "no": "6394",
    "queryPattern": "Q10",
    "name": "Usage Aggregate Csv byOrganizationCsvSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byOrganizationCsvSql",
    "isMatching": "1",
    "timestamp": "11/27/2023",
    "shortSQL": "_SAME_ WHERE o.type = 'SHOP' AND oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY o.name $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY o.name) AS \"No\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE o.type = 'SHOP' AND oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY o.name $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/9123ee7f-42af-42b3-906e-1ea0ceec0988/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q10_6"
  },
  {
    "no": "6396",
    "queryPattern": "Q10",
    "name": "Usage Aggregate Csv byOrganizationCsvSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byOrganizationCsvSql",
    "isMatching": "1",
    "timestamp": "11/27/2023",
    "shortSQL": "_SAME_ WHERE o.type = 'SHOP' AND oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY o.name $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY o.name) AS \"No\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE o.type = 'SHOP' AND oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY o.name $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/98b8c169-2061-4fa6-8bad-45216501de63/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q10_7"
  },
  {
    "no": "6397",
    "queryPattern": "Q10",
    "name": "Usage Aggregate Csv byOrganizationCsvSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byOrganizationCsvSql",
    "isMatching": "1",
    "timestamp": "11/27/2023",
    "shortSQL": "_SAME_ WHERE o.type = 'SMALL_SHOP_GROUP' AND oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY o.name $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY o.name) AS \"No\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE o.type = 'SMALL_SHOP_GROUP' AND oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY o.name $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/7947a4cf-6d7e-49e3-9703-77d4fe1590fe/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q10_8"
  },
  {
    "no": "6398",
    "queryPattern": "Q10",
    "name": "Usage Aggregate Csv byOrganizationCsvSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byOrganizationCsvSql",
    "isMatching": "1",
    "timestamp": "11/27/2023",
    "shortSQL": "_SAME_ WHERE o.type = 'SHOP' AND oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY o.name $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY o.name) AS \"No\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE o.type = 'SHOP' AND oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY o.name $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/643d1f99-920e-48e5-a9f2-85a29fba48c9/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q10_9"
  },
  {
    "no": "6400",
    "queryPattern": "Q10",
    "name": "Usage Aggregate Csv byOrganizationCsvSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byOrganizationCsvSql",
    "isMatching": "1",
    "timestamp": "11/27/2023",
    "shortSQL": "_SAME_ WHERE o.type = 'SHOP' AND oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY o.name $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY o.name) AS \"No\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE o.type = 'SHOP' AND oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY o.name $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/c53ac46e-0c4c-4f64-a678-341cad4d5a73/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q10_10"
  },
  {
    "no": "6404",
    "queryPattern": "Q10",
    "name": "Usage Aggregate Csv byOrganizationCsvSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byOrganizationCsvSql",
    "isMatching": "1",
    "timestamp": "11/29/2023",
    "shortSQL": "_SAME_ WHERE o.type = 'SHOP' AND oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY o.name $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY o.name) AS \"No\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE o.type = 'SHOP' AND oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY o.name $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/59852d19-46c0-4899-8d6a-6c54d8574b95/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q10_11"
  },
  {
    "no": "6406",
    "queryPattern": "Q10",
    "name": "Usage Aggregate Csv byOrganizationCsvSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byOrganizationCsvSql",
    "isMatching": "1",
    "timestamp": "11/29/2023",
    "shortSQL": "_SAME_ WHERE o.type = 'SHOP' AND oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY o.name $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY o.name) AS \"No\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE o.type = 'SHOP' AND oc.parentId = '966b73e3-c8b2-4305-a1bc-24de6bb4748f' ORDER BY o.name $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/d653d437-467b-41eb-b41e-d2c7aa99e53d/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q10_12"
  },
  {
    "no": "6491",
    "queryPattern": "Q10",
    "name": "Usage Aggregate Csv byOrganizationCsvSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byOrganizationCsvSql",
    "isMatching": "1",
    "timestamp": "2/7/2024",
    "shortSQL": "_SAME_ WHERE o.type = 'SHOP' AND oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY o.name $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY o.name) AS \"No\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE o.type = 'SHOP' AND oc.parentId = '0a30b1f7-eabb-48f3-b70c-d10264da9e2a' ORDER BY o.name $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/72fa5163-d5a2-4886-b5b2-41c0a4f2996f/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q10_13"
  },
  {
    "no": "6510",
    "queryPattern": "Q10",
    "name": "Usage Aggregate Csv byOrganizationCsvSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byOrganizationCsvSql",
    "isMatching": "1",
    "timestamp": "4/12/2024",
    "shortSQL": "_SAME_ WHERE o.type = 'SHOP' AND oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY o.name $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY o.name) AS \"No\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE o.type = 'SHOP' AND oc.parentId = 'e99ecb04-e950-4cd3-a384-0fbaeeabd227' ORDER BY o.name $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/23cc76a5-1c04-4ed2-8c8f-145e64b5aaa8/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q10_14"
  },
  {
    "no": "6533",
    "queryPattern": "Q10",
    "name": "Usage Aggregate Csv byOrganizationCsvSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byOrganizationCsvSql",
    "isMatching": "1",
    "timestamp": "7/12/2024",
    "shortSQL": "_SAME_ WHERE o.type = 'SHOP' AND oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY o.name $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY o.name) AS \"No\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE o.type = 'SHOP' AND oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY o.name $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/11fb5920-dd80-4c01-b000-95b34e588989/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q10_15"
  },
  {
    "no": "6534",
    "queryPattern": "Q10",
    "name": "Usage Aggregate Csv byOrganizationCsvSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byOrganizationCsvSql",
    "isMatching": "1",
    "timestamp": "7/12/2024",
    "shortSQL": "_SAME_ WHERE o.type = 'SMALL_SHOP_GROUP' AND oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY o.name $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY o.name) AS \"No\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE o.type = 'SMALL_SHOP_GROUP' AND oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY o.name $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/1e771793-b2db-45f7-8b62-8e0412246130/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q10_16"
  },
  {
    "no": "6549",
    "queryPattern": "Q10",
    "name": "Usage Aggregate Csv byOrganizationCsvSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byOrganizationCsvSql",
    "isMatching": "1",
    "timestamp": "9/1/2024",
    "shortSQL": "_SAME_ WHERE o.type = 'SHOP' AND oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY o.name $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY o.name) AS \"No\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE o.type = 'SHOP' AND oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY o.name $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/307ece39-0432-408f-a261-4dd974b4e177/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q10_17"
  },
  {
    "no": "6551",
    "queryPattern": "Q10",
    "name": "Usage Aggregate Csv byOrganizationCsvSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byOrganizationCsvSql",
    "isMatching": "1",
    "timestamp": "9/2/2024",
    "shortSQL": "_SAME_ WHERE o.type = 'SHOP' AND oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY o.name $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY o.name) AS \"No\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE o.type = 'SHOP' AND oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY o.name $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/4be453df-9747-4eac-922b-3d4cc3a2d7d7/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q10_18"
  },
  {
    "no": "6552",
    "queryPattern": "Q10",
    "name": "Usage Aggregate Csv byOrganizationCsvSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byOrganizationCsvSql",
    "isMatching": "1",
    "timestamp": "9/2/2024",
    "shortSQL": "_SAME_ WHERE o.type = 'SHOP' AND oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY o.name $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY o.name) AS \"No\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE o.type = 'SHOP' AND oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY o.name $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/1010b8bc-28eb-47dd-8b96-a4c67649f0f2/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q10_19"
  },
  {
    "no": "6553",
    "queryPattern": "Q10",
    "name": "Usage Aggregate Csv byOrganizationCsvSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byOrganizationCsvSql",
    "isMatching": "1",
    "timestamp": "9/3/2024",
    "shortSQL": "_SAME_ WHERE o.type = 'SHOP' AND oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY o.name $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY o.name) AS \"No\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE o.type = 'SHOP' AND oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY o.name $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/2c07c81a-f2f2-4249-aba2-bc09aa52b293/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q10_20"
  },
  {
    "no": "6554",
    "queryPattern": "Q10",
    "name": "Usage Aggregate Csv byOrganizationCsvSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byOrganizationCsvSql",
    "isMatching": "1",
    "timestamp": "9/4/2024",
    "shortSQL": "_SAME_ WHERE o.type = 'SHOP' AND oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY o.name $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY o.name) AS \"No\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE o.type = 'SHOP' AND oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY o.name $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/b1afec81-c767-4ff4-b5a4-9c1a33862e2b/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q10_21"
  },
  {
    "no": "6555",
    "queryPattern": "Q10",
    "name": "Usage Aggregate Csv byOrganizationCsvSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byOrganizationCsvSql",
    "isMatching": "1",
    "timestamp": "9/9/2024",
    "shortSQL": "_SAME_ WHERE o.type = 'SHOP' AND oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY o.name $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY o.name) AS \"No\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE o.type = 'SHOP' AND oc.parentId = '7b012f01-1362-4f92-8cbd-83bdb69ccd28' ORDER BY o.name $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/954159c9-7f73-4b73-b8a3-16441447a3e8/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q10_22"
  },
  {
    "no": "6557",
    "queryPattern": "Q10",
    "name": "Usage Aggregate Csv byOrganizationCsvSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byOrganizationCsvSql",
    "isMatching": "1",
    "timestamp": "9/20/2024",
    "shortSQL": "_SAME_ WHERE o.type = 'SHOP' AND oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND o.name LIKE '%上野マルイ%' ORDER BY o.name $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY o.name) AS \"No\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE o.type = 'SHOP' AND oc.parentId = 'e40b822d-2c9d-4060-9a4a-e9c82cb9da98' AND o.name LIKE '%上野マルイ%' ORDER BY o.name $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/c08a0652-4a34-4126-a5c6-46d27de5f660/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q10_23"
  },
  {
    "no": "6594",
    "queryPattern": "Q10",
    "name": "Usage Aggregate Csv byOrganizationCsvSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byOrganizationCsvSql",
    "isMatching": "1",
    "timestamp": "10/31/2024",
    "shortSQL": "_SAME_ WHERE o.type = 'BIG_SHOP_GROUP' AND oc.parentId = 'dcdaf32b-1480-4f98-9816-f35b349d6310' ORDER BY o.name $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY o.name) AS \"No\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE o.type = 'BIG_SHOP_GROUP' AND oc.parentId = 'dcdaf32b-1480-4f98-9816-f35b349d6310' ORDER BY o.name $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/989f87a7-d635-4ccf-a76d-8c2886f8c7c2/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q10_24"
  },
  {
    "no": "6595",
    "queryPattern": "Q10",
    "name": "Usage Aggregate Csv byOrganizationCsvSql",
    "lambda": "prd-coupon-invokeCouponUsageAggregateCsvUrl-function",
    "functionName": "byOrganizationCsvSql",
    "isMatching": "1",
    "timestamp": "10/31/2024",
    "shortSQL": "_SAME_ WHERE o.type = 'BIG_SHOP_GROUP' AND oc.parentId = 'dcdaf32b-1480-4f98-9816-f35b349d6310' ORDER BY o.name $$) to '_S3_PATH_' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "fullSQL": "unload ($$ SELECT ROW_NUMBER() OVER(ORDER BY o.name) AS \"No\", o.name AS \"組織名\", ( SELECT COUNT(*) FROM coupon_logs_filtered l WHERE l.organizationId = o.resourceId AND l.type = 'issued' ) AS \"発行数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'used' ) AS \"消込数\", ( SELECT COUNT(*) FROM coupon_logs_filtered l, organization_closure oc WHERE oc.parentId = o.resourceId AND oc.childId = l.usedShopId AND l.type = 'canceled' ) AS \"キャンセル\"  FROM organization o JOIN organization_closure oc ON oc.childId = o.resourceId WHERE o.type = 'BIG_SHOP_GROUP' AND oc.parentId = 'dcdaf32b-1480-4f98-9816-f35b349d6310' ORDER BY o.name $$) to 's3://prd-coupon-redshift-bucket-ap-northeast-1-856562439801/2af07bf7-3779-4b34-bb99-e5df585a915d/' iam_role 'arn:aws:iam::856562439801:role/coupon-redshift-cluster-role' DELIMITER ',' ADDQUOTES HEADER PARALLEL OFF",
    "queryAlias": "Q10_25"
  }
]